{
  "address": "0x955C75341971D083b7bC133e6B379DfC3F6c972A",
  "abi": [
    {
      "inputs": [
        {
          "internalType": "address",
          "name": "user",
          "type": "address"
        },
        {
          "internalType": "address",
          "name": "provider",
          "type": "address"
        }
      ],
      "name": "AccountExists",
      "type": "error"
    },
    {
      "inputs": [
        {
          "internalType": "address",
          "name": "user",
          "type": "address"
        },
        {
          "internalType": "address",
          "name": "provider",
          "type": "address"
        }
      ],
      "name": "AccountNotExists",
      "type": "error"
    },
    {
      "inputs": [],
      "name": "AdditionalInfoTooLong",
      "type": "error"
    },
    {
      "inputs": [],
      "name": "CannotAddStakeWhenUpdating",
      "type": "error"
    },
    {
      "inputs": [
        {
          "internalType": "address",
          "name": "user",
          "type": "address"
        },
        {
          "internalType": "address",
          "name": "provider",
          "type": "address"
        },
        {
          "internalType": "uint256",
          "name": "balance",
          "type": "uint256"
        }
      ],
      "name": "CannotRevokeWithNonZeroBalance",
      "type": "error"
    },
    {
      "inputs": [
        {
          "internalType": "string",
          "name": "id",
          "type": "string"
        }
      ],
      "name": "DeliverableAlreadyExists",
      "type": "error"
    },
    {
      "inputs": [
        {
          "internalType": "uint256",
          "name": "length",
          "type": "uint256"
        }
      ],
      "name": "DeliverableIdInvalidLength",
      "type": "error"
    },
    {
      "inputs": [
        {
          "internalType": "uint256",
          "name": "length",
          "type": "uint256"
        }
      ],
      "name": "DeliverableIdTooLong",
      "type": "error"
    },
    {
      "inputs": [
        {
          "internalType": "string",
          "name": "id",
          "type": "string"
        }
      ],
      "name": "DeliverableNotExists",
      "type": "error"
    },
    {
      "inputs": [],
      "name": "DirectDepositsDisabled",
      "type": "error"
    },
    {
      "inputs": [],
      "name": "ETHTransferFailed",
      "type": "error"
    },
    {
      "inputs": [
        {
          "internalType": "uint256",
          "name": "provided",
          "type": "uint256"
        },
        {
          "internalType": "uint256",
          "name": "required",
          "type": "uint256"
        }
      ],
      "name": "InsufficientStake",
      "type": "error"
    },
    {
      "inputs": [],
      "name": "InvalidLedgerAddress",
      "type": "error"
    },
    {
      "inputs": [
        {
          "internalType": "string",
          "name": "reason",
          "type": "string"
        }
      ],
      "name": "InvalidVerifierInput",
      "type": "error"
    },
    {
      "inputs": [
        {
          "internalType": "uint256",
          "name": "limit",
          "type": "uint256"
        }
      ],
      "name": "LimitTooLarge",
      "type": "error"
    },
    {
      "inputs": [
        {
          "internalType": "uint256",
          "name": "lockTime",
          "type": "uint256"
        }
      ],
      "name": "LockTimeOutOfRange",
      "type": "error"
    },
    {
      "inputs": [
        {
          "internalType": "uint256",
          "name": "percentage",
          "type": "uint256"
        }
      ],
      "name": "PenaltyPercentageTooHigh",
      "type": "error"
    },
    {
      "inputs": [
        {
          "internalType": "string",
          "name": "id",
          "type": "string"
        }
      ],
      "name": "PreviousDeliverableNotAcknowledged",
      "type": "error"
    },
    {
      "inputs": [],
      "name": "SecretShouldBeEmpty",
      "type": "error"
    },
    {
      "inputs": [],
      "name": "SecretShouldNotBeEmpty",
      "type": "error"
    },
    {
      "inputs": [
        {
          "internalType": "address",
          "name": "provider",
          "type": "address"
        }
      ],
      "name": "ServiceNotExist",
      "type": "error"
    },
    {
      "inputs": [
        {
          "internalType": "address",
          "name": "user",
          "type": "address"
        },
        {
          "internalType": "address",
          "name": "provider",
          "type": "address"
        }
      ],
      "name": "TooManyRefunds",
      "type": "error"
    },
    {
      "inputs": [],
      "name": "TransferToLedgerFailed",
      "type": "error"
    },
    {
      "anonymous": false,
      "inputs": [
        {
          "indexed": true,
          "internalType": "address",
          "name": "user",
          "type": "address"
        },
        {
          "indexed": true,
          "internalType": "address",
          "name": "provider",
          "type": "address"
        },
        {
          "indexed": false,
          "internalType": "uint256",
          "name": "refundedAmount",
          "type": "uint256"
        }
      ],
      "name": "AccountDeleted",
      "type": "event"
    },
    {
      "anonymous": false,
      "inputs": [
        {
          "indexed": true,
          "internalType": "address",
          "name": "user",
          "type": "address"
        },
        {
          "indexed": true,
          "internalType": "address",
          "name": "provider",
          "type": "address"
        },
        {
          "indexed": false,
          "internalType": "uint256",
          "name": "amount",
          "type": "uint256"
        },
        {
          "indexed": false,
          "internalType": "uint256",
          "name": "pendingRefund",
          "type": "uint256"
        }
      ],
      "name": "BalanceUpdated",
      "type": "event"
    },
    {
      "anonymous": false,
      "inputs": [
        {
          "indexed": false,
          "internalType": "uint8",
          "name": "version",
          "type": "uint8"
        }
      ],
      "name": "Initialized",
      "type": "event"
    },
    {
      "anonymous": false,
      "inputs": [
        {
          "indexed": false,
          "internalType": "uint256",
          "name": "oldLockTime",
          "type": "uint256"
        },
        {
          "indexed": false,
          "internalType": "uint256",
          "name": "newLockTime",
          "type": "uint256"
        }
      ],
      "name": "LockTimeUpdated",
      "type": "event"
    },
    {
      "anonymous": false,
      "inputs": [
        {
          "indexed": true,
          "internalType": "address",
          "name": "previousOwner",
          "type": "address"
        },
        {
          "indexed": true,
          "internalType": "address",
          "name": "newOwner",
          "type": "address"
        }
      ],
      "name": "OwnershipTransferred",
      "type": "event"
    },
    {
      "anonymous": false,
      "inputs": [
        {
          "indexed": true,
          "internalType": "address",
          "name": "provider",
          "type": "address"
        },
        {
          "indexed": false,
          "internalType": "uint256",
          "name": "amount",
          "type": "uint256"
        }
      ],
      "name": "ProviderStakeReturned",
      "type": "event"
    },
    {
      "anonymous": false,
      "inputs": [
        {
          "indexed": true,
          "internalType": "address",
          "name": "provider",
          "type": "address"
        },
        {
          "indexed": false,
          "internalType": "uint256",
          "name": "amount",
          "type": "uint256"
        }
      ],
      "name": "ProviderStaked",
      "type": "event"
    },
    {
      "anonymous": false,
      "inputs": [
        {
          "indexed": true,
          "internalType": "address",
          "name": "provider",
          "type": "address"
        },
        {
          "indexed": true,
          "internalType": "address",
          "name": "teeSignerAddress",
          "type": "address"
        },
        {
          "indexed": false,
          "internalType": "bool",
          "name": "acknowledged",
          "type": "bool"
        }
      ],
      "name": "ProviderTEESignerAcknowledged",
      "type": "event"
    },
    {
      "anonymous": false,
      "inputs": [
        {
          "indexed": true,
          "internalType": "address",
          "name": "user",
          "type": "address"
        },
        {
          "indexed": true,
          "internalType": "address",
          "name": "provider",
          "type": "address"
        },
        {
          "indexed": true,
          "internalType": "uint256",
          "name": "index",
          "type": "uint256"
        },
        {
          "indexed": false,
          "internalType": "uint256",
          "name": "timestamp",
          "type": "uint256"
        }
      ],
      "name": "RefundRequested",
      "type": "event"
    },
    {
      "anonymous": false,
      "inputs": [
        {
          "indexed": true,
          "internalType": "address",
          "name": "user",
          "type": "address"
        }
      ],
      "name": "ServiceRemoved",
      "type": "event"
    },
    {
      "anonymous": false,
      "inputs": [
        {
          "indexed": true,
          "internalType": "address",
          "name": "user",
          "type": "address"
        },
        {
          "indexed": false,
          "internalType": "string",
          "name": "url",
          "type": "string"
        },
        {
          "components": [
            {
              "internalType": "uint256",
              "name": "cpuCount",
              "type": "uint256"
            },
            {
              "internalType": "uint256",
              "name": "nodeMemory",
              "type": "uint256"
            },
            {
              "internalType": "uint256",
              "name": "gpuCount",
              "type": "uint256"
            },
            {
              "internalType": "uint256",
              "name": "nodeStorage",
              "type": "uint256"
            },
            {
              "internalType": "string",
              "name": "gpuType",
              "type": "string"
            }
          ],
          "indexed": false,
          "internalType": "struct Quota",
          "name": "quota",
          "type": "tuple"
        },
        {
          "indexed": false,
          "internalType": "uint256",
          "name": "pricePerToken",
          "type": "uint256"
        },
        {
          "indexed": false,
          "internalType": "address",
          "name": "teeSignerAddress",
          "type": "address"
        },
        {
          "indexed": false,
          "internalType": "bool",
          "name": "occupied",
          "type": "bool"
        }
      ],
      "name": "ServiceUpdated",
      "type": "event"
    },
    {
      "inputs": [],
      "name": "MAX_LOCKTIME",
      "outputs": [
        {
          "internalType": "uint256",
          "name": "",
          "type": "uint256"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [],
      "name": "MIN_LOCKTIME",
      "outputs": [
        {
          "internalType": "uint256",
          "name": "",
          "type": "uint256"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [],
      "name": "MIN_PROVIDER_STAKE",
      "outputs": [
        {
          "internalType": "uint256",
          "name": "",
          "type": "uint256"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "address",
          "name": "user",
          "type": "address"
        },
        {
          "internalType": "address",
          "name": "provider",
          "type": "address"
        }
      ],
      "name": "accountExists",
      "outputs": [
        {
          "internalType": "bool",
          "name": "",
          "type": "bool"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "address",
          "name": "provider",
          "type": "address"
        },
        {
          "internalType": "string",
          "name": "id",
          "type": "string"
        }
      ],
      "name": "acknowledgeDeliverable",
      "outputs": [],
      "stateMutability": "nonpayable",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "address",
          "name": "provider",
          "type": "address"
        },
        {
          "internalType": "bool",
          "name": "acknowledged",
          "type": "bool"
        }
      ],
      "name": "acknowledgeTEESigner",
      "outputs": [],
      "stateMutability": "nonpayable",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "address",
          "name": "provider",
          "type": "address"
        }
      ],
      "name": "acknowledgeTEESignerByOwner",
      "outputs": [],
      "stateMutability": "nonpayable",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "address",
          "name": "user",
          "type": "address"
        },
        {
          "internalType": "address",
          "name": "provider",
          "type": "address"
        },
        {
          "internalType": "string",
          "name": "additionalInfo",
          "type": "string"
        }
      ],
      "name": "addAccount",
      "outputs": [],
      "stateMutability": "payable",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "address",
          "name": "user",
          "type": "address"
        },
        {
          "internalType": "string",
          "name": "id",
          "type": "string"
        },
        {
          "internalType": "bytes",
          "name": "modelRootHash",
          "type": "bytes"
        }
      ],
      "name": "addDeliverable",
      "outputs": [],
      "stateMutability": "nonpayable",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "string",
          "name": "url",
          "type": "string"
        },
        {
          "components": [
            {
              "internalType": "uint256",
              "name": "cpuCount",
              "type": "uint256"
            },
            {
              "internalType": "uint256",
              "name": "nodeMemory",
              "type": "uint256"
            },
            {
              "internalType": "uint256",
              "name": "gpuCount",
              "type": "uint256"
            },
            {
              "internalType": "uint256",
              "name": "nodeStorage",
              "type": "uint256"
            },
            {
              "internalType": "string",
              "name": "gpuType",
              "type": "string"
            }
          ],
          "internalType": "struct Quota",
          "name": "quota",
          "type": "tuple"
        },
        {
          "internalType": "uint256",
          "name": "pricePerToken",
          "type": "uint256"
        },
        {
          "internalType": "bool",
          "name": "occupied",
          "type": "bool"
        },
        {
          "internalType": "string[]",
          "name": "models",
          "type": "string[]"
        },
        {
          "internalType": "address",
          "name": "teeSignerAddress",
          "type": "address"
        }
      ],
      "name": "addOrUpdateService",
      "outputs": [],
      "stateMutability": "payable",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "address",
          "name": "user",
          "type": "address"
        },
        {
          "internalType": "address",
          "name": "provider",
          "type": "address"
        }
      ],
      "name": "deleteAccount",
      "outputs": [],
      "stateMutability": "nonpayable",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "address",
          "name": "user",
          "type": "address"
        },
        {
          "internalType": "address",
          "name": "provider",
          "type": "address"
        },
        {
          "internalType": "uint256",
          "name": "cancelRetrievingAmount",
          "type": "uint256"
        }
      ],
      "name": "depositFund",
      "outputs": [],
      "stateMutability": "payable",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "address",
          "name": "user",
          "type": "address"
        },
        {
          "internalType": "address",
          "name": "provider",
          "type": "address"
        }
      ],
      "name": "getAccount",
      "outputs": [
        {
          "components": [
            {
              "internalType": "address",
              "name": "user",
              "type": "address"
            },
            {
              "internalType": "address",
              "name": "provider",
              "type": "address"
            },
            {
              "internalType": "uint256",
              "name": "nonce",
              "type": "uint256"
            },
            {
              "internalType": "uint256",
              "name": "balance",
              "type": "uint256"
            },
            {
              "internalType": "uint256",
              "name": "pendingRefund",
              "type": "uint256"
            },
            {
              "components": [
                {
                  "internalType": "uint256",
                  "name": "index",
                  "type": "uint256"
                },
                {
                  "internalType": "uint256",
                  "name": "amount",
                  "type": "uint256"
                },
                {
                  "internalType": "uint256",
                  "name": "createdAt",
                  "type": "uint256"
                },
                {
                  "internalType": "bool",
                  "name": "processed",
                  "type": "bool"
                }
              ],
              "internalType": "struct Refund[]",
              "name": "refunds",
              "type": "tuple[]"
            },
            {
              "internalType": "string",
              "name": "additionalInfo",
              "type": "string"
            },
            {
              "components": [
                {
                  "internalType": "string",
                  "name": "id",
                  "type": "string"
                },
                {
                  "internalType": "bytes",
                  "name": "modelRootHash",
                  "type": "bytes"
                },
                {
                  "internalType": "bytes",
                  "name": "encryptedSecret",
                  "type": "bytes"
                },
                {
                  "internalType": "bool",
                  "name": "acknowledged",
                  "type": "bool"
                },
                {
                  "internalType": "uint248",
                  "name": "timestamp",
                  "type": "uint248"
                }
              ],
              "internalType": "struct Deliverable[]",
              "name": "deliverables",
              "type": "tuple[]"
            },
            {
              "internalType": "uint256",
              "name": "validRefundsLength",
              "type": "uint256"
            },
            {
              "internalType": "uint256",
              "name": "deliverablesHead",
              "type": "uint256"
            },
            {
              "internalType": "uint256",
              "name": "deliverablesCount",
              "type": "uint256"
            },
            {
              "internalType": "bool",
              "name": "acknowledged",
              "type": "bool"
            }
          ],
          "internalType": "struct AccountDetails",
          "name": "",
          "type": "tuple"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "address",
          "name": "provider",
          "type": "address"
        },
        {
          "internalType": "uint256",
          "name": "offset",
          "type": "uint256"
        },
        {
          "internalType": "uint256",
          "name": "limit",
          "type": "uint256"
        }
      ],
      "name": "getAccountsByProvider",
      "outputs": [
        {
          "components": [
            {
              "internalType": "address",
              "name": "user",
              "type": "address"
            },
            {
              "internalType": "address",
              "name": "provider",
              "type": "address"
            },
            {
              "internalType": "uint256",
              "name": "nonce",
              "type": "uint256"
            },
            {
              "internalType": "uint256",
              "name": "balance",
              "type": "uint256"
            },
            {
              "internalType": "uint256",
              "name": "pendingRefund",
              "type": "uint256"
            },
            {
              "internalType": "string",
              "name": "additionalInfo",
              "type": "string"
            },
            {
              "internalType": "uint256",
              "name": "validRefundsLength",
              "type": "uint256"
            },
            {
              "internalType": "uint256",
              "name": "deliverablesCount",
              "type": "uint256"
            },
            {
              "internalType": "bool",
              "name": "acknowledged",
              "type": "bool"
            }
          ],
          "internalType": "struct AccountSummary[]",
          "name": "accounts",
          "type": "tuple[]"
        },
        {
          "internalType": "uint256",
          "name": "total",
          "type": "uint256"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "address",
          "name": "user",
          "type": "address"
        },
        {
          "internalType": "uint256",
          "name": "offset",
          "type": "uint256"
        },
        {
          "internalType": "uint256",
          "name": "limit",
          "type": "uint256"
        }
      ],
      "name": "getAccountsByUser",
      "outputs": [
        {
          "components": [
            {
              "internalType": "address",
              "name": "user",
              "type": "address"
            },
            {
              "internalType": "address",
              "name": "provider",
              "type": "address"
            },
            {
              "internalType": "uint256",
              "name": "nonce",
              "type": "uint256"
            },
            {
              "internalType": "uint256",
              "name": "balance",
              "type": "uint256"
            },
            {
              "internalType": "uint256",
              "name": "pendingRefund",
              "type": "uint256"
            },
            {
              "internalType": "string",
              "name": "additionalInfo",
              "type": "string"
            },
            {
              "internalType": "uint256",
              "name": "validRefundsLength",
              "type": "uint256"
            },
            {
              "internalType": "uint256",
              "name": "deliverablesCount",
              "type": "uint256"
            },
            {
              "internalType": "bool",
              "name": "acknowledged",
              "type": "bool"
            }
          ],
          "internalType": "struct AccountSummary[]",
          "name": "accounts",
          "type": "tuple[]"
        },
        {
          "internalType": "uint256",
          "name": "total",
          "type": "uint256"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "uint256",
          "name": "offset",
          "type": "uint256"
        },
        {
          "internalType": "uint256",
          "name": "limit",
          "type": "uint256"
        }
      ],
      "name": "getAllAccounts",
      "outputs": [
        {
          "components": [
            {
              "internalType": "address",
              "name": "user",
              "type": "address"
            },
            {
              "internalType": "address",
              "name": "provider",
              "type": "address"
            },
            {
              "internalType": "uint256",
              "name": "nonce",
              "type": "uint256"
            },
            {
              "internalType": "uint256",
              "name": "balance",
              "type": "uint256"
            },
            {
              "internalType": "uint256",
              "name": "pendingRefund",
              "type": "uint256"
            },
            {
              "internalType": "string",
              "name": "additionalInfo",
              "type": "string"
            },
            {
              "internalType": "uint256",
              "name": "validRefundsLength",
              "type": "uint256"
            },
            {
              "internalType": "uint256",
              "name": "deliverablesCount",
              "type": "uint256"
            },
            {
              "internalType": "bool",
              "name": "acknowledged",
              "type": "bool"
            }
          ],
          "internalType": "struct AccountSummary[]",
          "name": "accounts",
          "type": "tuple[]"
        },
        {
          "internalType": "uint256",
          "name": "total",
          "type": "uint256"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [],
      "name": "getAllServices",
      "outputs": [
        {
          "components": [
            {
              "internalType": "address",
              "name": "provider",
              "type": "address"
            },
            {
              "internalType": "string",
              "name": "url",
              "type": "string"
            },
            {
              "components": [
                {
                  "internalType": "uint256",
                  "name": "cpuCount",
                  "type": "uint256"
                },
                {
                  "internalType": "uint256",
                  "name": "nodeMemory",
                  "type": "uint256"
                },
                {
                  "internalType": "uint256",
                  "name": "gpuCount",
                  "type": "uint256"
                },
                {
                  "internalType": "uint256",
                  "name": "nodeStorage",
                  "type": "uint256"
                },
                {
                  "internalType": "string",
                  "name": "gpuType",
                  "type": "string"
                }
              ],
              "internalType": "struct Quota",
              "name": "quota",
              "type": "tuple"
            },
            {
              "internalType": "uint256",
              "name": "pricePerToken",
              "type": "uint256"
            },
            {
              "internalType": "bool",
              "name": "occupied",
              "type": "bool"
            },
            {
              "internalType": "string[]",
              "name": "models",
              "type": "string[]"
            },
            {
              "internalType": "address",
              "name": "teeSignerAddress",
              "type": "address"
            },
            {
              "internalType": "bool",
              "name": "teeSignerAcknowledged",
              "type": "bool"
            }
          ],
          "internalType": "struct Service[]",
          "name": "services",
          "type": "tuple[]"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "address[]",
          "name": "users",
          "type": "address[]"
        }
      ],
      "name": "getBatchAccountsByUsers",
      "outputs": [
        {
          "components": [
            {
              "internalType": "address",
              "name": "user",
              "type": "address"
            },
            {
              "internalType": "address",
              "name": "provider",
              "type": "address"
            },
            {
              "internalType": "uint256",
              "name": "nonce",
              "type": "uint256"
            },
            {
              "internalType": "uint256",
              "name": "balance",
              "type": "uint256"
            },
            {
              "internalType": "uint256",
              "name": "pendingRefund",
              "type": "uint256"
            },
            {
              "internalType": "string",
              "name": "additionalInfo",
              "type": "string"
            },
            {
              "internalType": "uint256",
              "name": "validRefundsLength",
              "type": "uint256"
            },
            {
              "internalType": "uint256",
              "name": "deliverablesCount",
              "type": "uint256"
            },
            {
              "internalType": "bool",
              "name": "acknowledged",
              "type": "bool"
            }
          ],
          "internalType": "struct AccountSummary[]",
          "name": "accounts",
          "type": "tuple[]"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "address",
          "name": "user",
          "type": "address"
        },
        {
          "internalType": "address",
          "name": "provider",
          "type": "address"
        },
        {
          "internalType": "string",
          "name": "id",
          "type": "string"
        }
      ],
      "name": "getDeliverable",
      "outputs": [
        {
          "components": [
            {
              "internalType": "string",
              "name": "id",
              "type": "string"
            },
            {
              "internalType": "bytes",
              "name": "modelRootHash",
              "type": "bytes"
            },
            {
              "internalType": "bytes",
              "name": "encryptedSecret",
              "type": "bytes"
            },
            {
              "internalType": "bool",
              "name": "acknowledged",
              "type": "bool"
            },
            {
              "internalType": "uint248",
              "name": "timestamp",
              "type": "uint248"
            }
          ],
          "internalType": "struct Deliverable",
          "name": "",
          "type": "tuple"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "address",
          "name": "user",
          "type": "address"
        },
        {
          "internalType": "address",
          "name": "provider",
          "type": "address"
        }
      ],
      "name": "getDeliverables",
      "outputs": [
        {
          "components": [
            {
              "internalType": "string",
              "name": "id",
              "type": "string"
            },
            {
              "internalType": "bytes",
              "name": "modelRootHash",
              "type": "bytes"
            },
            {
              "internalType": "bytes",
              "name": "encryptedSecret",
              "type": "bytes"
            },
            {
              "internalType": "bool",
              "name": "acknowledged",
              "type": "bool"
            },
            {
              "internalType": "uint248",
              "name": "timestamp",
              "type": "uint248"
            }
          ],
          "internalType": "struct Deliverable[]",
          "name": "",
          "type": "tuple[]"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "address",
          "name": "user",
          "type": "address"
        },
        {
          "internalType": "address",
          "name": "provider",
          "type": "address"
        }
      ],
      "name": "getPendingRefund",
      "outputs": [
        {
          "internalType": "uint256",
          "name": "",
          "type": "uint256"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "address",
          "name": "provider",
          "type": "address"
        }
      ],
      "name": "getService",
      "outputs": [
        {
          "components": [
            {
              "internalType": "address",
              "name": "provider",
              "type": "address"
            },
            {
              "internalType": "string",
              "name": "url",
              "type": "string"
            },
            {
              "components": [
                {
                  "internalType": "uint256",
                  "name": "cpuCount",
                  "type": "uint256"
                },
                {
                  "internalType": "uint256",
                  "name": "nodeMemory",
                  "type": "uint256"
                },
                {
                  "internalType": "uint256",
                  "name": "gpuCount",
                  "type": "uint256"
                },
                {
                  "internalType": "uint256",
                  "name": "nodeStorage",
                  "type": "uint256"
                },
                {
                  "internalType": "string",
                  "name": "gpuType",
                  "type": "string"
                }
              ],
              "internalType": "struct Quota",
              "name": "quota",
              "type": "tuple"
            },
            {
              "internalType": "uint256",
              "name": "pricePerToken",
              "type": "uint256"
            },
            {
              "internalType": "bool",
              "name": "occupied",
              "type": "bool"
            },
            {
              "internalType": "string[]",
              "name": "models",
              "type": "string[]"
            },
            {
              "internalType": "address",
              "name": "teeSignerAddress",
              "type": "address"
            },
            {
              "internalType": "bool",
              "name": "teeSignerAcknowledged",
              "type": "bool"
            }
          ],
          "internalType": "struct Service",
          "name": "service",
          "type": "tuple"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "uint256",
          "name": "_locktime",
          "type": "uint256"
        },
        {
          "internalType": "address",
          "name": "_ledgerAddress",
          "type": "address"
        },
        {
          "internalType": "address",
          "name": "owner",
          "type": "address"
        },
        {
          "internalType": "uint256",
          "name": "_penaltyPercentage",
          "type": "uint256"
        }
      ],
      "name": "initialize",
      "outputs": [],
      "stateMutability": "nonpayable",
      "type": "function"
    },
    {
      "inputs": [],
      "name": "initialized",
      "outputs": [
        {
          "internalType": "bool",
          "name": "",
          "type": "bool"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [],
      "name": "ledgerAddress",
      "outputs": [
        {
          "internalType": "address",
          "name": "",
          "type": "address"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [],
      "name": "lockTime",
      "outputs": [
        {
          "internalType": "uint256",
          "name": "",
          "type": "uint256"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [],
      "name": "owner",
      "outputs": [
        {
          "internalType": "address",
          "name": "",
          "type": "address"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [],
      "name": "penaltyPercentage",
      "outputs": [
        {
          "internalType": "uint256",
          "name": "",
          "type": "uint256"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "address",
          "name": "user",
          "type": "address"
        },
        {
          "internalType": "address",
          "name": "provider",
          "type": "address"
        }
      ],
      "name": "processRefund",
      "outputs": [
        {
          "internalType": "uint256",
          "name": "totalAmount",
          "type": "uint256"
        },
        {
          "internalType": "uint256",
          "name": "balance",
          "type": "uint256"
        },
        {
          "internalType": "uint256",
          "name": "pendingRefund",
          "type": "uint256"
        }
      ],
      "stateMutability": "nonpayable",
      "type": "function"
    },
    {
      "inputs": [],
      "name": "removeService",
      "outputs": [],
      "stateMutability": "nonpayable",
      "type": "function"
    },
    {
      "inputs": [],
      "name": "renounceOwnership",
      "outputs": [],
      "stateMutability": "nonpayable",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "address",
          "name": "user",
          "type": "address"
        },
        {
          "internalType": "address",
          "name": "provider",
          "type": "address"
        }
      ],
      "name": "requestRefundAll",
      "outputs": [],
      "stateMutability": "nonpayable",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "address",
          "name": "provider",
          "type": "address"
        }
      ],
      "name": "revokeTEESignerAcknowledgement",
      "outputs": [],
      "stateMutability": "nonpayable",
      "type": "function"
    },
    {
      "inputs": [
        {
          "components": [
            {
              "internalType": "string",
              "name": "id",
              "type": "string"
            },
            {
              "internalType": "bytes",
              "name": "encryptedSecret",
              "type": "bytes"
            },
            {
              "internalType": "bytes",
              "name": "modelRootHash",
              "type": "bytes"
            },
            {
              "internalType": "uint256",
              "name": "nonce",
              "type": "uint256"
            },
            {
              "internalType": "bytes",
              "name": "signature",
              "type": "bytes"
            },
            {
              "internalType": "uint256",
              "name": "taskFee",
              "type": "uint256"
            },
            {
              "internalType": "address",
              "name": "user",
              "type": "address"
            }
          ],
          "internalType": "struct VerifierInput",
          "name": "verifierInput",
          "type": "tuple"
        }
      ],
      "name": "settleFees",
      "outputs": [],
      "stateMutability": "nonpayable",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "bytes4",
          "name": "interfaceId",
          "type": "bytes4"
        }
      ],
      "name": "supportsInterface",
      "outputs": [
        {
          "internalType": "bool",
          "name": "",
          "type": "bool"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "address",
          "name": "newOwner",
          "type": "address"
        }
      ],
      "name": "transferOwnership",
      "outputs": [],
      "stateMutability": "nonpayable",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "uint256",
          "name": "_locktime",
          "type": "uint256"
        }
      ],
      "name": "updateLockTime",
      "outputs": [],
      "stateMutability": "nonpayable",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "uint256",
          "name": "_penaltyPercentage",
          "type": "uint256"
        }
      ],
      "name": "updatePenaltyPercentage",
      "outputs": [],
      "stateMutability": "nonpayable",
      "type": "function"
    },
    {
      "stateMutability": "payable",
      "type": "receive"
    }
  ],
  "transactionHash": "0x9ec6024bd6401cc0b4a9d59bcc23adbde998085e44324ec8719440b42afc4ebc",
  "receipt": {
    "to": null,
    "from": "0x1F0E3DA33725B7f0CF427B0Fb2b9F1Ce76b230A4",
    "contractAddress": "0x955C75341971D083b7bC133e6B379DfC3F6c972A",
    "transactionIndex": 0,
    "gasUsed": "4857886",
    "logsBloom": "0x00000000000000000000000000000000000000000000000000800000000000000000040000000010000000000000000000000000000000000000000000000000000000000000000000000000000000000001000000000000000000000000000000800080020000000000000400000800000000000000000000000000000000400000000000000000000000000000000000000000000000000800000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000020000000000000000000000000000000000000000000000000000000000000000000",
    "blockHash": "0xa8df1441ac8380e5e5d6e9fa193ef3ef320dbf7a0946f05255723cf968ece3b7",
    "transactionHash": "0x9ec6024bd6401cc0b4a9d59bcc23adbde998085e44324ec8719440b42afc4ebc",
    "logs": [
      {
        "transactionIndex": 0,
        "blockNumber": 16291237,
        "transactionHash": "0x9ec6024bd6401cc0b4a9d59bcc23adbde998085e44324ec8719440b42afc4ebc",
        "address": "0x955C75341971D083b7bC133e6B379DfC3F6c972A",
        "topics": [
          "0x8be0079c531659141344cd1fd0a4f28419497f9722a3daafe3b4186f6b6457e0",
          "0x0000000000000000000000000000000000000000000000000000000000000000",
          "0x0000000000000000000000001f0e3da33725b7f0cf427b0fb2b9f1ce76b230a4"
        ],
        "data": "0x",
        "logIndex": 0,
        "blockHash": "0xa8df1441ac8380e5e5d6e9fa193ef3ef320dbf7a0946f05255723cf968ece3b7"
      }
    ],
    "blockNumber": 16291237,
    "cumulativeGasUsed": "4857886",
    "status": 1,
    "byzantium": true
  },
  "args": [],
  "numDeployments": 1,
  "solcInputHash": "a46003d43d0473ab719e4d180d776b3d",
  "metadata": "{\"compiler\":{\"version\":\"0.8.22+commit.4fc1097e\"},\"language\":\"Solidity\",\"output\":{\"abi\":[{\"inputs\":[{\"internalType\":\"address\",\"name\":\"user\",\"type\":\"address\"},{\"internalType\":\"address\",\"name\":\"provider\",\"type\":\"address\"}],\"name\":\"AccountExists\",\"type\":\"error\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"user\",\"type\":\"address\"},{\"internalType\":\"address\",\"name\":\"provider\",\"type\":\"address\"}],\"name\":\"AccountNotExists\",\"type\":\"error\"},{\"inputs\":[],\"name\":\"AdditionalInfoTooLong\",\"type\":\"error\"},{\"inputs\":[],\"name\":\"CannotAddStakeWhenUpdating\",\"type\":\"error\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"user\",\"type\":\"address\"},{\"internalType\":\"address\",\"name\":\"provider\",\"type\":\"address\"},{\"internalType\":\"uint256\",\"name\":\"balance\",\"type\":\"uint256\"}],\"name\":\"CannotRevokeWithNonZeroBalance\",\"type\":\"error\"},{\"inputs\":[{\"internalType\":\"string\",\"name\":\"id\",\"type\":\"string\"}],\"name\":\"DeliverableAlreadyExists\",\"type\":\"error\"},{\"inputs\":[{\"internalType\":\"uint256\",\"name\":\"length\",\"type\":\"uint256\"}],\"name\":\"DeliverableIdInvalidLength\",\"type\":\"error\"},{\"inputs\":[{\"internalType\":\"uint256\",\"name\":\"length\",\"type\":\"uint256\"}],\"name\":\"DeliverableIdTooLong\",\"type\":\"error\"},{\"inputs\":[{\"internalType\":\"string\",\"name\":\"id\",\"type\":\"string\"}],\"name\":\"DeliverableNotExists\",\"type\":\"error\"},{\"inputs\":[],\"name\":\"DirectDepositsDisabled\",\"type\":\"error\"},{\"inputs\":[],\"name\":\"ETHTransferFailed\",\"type\":\"error\"},{\"inputs\":[{\"internalType\":\"uint256\",\"name\":\"provided\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"required\",\"type\":\"uint256\"}],\"name\":\"InsufficientStake\",\"type\":\"error\"},{\"inputs\":[],\"name\":\"InvalidLedgerAddress\",\"type\":\"error\"},{\"inputs\":[{\"internalType\":\"string\",\"name\":\"reason\",\"type\":\"string\"}],\"name\":\"InvalidVerifierInput\",\"type\":\"error\"},{\"inputs\":[{\"internalType\":\"uint256\",\"name\":\"limit\",\"type\":\"uint256\"}],\"name\":\"LimitTooLarge\",\"type\":\"error\"},{\"inputs\":[{\"internalType\":\"uint256\",\"name\":\"lockTime\",\"type\":\"uint256\"}],\"name\":\"LockTimeOutOfRange\",\"type\":\"error\"},{\"inputs\":[{\"internalType\":\"uint256\",\"name\":\"percentage\",\"type\":\"uint256\"}],\"name\":\"PenaltyPercentageTooHigh\",\"type\":\"error\"},{\"inputs\":[{\"internalType\":\"string\",\"name\":\"id\",\"type\":\"string\"}],\"name\":\"PreviousDeliverableNotAcknowledged\",\"type\":\"error\"},{\"inputs\":[],\"name\":\"SecretShouldBeEmpty\",\"type\":\"error\"},{\"inputs\":[],\"name\":\"SecretShouldNotBeEmpty\",\"type\":\"error\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"provider\",\"type\":\"address\"}],\"name\":\"ServiceNotExist\",\"type\":\"error\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"user\",\"type\":\"address\"},{\"internalType\":\"address\",\"name\":\"provider\",\"type\":\"address\"}],\"name\":\"TooManyRefunds\",\"type\":\"error\"},{\"inputs\":[],\"name\":\"TransferToLedgerFailed\",\"type\":\"error\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":true,\"internalType\":\"address\",\"name\":\"user\",\"type\":\"address\"},{\"indexed\":true,\"internalType\":\"address\",\"name\":\"provider\",\"type\":\"address\"},{\"indexed\":false,\"internalType\":\"uint256\",\"name\":\"refundedAmount\",\"type\":\"uint256\"}],\"name\":\"AccountDeleted\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":true,\"internalType\":\"address\",\"name\":\"user\",\"type\":\"address\"},{\"indexed\":true,\"internalType\":\"address\",\"name\":\"provider\",\"type\":\"address\"},{\"indexed\":false,\"internalType\":\"uint256\",\"name\":\"amount\",\"type\":\"uint256\"},{\"indexed\":false,\"internalType\":\"uint256\",\"name\":\"pendingRefund\",\"type\":\"uint256\"}],\"name\":\"BalanceUpdated\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":false,\"internalType\":\"uint8\",\"name\":\"version\",\"type\":\"uint8\"}],\"name\":\"Initialized\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":false,\"internalType\":\"uint256\",\"name\":\"oldLockTime\",\"type\":\"uint256\"},{\"indexed\":false,\"internalType\":\"uint256\",\"name\":\"newLockTime\",\"type\":\"uint256\"}],\"name\":\"LockTimeUpdated\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":true,\"internalType\":\"address\",\"name\":\"previousOwner\",\"type\":\"address\"},{\"indexed\":true,\"internalType\":\"address\",\"name\":\"newOwner\",\"type\":\"address\"}],\"name\":\"OwnershipTransferred\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":true,\"internalType\":\"address\",\"name\":\"provider\",\"type\":\"address\"},{\"indexed\":false,\"internalType\":\"uint256\",\"name\":\"amount\",\"type\":\"uint256\"}],\"name\":\"ProviderStakeReturned\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":true,\"internalType\":\"address\",\"name\":\"provider\",\"type\":\"address\"},{\"indexed\":false,\"internalType\":\"uint256\",\"name\":\"amount\",\"type\":\"uint256\"}],\"name\":\"ProviderStaked\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":true,\"internalType\":\"address\",\"name\":\"provider\",\"type\":\"address\"},{\"indexed\":true,\"internalType\":\"address\",\"name\":\"teeSignerAddress\",\"type\":\"address\"},{\"indexed\":false,\"internalType\":\"bool\",\"name\":\"acknowledged\",\"type\":\"bool\"}],\"name\":\"ProviderTEESignerAcknowledged\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":true,\"internalType\":\"address\",\"name\":\"user\",\"type\":\"address\"},{\"indexed\":true,\"internalType\":\"address\",\"name\":\"provider\",\"type\":\"address\"},{\"indexed\":true,\"internalType\":\"uint256\",\"name\":\"index\",\"type\":\"uint256\"},{\"indexed\":false,\"internalType\":\"uint256\",\"name\":\"timestamp\",\"type\":\"uint256\"}],\"name\":\"RefundRequested\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":true,\"internalType\":\"address\",\"name\":\"user\",\"type\":\"address\"}],\"name\":\"ServiceRemoved\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":true,\"internalType\":\"address\",\"name\":\"user\",\"type\":\"address\"},{\"indexed\":false,\"internalType\":\"string\",\"name\":\"url\",\"type\":\"string\"},{\"components\":[{\"internalType\":\"uint256\",\"name\":\"cpuCount\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"nodeMemory\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"gpuCount\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"nodeStorage\",\"type\":\"uint256\"},{\"internalType\":\"string\",\"name\":\"gpuType\",\"type\":\"string\"}],\"indexed\":false,\"internalType\":\"struct Quota\",\"name\":\"quota\",\"type\":\"tuple\"},{\"indexed\":false,\"internalType\":\"uint256\",\"name\":\"pricePerToken\",\"type\":\"uint256\"},{\"indexed\":false,\"internalType\":\"address\",\"name\":\"teeSignerAddress\",\"type\":\"address\"},{\"indexed\":false,\"internalType\":\"bool\",\"name\":\"occupied\",\"type\":\"bool\"}],\"name\":\"ServiceUpdated\",\"type\":\"event\"},{\"inputs\":[],\"name\":\"MAX_LOCKTIME\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"MIN_LOCKTIME\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"MIN_PROVIDER_STAKE\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"user\",\"type\":\"address\"},{\"internalType\":\"address\",\"name\":\"provider\",\"type\":\"address\"}],\"name\":\"accountExists\",\"outputs\":[{\"internalType\":\"bool\",\"name\":\"\",\"type\":\"bool\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"provider\",\"type\":\"address\"},{\"internalType\":\"string\",\"name\":\"id\",\"type\":\"string\"}],\"name\":\"acknowledgeDeliverable\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"provider\",\"type\":\"address\"},{\"internalType\":\"bool\",\"name\":\"acknowledged\",\"type\":\"bool\"}],\"name\":\"acknowledgeTEESigner\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"provider\",\"type\":\"address\"}],\"name\":\"acknowledgeTEESignerByOwner\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"user\",\"type\":\"address\"},{\"internalType\":\"address\",\"name\":\"provider\",\"type\":\"address\"},{\"internalType\":\"string\",\"name\":\"additionalInfo\",\"type\":\"string\"}],\"name\":\"addAccount\",\"outputs\":[],\"stateMutability\":\"payable\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"user\",\"type\":\"address\"},{\"internalType\":\"string\",\"name\":\"id\",\"type\":\"string\"},{\"internalType\":\"bytes\",\"name\":\"modelRootHash\",\"type\":\"bytes\"}],\"name\":\"addDeliverable\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"string\",\"name\":\"url\",\"type\":\"string\"},{\"components\":[{\"internalType\":\"uint256\",\"name\":\"cpuCount\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"nodeMemory\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"gpuCount\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"nodeStorage\",\"type\":\"uint256\"},{\"internalType\":\"string\",\"name\":\"gpuType\",\"type\":\"string\"}],\"internalType\":\"struct Quota\",\"name\":\"quota\",\"type\":\"tuple\"},{\"internalType\":\"uint256\",\"name\":\"pricePerToken\",\"type\":\"uint256\"},{\"internalType\":\"bool\",\"name\":\"occupied\",\"type\":\"bool\"},{\"internalType\":\"string[]\",\"name\":\"models\",\"type\":\"string[]\"},{\"internalType\":\"address\",\"name\":\"teeSignerAddress\",\"type\":\"address\"}],\"name\":\"addOrUpdateService\",\"outputs\":[],\"stateMutability\":\"payable\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"user\",\"type\":\"address\"},{\"internalType\":\"address\",\"name\":\"provider\",\"type\":\"address\"}],\"name\":\"deleteAccount\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"user\",\"type\":\"address\"},{\"internalType\":\"address\",\"name\":\"provider\",\"type\":\"address\"},{\"internalType\":\"uint256\",\"name\":\"cancelRetrievingAmount\",\"type\":\"uint256\"}],\"name\":\"depositFund\",\"outputs\":[],\"stateMutability\":\"payable\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"user\",\"type\":\"address\"},{\"internalType\":\"address\",\"name\":\"provider\",\"type\":\"address\"}],\"name\":\"getAccount\",\"outputs\":[{\"components\":[{\"internalType\":\"address\",\"name\":\"user\",\"type\":\"address\"},{\"internalType\":\"address\",\"name\":\"provider\",\"type\":\"address\"},{\"internalType\":\"uint256\",\"name\":\"nonce\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"balance\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"pendingRefund\",\"type\":\"uint256\"},{\"components\":[{\"internalType\":\"uint256\",\"name\":\"index\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"amount\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"createdAt\",\"type\":\"uint256\"},{\"internalType\":\"bool\",\"name\":\"processed\",\"type\":\"bool\"}],\"internalType\":\"struct Refund[]\",\"name\":\"refunds\",\"type\":\"tuple[]\"},{\"internalType\":\"string\",\"name\":\"additionalInfo\",\"type\":\"string\"},{\"components\":[{\"internalType\":\"string\",\"name\":\"id\",\"type\":\"string\"},{\"internalType\":\"bytes\",\"name\":\"modelRootHash\",\"type\":\"bytes\"},{\"internalType\":\"bytes\",\"name\":\"encryptedSecret\",\"type\":\"bytes\"},{\"internalType\":\"bool\",\"name\":\"acknowledged\",\"type\":\"bool\"},{\"internalType\":\"uint248\",\"name\":\"timestamp\",\"type\":\"uint248\"}],\"internalType\":\"struct Deliverable[]\",\"name\":\"deliverables\",\"type\":\"tuple[]\"},{\"internalType\":\"uint256\",\"name\":\"validRefundsLength\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"deliverablesHead\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"deliverablesCount\",\"type\":\"uint256\"},{\"internalType\":\"bool\",\"name\":\"acknowledged\",\"type\":\"bool\"}],\"internalType\":\"struct AccountDetails\",\"name\":\"\",\"type\":\"tuple\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"provider\",\"type\":\"address\"},{\"internalType\":\"uint256\",\"name\":\"offset\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"limit\",\"type\":\"uint256\"}],\"name\":\"getAccountsByProvider\",\"outputs\":[{\"components\":[{\"internalType\":\"address\",\"name\":\"user\",\"type\":\"address\"},{\"internalType\":\"address\",\"name\":\"provider\",\"type\":\"address\"},{\"internalType\":\"uint256\",\"name\":\"nonce\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"balance\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"pendingRefund\",\"type\":\"uint256\"},{\"internalType\":\"string\",\"name\":\"additionalInfo\",\"type\":\"string\"},{\"internalType\":\"uint256\",\"name\":\"validRefundsLength\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"deliverablesCount\",\"type\":\"uint256\"},{\"internalType\":\"bool\",\"name\":\"acknowledged\",\"type\":\"bool\"}],\"internalType\":\"struct AccountSummary[]\",\"name\":\"accounts\",\"type\":\"tuple[]\"},{\"internalType\":\"uint256\",\"name\":\"total\",\"type\":\"uint256\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"user\",\"type\":\"address\"},{\"internalType\":\"uint256\",\"name\":\"offset\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"limit\",\"type\":\"uint256\"}],\"name\":\"getAccountsByUser\",\"outputs\":[{\"components\":[{\"internalType\":\"address\",\"name\":\"user\",\"type\":\"address\"},{\"internalType\":\"address\",\"name\":\"provider\",\"type\":\"address\"},{\"internalType\":\"uint256\",\"name\":\"nonce\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"balance\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"pendingRefund\",\"type\":\"uint256\"},{\"internalType\":\"string\",\"name\":\"additionalInfo\",\"type\":\"string\"},{\"internalType\":\"uint256\",\"name\":\"validRefundsLength\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"deliverablesCount\",\"type\":\"uint256\"},{\"internalType\":\"bool\",\"name\":\"acknowledged\",\"type\":\"bool\"}],\"internalType\":\"struct AccountSummary[]\",\"name\":\"accounts\",\"type\":\"tuple[]\"},{\"internalType\":\"uint256\",\"name\":\"total\",\"type\":\"uint256\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"uint256\",\"name\":\"offset\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"limit\",\"type\":\"uint256\"}],\"name\":\"getAllAccounts\",\"outputs\":[{\"components\":[{\"internalType\":\"address\",\"name\":\"user\",\"type\":\"address\"},{\"internalType\":\"address\",\"name\":\"provider\",\"type\":\"address\"},{\"internalType\":\"uint256\",\"name\":\"nonce\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"balance\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"pendingRefund\",\"type\":\"uint256\"},{\"internalType\":\"string\",\"name\":\"additionalInfo\",\"type\":\"string\"},{\"internalType\":\"uint256\",\"name\":\"validRefundsLength\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"deliverablesCount\",\"type\":\"uint256\"},{\"internalType\":\"bool\",\"name\":\"acknowledged\",\"type\":\"bool\"}],\"internalType\":\"struct AccountSummary[]\",\"name\":\"accounts\",\"type\":\"tuple[]\"},{\"internalType\":\"uint256\",\"name\":\"total\",\"type\":\"uint256\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"getAllServices\",\"outputs\":[{\"components\":[{\"internalType\":\"address\",\"name\":\"provider\",\"type\":\"address\"},{\"internalType\":\"string\",\"name\":\"url\",\"type\":\"string\"},{\"components\":[{\"internalType\":\"uint256\",\"name\":\"cpuCount\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"nodeMemory\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"gpuCount\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"nodeStorage\",\"type\":\"uint256\"},{\"internalType\":\"string\",\"name\":\"gpuType\",\"type\":\"string\"}],\"internalType\":\"struct Quota\",\"name\":\"quota\",\"type\":\"tuple\"},{\"internalType\":\"uint256\",\"name\":\"pricePerToken\",\"type\":\"uint256\"},{\"internalType\":\"bool\",\"name\":\"occupied\",\"type\":\"bool\"},{\"internalType\":\"string[]\",\"name\":\"models\",\"type\":\"string[]\"},{\"internalType\":\"address\",\"name\":\"teeSignerAddress\",\"type\":\"address\"},{\"internalType\":\"bool\",\"name\":\"teeSignerAcknowledged\",\"type\":\"bool\"}],\"internalType\":\"struct Service[]\",\"name\":\"services\",\"type\":\"tuple[]\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address[]\",\"name\":\"users\",\"type\":\"address[]\"}],\"name\":\"getBatchAccountsByUsers\",\"outputs\":[{\"components\":[{\"internalType\":\"address\",\"name\":\"user\",\"type\":\"address\"},{\"internalType\":\"address\",\"name\":\"provider\",\"type\":\"address\"},{\"internalType\":\"uint256\",\"name\":\"nonce\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"balance\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"pendingRefund\",\"type\":\"uint256\"},{\"internalType\":\"string\",\"name\":\"additionalInfo\",\"type\":\"string\"},{\"internalType\":\"uint256\",\"name\":\"validRefundsLength\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"deliverablesCount\",\"type\":\"uint256\"},{\"internalType\":\"bool\",\"name\":\"acknowledged\",\"type\":\"bool\"}],\"internalType\":\"struct AccountSummary[]\",\"name\":\"accounts\",\"type\":\"tuple[]\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"user\",\"type\":\"address\"},{\"internalType\":\"address\",\"name\":\"provider\",\"type\":\"address\"},{\"internalType\":\"string\",\"name\":\"id\",\"type\":\"string\"}],\"name\":\"getDeliverable\",\"outputs\":[{\"components\":[{\"internalType\":\"string\",\"name\":\"id\",\"type\":\"string\"},{\"internalType\":\"bytes\",\"name\":\"modelRootHash\",\"type\":\"bytes\"},{\"internalType\":\"bytes\",\"name\":\"encryptedSecret\",\"type\":\"bytes\"},{\"internalType\":\"bool\",\"name\":\"acknowledged\",\"type\":\"bool\"},{\"internalType\":\"uint248\",\"name\":\"timestamp\",\"type\":\"uint248\"}],\"internalType\":\"struct Deliverable\",\"name\":\"\",\"type\":\"tuple\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"user\",\"type\":\"address\"},{\"internalType\":\"address\",\"name\":\"provider\",\"type\":\"address\"}],\"name\":\"getDeliverables\",\"outputs\":[{\"components\":[{\"internalType\":\"string\",\"name\":\"id\",\"type\":\"string\"},{\"internalType\":\"bytes\",\"name\":\"modelRootHash\",\"type\":\"bytes\"},{\"internalType\":\"bytes\",\"name\":\"encryptedSecret\",\"type\":\"bytes\"},{\"internalType\":\"bool\",\"name\":\"acknowledged\",\"type\":\"bool\"},{\"internalType\":\"uint248\",\"name\":\"timestamp\",\"type\":\"uint248\"}],\"internalType\":\"struct Deliverable[]\",\"name\":\"\",\"type\":\"tuple[]\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"user\",\"type\":\"address\"},{\"internalType\":\"address\",\"name\":\"provider\",\"type\":\"address\"}],\"name\":\"getPendingRefund\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"provider\",\"type\":\"address\"}],\"name\":\"getService\",\"outputs\":[{\"components\":[{\"internalType\":\"address\",\"name\":\"provider\",\"type\":\"address\"},{\"internalType\":\"string\",\"name\":\"url\",\"type\":\"string\"},{\"components\":[{\"internalType\":\"uint256\",\"name\":\"cpuCount\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"nodeMemory\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"gpuCount\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"nodeStorage\",\"type\":\"uint256\"},{\"internalType\":\"string\",\"name\":\"gpuType\",\"type\":\"string\"}],\"internalType\":\"struct Quota\",\"name\":\"quota\",\"type\":\"tuple\"},{\"internalType\":\"uint256\",\"name\":\"pricePerToken\",\"type\":\"uint256\"},{\"internalType\":\"bool\",\"name\":\"occupied\",\"type\":\"bool\"},{\"internalType\":\"string[]\",\"name\":\"models\",\"type\":\"string[]\"},{\"internalType\":\"address\",\"name\":\"teeSignerAddress\",\"type\":\"address\"},{\"internalType\":\"bool\",\"name\":\"teeSignerAcknowledged\",\"type\":\"bool\"}],\"internalType\":\"struct Service\",\"name\":\"service\",\"type\":\"tuple\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"uint256\",\"name\":\"_locktime\",\"type\":\"uint256\"},{\"internalType\":\"address\",\"name\":\"_ledgerAddress\",\"type\":\"address\"},{\"internalType\":\"address\",\"name\":\"owner\",\"type\":\"address\"},{\"internalType\":\"uint256\",\"name\":\"_penaltyPercentage\",\"type\":\"uint256\"}],\"name\":\"initialize\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"initialized\",\"outputs\":[{\"internalType\":\"bool\",\"name\":\"\",\"type\":\"bool\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"ledgerAddress\",\"outputs\":[{\"internalType\":\"address\",\"name\":\"\",\"type\":\"address\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"lockTime\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"owner\",\"outputs\":[{\"internalType\":\"address\",\"name\":\"\",\"type\":\"address\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"penaltyPercentage\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"user\",\"type\":\"address\"},{\"internalType\":\"address\",\"name\":\"provider\",\"type\":\"address\"}],\"name\":\"processRefund\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"totalAmount\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"balance\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"pendingRefund\",\"type\":\"uint256\"}],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"removeService\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"renounceOwnership\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"user\",\"type\":\"address\"},{\"internalType\":\"address\",\"name\":\"provider\",\"type\":\"address\"}],\"name\":\"requestRefundAll\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"provider\",\"type\":\"address\"}],\"name\":\"revokeTEESignerAcknowledgement\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[{\"components\":[{\"internalType\":\"string\",\"name\":\"id\",\"type\":\"string\"},{\"internalType\":\"bytes\",\"name\":\"encryptedSecret\",\"type\":\"bytes\"},{\"internalType\":\"bytes\",\"name\":\"modelRootHash\",\"type\":\"bytes\"},{\"internalType\":\"uint256\",\"name\":\"nonce\",\"type\":\"uint256\"},{\"internalType\":\"bytes\",\"name\":\"signature\",\"type\":\"bytes\"},{\"internalType\":\"uint256\",\"name\":\"taskFee\",\"type\":\"uint256\"},{\"internalType\":\"address\",\"name\":\"user\",\"type\":\"address\"}],\"internalType\":\"struct VerifierInput\",\"name\":\"verifierInput\",\"type\":\"tuple\"}],\"name\":\"settleFees\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"bytes4\",\"name\":\"interfaceId\",\"type\":\"bytes4\"}],\"name\":\"supportsInterface\",\"outputs\":[{\"internalType\":\"bool\",\"name\":\"\",\"type\":\"bool\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"newOwner\",\"type\":\"address\"}],\"name\":\"transferOwnership\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"uint256\",\"name\":\"_locktime\",\"type\":\"uint256\"}],\"name\":\"updateLockTime\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"uint256\",\"name\":\"_penaltyPercentage\",\"type\":\"uint256\"}],\"name\":\"updatePenaltyPercentage\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"stateMutability\":\"payable\",\"type\":\"receive\"}],\"devdoc\":{\"events\":{\"Initialized(uint8)\":{\"details\":\"Triggered when the contract has been initialized or reinitialized.\"}},\"kind\":\"dev\",\"methods\":{\"initialize(uint256,address,address,uint256)\":{\"params\":{\"_ledgerAddress\":\"The address of the ledger contract\",\"_locktime\":\"The time period for refund locks\",\"_penaltyPercentage\":\"The penalty percentage for unacknowledged deliverables\",\"owner\":\"The owner address\"}},\"owner()\":{\"details\":\"Returns the address of the current owner.\"},\"renounceOwnership()\":{\"details\":\"Leaves the contract without owner. It will not be possible to call `onlyOwner` functions anymore. Can only be called by the current owner. NOTE: Renouncing ownership will leave the contract without an owner, thereby removing any functionality that is only available to the owner.\"},\"settleFees((string,bytes,bytes,uint256,bytes,uint256,address))\":{\"details\":\"CRIT-4 FIX: Added nonReentrant modifier to prevent reentrancy attacksGAS-2: Cache storage variables to save ~100 gas\",\"params\":{\"verifierInput\":\"The verifier input containing signature and deliverable data\"}},\"supportsInterface(bytes4)\":{\"details\":\"See {IERC165-supportsInterface}.\"},\"transferOwnership(address)\":{\"details\":\"Transfers ownership of the contract to a new account (`newOwner`). Can only be called by the current owner.\"},\"updateLockTime(uint256)\":{\"details\":\"MED-5: This change applies immediately to ALL pending refundsThe new lockTime will be used when processing any refund, regardless of when it was createdOwner should exercise caution as this affects users' expectations for refund timingGAS-8: Skip storage write if value unchanged (~2900 gas saved)\",\"params\":{\"_locktime\":\"The new lock time (must be between MIN_LOCKTIME and MAX_LOCKTIME)\"}},\"updatePenaltyPercentage(uint256)\":{\"details\":\"GAS-8: Skip storage write if value unchanged (~2900 gas saved)\",\"params\":{\"_penaltyPercentage\":\"The new penalty percentage (0-100)\"}}},\"version\":1},\"userdoc\":{\"kind\":\"user\",\"methods\":{\"initialize(uint256,address,address,uint256)\":{\"notice\":\"Initializes the contract with locktime and ledger address\"},\"settleFees((string,bytes,bytes,uint256,bytes,uint256,address))\":{\"notice\":\"Settles fees for a completed deliverable with TEE signature verification\"},\"updateLockTime(uint256)\":{\"notice\":\"Updates the lock time for refunds\"},\"updatePenaltyPercentage(uint256)\":{\"notice\":\"Updates the penalty percentage for unacknowledged deliverables\"}},\"version\":1}},\"settings\":{\"compilationTarget\":{\"contracts/fine-tuning/FineTuningServing.sol\":\"FineTuningServing\"},\"evmVersion\":\"istanbul\",\"libraries\":{},\"metadata\":{\"bytecodeHash\":\"ipfs\",\"useLiteralContent\":true},\"optimizer\":{\"enabled\":true,\"runs\":200},\"remappings\":[],\"viaIR\":true},\"sources\":{\"@openzeppelin/contracts/access/Ownable.sol\":{\"content\":\"// SPDX-License-Identifier: MIT\\n// OpenZeppelin Contracts (last updated v4.7.0) (access/Ownable.sol)\\n\\npragma solidity ^0.8.0;\\n\\nimport \\\"../utils/Context.sol\\\";\\n\\n/**\\n * @dev Contract module which provides a basic access control mechanism, where\\n * there is an account (an owner) that can be granted exclusive access to\\n * specific functions.\\n *\\n * By default, the owner account will be the one that deploys the contract. This\\n * can later be changed with {transferOwnership}.\\n *\\n * This module is used through inheritance. It will make available the modifier\\n * `onlyOwner`, which can be applied to your functions to restrict their use to\\n * the owner.\\n */\\nabstract contract Ownable is Context {\\n    address private _owner;\\n\\n    event OwnershipTransferred(address indexed previousOwner, address indexed newOwner);\\n\\n    /**\\n     * @dev Initializes the contract setting the deployer as the initial owner.\\n     */\\n    constructor() {\\n        _transferOwnership(_msgSender());\\n    }\\n\\n    /**\\n     * @dev Throws if called by any account other than the owner.\\n     */\\n    modifier onlyOwner() {\\n        _checkOwner();\\n        _;\\n    }\\n\\n    /**\\n     * @dev Returns the address of the current owner.\\n     */\\n    function owner() public view virtual returns (address) {\\n        return _owner;\\n    }\\n\\n    /**\\n     * @dev Throws if the sender is not the owner.\\n     */\\n    function _checkOwner() internal view virtual {\\n        require(owner() == _msgSender(), \\\"Ownable: caller is not the owner\\\");\\n    }\\n\\n    /**\\n     * @dev Leaves the contract without owner. It will not be possible to call\\n     * `onlyOwner` functions anymore. Can only be called by the current owner.\\n     *\\n     * NOTE: Renouncing ownership will leave the contract without an owner,\\n     * thereby removing any functionality that is only available to the owner.\\n     */\\n    function renounceOwnership() public virtual onlyOwner {\\n        _transferOwnership(address(0));\\n    }\\n\\n    /**\\n     * @dev Transfers ownership of the contract to a new account (`newOwner`).\\n     * Can only be called by the current owner.\\n     */\\n    function transferOwnership(address newOwner) public virtual onlyOwner {\\n        require(newOwner != address(0), \\\"Ownable: new owner is the zero address\\\");\\n        _transferOwnership(newOwner);\\n    }\\n\\n    /**\\n     * @dev Transfers ownership of the contract to a new account (`newOwner`).\\n     * Internal function without access restriction.\\n     */\\n    function _transferOwnership(address newOwner) internal virtual {\\n        address oldOwner = _owner;\\n        _owner = newOwner;\\n        emit OwnershipTransferred(oldOwner, newOwner);\\n    }\\n}\\n\",\"keccak256\":\"0xa94b34880e3c1b0b931662cb1c09e5dfa6662f31cba80e07c5ee71cd135c9673\",\"license\":\"MIT\"},\"@openzeppelin/contracts/security/ReentrancyGuard.sol\":{\"content\":\"// SPDX-License-Identifier: MIT\\n// OpenZeppelin Contracts (last updated v4.8.0) (security/ReentrancyGuard.sol)\\n\\npragma solidity ^0.8.0;\\n\\n/**\\n * @dev Contract module that helps prevent reentrant calls to a function.\\n *\\n * Inheriting from `ReentrancyGuard` will make the {nonReentrant} modifier\\n * available, which can be applied to functions to make sure there are no nested\\n * (reentrant) calls to them.\\n *\\n * Note that because there is a single `nonReentrant` guard, functions marked as\\n * `nonReentrant` may not call one another. This can be worked around by making\\n * those functions `private`, and then adding `external` `nonReentrant` entry\\n * points to them.\\n *\\n * TIP: If you would like to learn more about reentrancy and alternative ways\\n * to protect against it, check out our blog post\\n * https://blog.openzeppelin.com/reentrancy-after-istanbul/[Reentrancy After Istanbul].\\n */\\nabstract contract ReentrancyGuard {\\n    // Booleans are more expensive than uint256 or any type that takes up a full\\n    // word because each write operation emits an extra SLOAD to first read the\\n    // slot's contents, replace the bits taken up by the boolean, and then write\\n    // back. This is the compiler's defense against contract upgrades and\\n    // pointer aliasing, and it cannot be disabled.\\n\\n    // The values being non-zero value makes deployment a bit more expensive,\\n    // but in exchange the refund on every call to nonReentrant will be lower in\\n    // amount. Since refunds are capped to a percentage of the total\\n    // transaction's gas, it is best to keep them low in cases like this one, to\\n    // increase the likelihood of the full refund coming into effect.\\n    uint256 private constant _NOT_ENTERED = 1;\\n    uint256 private constant _ENTERED = 2;\\n\\n    uint256 private _status;\\n\\n    constructor() {\\n        _status = _NOT_ENTERED;\\n    }\\n\\n    /**\\n     * @dev Prevents a contract from calling itself, directly or indirectly.\\n     * Calling a `nonReentrant` function from another `nonReentrant`\\n     * function is not supported. It is possible to prevent this from happening\\n     * by making the `nonReentrant` function external, and making it call a\\n     * `private` function that does the actual work.\\n     */\\n    modifier nonReentrant() {\\n        _nonReentrantBefore();\\n        _;\\n        _nonReentrantAfter();\\n    }\\n\\n    function _nonReentrantBefore() private {\\n        // On the first call to nonReentrant, _status will be _NOT_ENTERED\\n        require(_status != _ENTERED, \\\"ReentrancyGuard: reentrant call\\\");\\n\\n        // Any calls to nonReentrant after this point will fail\\n        _status = _ENTERED;\\n    }\\n\\n    function _nonReentrantAfter() private {\\n        // By storing the original value once again, a refund is triggered (see\\n        // https://eips.ethereum.org/EIPS/eip-2200)\\n        _status = _NOT_ENTERED;\\n    }\\n}\\n\",\"keccak256\":\"0x190dd6f8d592b7e4e930feb7f4313aeb8e1c4ad3154c27ce1cf6a512fc30d8cc\",\"license\":\"MIT\"},\"@openzeppelin/contracts/utils/Context.sol\":{\"content\":\"// SPDX-License-Identifier: MIT\\n// OpenZeppelin Contracts v4.4.1 (utils/Context.sol)\\n\\npragma solidity ^0.8.0;\\n\\n/**\\n * @dev Provides information about the current execution context, including the\\n * sender of the transaction and its data. While these are generally available\\n * via msg.sender and msg.data, they should not be accessed in such a direct\\n * manner, since when dealing with meta-transactions the account sending and\\n * paying for execution may not be the actual sender (as far as an application\\n * is concerned).\\n *\\n * This contract is only required for intermediate, library-like contracts.\\n */\\nabstract contract Context {\\n    function _msgSender() internal view virtual returns (address) {\\n        return msg.sender;\\n    }\\n\\n    function _msgData() internal view virtual returns (bytes calldata) {\\n        return msg.data;\\n    }\\n}\\n\",\"keccak256\":\"0xe2e337e6dde9ef6b680e07338c493ebea1b5fd09b43424112868e9cc1706bca7\",\"license\":\"MIT\"},\"@openzeppelin/contracts/utils/Strings.sol\":{\"content\":\"// SPDX-License-Identifier: MIT\\n// OpenZeppelin Contracts (last updated v4.8.0) (utils/Strings.sol)\\n\\npragma solidity ^0.8.0;\\n\\nimport \\\"./math/Math.sol\\\";\\n\\n/**\\n * @dev String operations.\\n */\\nlibrary Strings {\\n    bytes16 private constant _SYMBOLS = \\\"0123456789abcdef\\\";\\n    uint8 private constant _ADDRESS_LENGTH = 20;\\n\\n    /**\\n     * @dev Converts a `uint256` to its ASCII `string` decimal representation.\\n     */\\n    function toString(uint256 value) internal pure returns (string memory) {\\n        unchecked {\\n            uint256 length = Math.log10(value) + 1;\\n            string memory buffer = new string(length);\\n            uint256 ptr;\\n            /// @solidity memory-safe-assembly\\n            assembly {\\n                ptr := add(buffer, add(32, length))\\n            }\\n            while (true) {\\n                ptr--;\\n                /// @solidity memory-safe-assembly\\n                assembly {\\n                    mstore8(ptr, byte(mod(value, 10), _SYMBOLS))\\n                }\\n                value /= 10;\\n                if (value == 0) break;\\n            }\\n            return buffer;\\n        }\\n    }\\n\\n    /**\\n     * @dev Converts a `uint256` to its ASCII `string` hexadecimal representation.\\n     */\\n    function toHexString(uint256 value) internal pure returns (string memory) {\\n        unchecked {\\n            return toHexString(value, Math.log256(value) + 1);\\n        }\\n    }\\n\\n    /**\\n     * @dev Converts a `uint256` to its ASCII `string` hexadecimal representation with fixed length.\\n     */\\n    function toHexString(uint256 value, uint256 length) internal pure returns (string memory) {\\n        bytes memory buffer = new bytes(2 * length + 2);\\n        buffer[0] = \\\"0\\\";\\n        buffer[1] = \\\"x\\\";\\n        for (uint256 i = 2 * length + 1; i > 1; --i) {\\n            buffer[i] = _SYMBOLS[value & 0xf];\\n            value >>= 4;\\n        }\\n        require(value == 0, \\\"Strings: hex length insufficient\\\");\\n        return string(buffer);\\n    }\\n\\n    /**\\n     * @dev Converts an `address` with fixed length of 20 bytes to its not checksummed ASCII `string` hexadecimal representation.\\n     */\\n    function toHexString(address addr) internal pure returns (string memory) {\\n        return toHexString(uint256(uint160(addr)), _ADDRESS_LENGTH);\\n    }\\n}\\n\",\"keccak256\":\"0xa4d1d62251f8574deb032a35fc948386a9b4de74b812d4f545a1ac120486b48a\",\"license\":\"MIT\"},\"@openzeppelin/contracts/utils/cryptography/ECDSA.sol\":{\"content\":\"// SPDX-License-Identifier: MIT\\n// OpenZeppelin Contracts (last updated v4.8.0) (utils/cryptography/ECDSA.sol)\\n\\npragma solidity ^0.8.0;\\n\\nimport \\\"../Strings.sol\\\";\\n\\n/**\\n * @dev Elliptic Curve Digital Signature Algorithm (ECDSA) operations.\\n *\\n * These functions can be used to verify that a message was signed by the holder\\n * of the private keys of a given address.\\n */\\nlibrary ECDSA {\\n    enum RecoverError {\\n        NoError,\\n        InvalidSignature,\\n        InvalidSignatureLength,\\n        InvalidSignatureS,\\n        InvalidSignatureV // Deprecated in v4.8\\n    }\\n\\n    function _throwError(RecoverError error) private pure {\\n        if (error == RecoverError.NoError) {\\n            return; // no error: do nothing\\n        } else if (error == RecoverError.InvalidSignature) {\\n            revert(\\\"ECDSA: invalid signature\\\");\\n        } else if (error == RecoverError.InvalidSignatureLength) {\\n            revert(\\\"ECDSA: invalid signature length\\\");\\n        } else if (error == RecoverError.InvalidSignatureS) {\\n            revert(\\\"ECDSA: invalid signature 's' value\\\");\\n        }\\n    }\\n\\n    /**\\n     * @dev Returns the address that signed a hashed message (`hash`) with\\n     * `signature` or error string. This address can then be used for verification purposes.\\n     *\\n     * The `ecrecover` EVM opcode allows for malleable (non-unique) signatures:\\n     * this function rejects them by requiring the `s` value to be in the lower\\n     * half order, and the `v` value to be either 27 or 28.\\n     *\\n     * IMPORTANT: `hash` _must_ be the result of a hash operation for the\\n     * verification to be secure: it is possible to craft signatures that\\n     * recover to arbitrary addresses for non-hashed data. A safe way to ensure\\n     * this is by receiving a hash of the original message (which may otherwise\\n     * be too long), and then calling {toEthSignedMessageHash} on it.\\n     *\\n     * Documentation for signature generation:\\n     * - with https://web3js.readthedocs.io/en/v1.3.4/web3-eth-accounts.html#sign[Web3.js]\\n     * - with https://docs.ethers.io/v5/api/signer/#Signer-signMessage[ethers]\\n     *\\n     * _Available since v4.3._\\n     */\\n    function tryRecover(bytes32 hash, bytes memory signature) internal pure returns (address, RecoverError) {\\n        if (signature.length == 65) {\\n            bytes32 r;\\n            bytes32 s;\\n            uint8 v;\\n            // ecrecover takes the signature parameters, and the only way to get them\\n            // currently is to use assembly.\\n            /// @solidity memory-safe-assembly\\n            assembly {\\n                r := mload(add(signature, 0x20))\\n                s := mload(add(signature, 0x40))\\n                v := byte(0, mload(add(signature, 0x60)))\\n            }\\n            return tryRecover(hash, v, r, s);\\n        } else {\\n            return (address(0), RecoverError.InvalidSignatureLength);\\n        }\\n    }\\n\\n    /**\\n     * @dev Returns the address that signed a hashed message (`hash`) with\\n     * `signature`. This address can then be used for verification purposes.\\n     *\\n     * The `ecrecover` EVM opcode allows for malleable (non-unique) signatures:\\n     * this function rejects them by requiring the `s` value to be in the lower\\n     * half order, and the `v` value to be either 27 or 28.\\n     *\\n     * IMPORTANT: `hash` _must_ be the result of a hash operation for the\\n     * verification to be secure: it is possible to craft signatures that\\n     * recover to arbitrary addresses for non-hashed data. A safe way to ensure\\n     * this is by receiving a hash of the original message (which may otherwise\\n     * be too long), and then calling {toEthSignedMessageHash} on it.\\n     */\\n    function recover(bytes32 hash, bytes memory signature) internal pure returns (address) {\\n        (address recovered, RecoverError error) = tryRecover(hash, signature);\\n        _throwError(error);\\n        return recovered;\\n    }\\n\\n    /**\\n     * @dev Overload of {ECDSA-tryRecover} that receives the `r` and `vs` short-signature fields separately.\\n     *\\n     * See https://eips.ethereum.org/EIPS/eip-2098[EIP-2098 short signatures]\\n     *\\n     * _Available since v4.3._\\n     */\\n    function tryRecover(\\n        bytes32 hash,\\n        bytes32 r,\\n        bytes32 vs\\n    ) internal pure returns (address, RecoverError) {\\n        bytes32 s = vs & bytes32(0x7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff);\\n        uint8 v = uint8((uint256(vs) >> 255) + 27);\\n        return tryRecover(hash, v, r, s);\\n    }\\n\\n    /**\\n     * @dev Overload of {ECDSA-recover} that receives the `r and `vs` short-signature fields separately.\\n     *\\n     * _Available since v4.2._\\n     */\\n    function recover(\\n        bytes32 hash,\\n        bytes32 r,\\n        bytes32 vs\\n    ) internal pure returns (address) {\\n        (address recovered, RecoverError error) = tryRecover(hash, r, vs);\\n        _throwError(error);\\n        return recovered;\\n    }\\n\\n    /**\\n     * @dev Overload of {ECDSA-tryRecover} that receives the `v`,\\n     * `r` and `s` signature fields separately.\\n     *\\n     * _Available since v4.3._\\n     */\\n    function tryRecover(\\n        bytes32 hash,\\n        uint8 v,\\n        bytes32 r,\\n        bytes32 s\\n    ) internal pure returns (address, RecoverError) {\\n        // EIP-2 still allows signature malleability for ecrecover(). Remove this possibility and make the signature\\n        // unique. Appendix F in the Ethereum Yellow paper (https://ethereum.github.io/yellowpaper/paper.pdf), defines\\n        // the valid range for s in (301): 0 < s < secp256k1n \\u00f7 2 + 1, and for v in (302): v \\u2208 {27, 28}. Most\\n        // signatures from current libraries generate a unique signature with an s-value in the lower half order.\\n        //\\n        // If your library generates malleable signatures, such as s-values in the upper range, calculate a new s-value\\n        // with 0xFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEBAAEDCE6AF48A03BBFD25E8CD0364141 - s1 and flip v from 27 to 28 or\\n        // vice versa. If your library also generates signatures with 0/1 for v instead 27/28, add 27 to v to accept\\n        // these malleable signatures as well.\\n        if (uint256(s) > 0x7FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF5D576E7357A4501DDFE92F46681B20A0) {\\n            return (address(0), RecoverError.InvalidSignatureS);\\n        }\\n\\n        // If the signature is valid (and not malleable), return the signer address\\n        address signer = ecrecover(hash, v, r, s);\\n        if (signer == address(0)) {\\n            return (address(0), RecoverError.InvalidSignature);\\n        }\\n\\n        return (signer, RecoverError.NoError);\\n    }\\n\\n    /**\\n     * @dev Overload of {ECDSA-recover} that receives the `v`,\\n     * `r` and `s` signature fields separately.\\n     */\\n    function recover(\\n        bytes32 hash,\\n        uint8 v,\\n        bytes32 r,\\n        bytes32 s\\n    ) internal pure returns (address) {\\n        (address recovered, RecoverError error) = tryRecover(hash, v, r, s);\\n        _throwError(error);\\n        return recovered;\\n    }\\n\\n    /**\\n     * @dev Returns an Ethereum Signed Message, created from a `hash`. This\\n     * produces hash corresponding to the one signed with the\\n     * https://eth.wiki/json-rpc/API#eth_sign[`eth_sign`]\\n     * JSON-RPC method as part of EIP-191.\\n     *\\n     * See {recover}.\\n     */\\n    function toEthSignedMessageHash(bytes32 hash) internal pure returns (bytes32) {\\n        // 32 is the length in bytes of hash,\\n        // enforced by the type signature above\\n        return keccak256(abi.encodePacked(\\\"\\\\x19Ethereum Signed Message:\\\\n32\\\", hash));\\n    }\\n\\n    /**\\n     * @dev Returns an Ethereum Signed Message, created from `s`. This\\n     * produces hash corresponding to the one signed with the\\n     * https://eth.wiki/json-rpc/API#eth_sign[`eth_sign`]\\n     * JSON-RPC method as part of EIP-191.\\n     *\\n     * See {recover}.\\n     */\\n    function toEthSignedMessageHash(bytes memory s) internal pure returns (bytes32) {\\n        return keccak256(abi.encodePacked(\\\"\\\\x19Ethereum Signed Message:\\\\n\\\", Strings.toString(s.length), s));\\n    }\\n\\n    /**\\n     * @dev Returns an Ethereum Signed Typed Data, created from a\\n     * `domainSeparator` and a `structHash`. This produces hash corresponding\\n     * to the one signed with the\\n     * https://eips.ethereum.org/EIPS/eip-712[`eth_signTypedData`]\\n     * JSON-RPC method as part of EIP-712.\\n     *\\n     * See {recover}.\\n     */\\n    function toTypedDataHash(bytes32 domainSeparator, bytes32 structHash) internal pure returns (bytes32) {\\n        return keccak256(abi.encodePacked(\\\"\\\\x19\\\\x01\\\", domainSeparator, structHash));\\n    }\\n}\\n\",\"keccak256\":\"0xda898fa084aa1ddfdb346e6a40459e00a59d87071cce7c315a46d648dd71d0ba\",\"license\":\"MIT\"},\"@openzeppelin/contracts/utils/introspection/ERC165.sol\":{\"content\":\"// SPDX-License-Identifier: MIT\\n// OpenZeppelin Contracts v4.4.1 (utils/introspection/ERC165.sol)\\n\\npragma solidity ^0.8.0;\\n\\nimport \\\"./IERC165.sol\\\";\\n\\n/**\\n * @dev Implementation of the {IERC165} interface.\\n *\\n * Contracts that want to implement ERC165 should inherit from this contract and override {supportsInterface} to check\\n * for the additional interface id that will be supported. For example:\\n *\\n * ```solidity\\n * function supportsInterface(bytes4 interfaceId) public view virtual override returns (bool) {\\n *     return interfaceId == type(MyInterface).interfaceId || super.supportsInterface(interfaceId);\\n * }\\n * ```\\n *\\n * Alternatively, {ERC165Storage} provides an easier to use but more expensive implementation.\\n */\\nabstract contract ERC165 is IERC165 {\\n    /**\\n     * @dev See {IERC165-supportsInterface}.\\n     */\\n    function supportsInterface(bytes4 interfaceId) public view virtual override returns (bool) {\\n        return interfaceId == type(IERC165).interfaceId;\\n    }\\n}\\n\",\"keccak256\":\"0xd10975de010d89fd1c78dc5e8a9a7e7f496198085c151648f20cba166b32582b\",\"license\":\"MIT\"},\"@openzeppelin/contracts/utils/introspection/ERC165Checker.sol\":{\"content\":\"// SPDX-License-Identifier: MIT\\n// OpenZeppelin Contracts (last updated v4.8.2) (utils/introspection/ERC165Checker.sol)\\n\\npragma solidity ^0.8.0;\\n\\nimport \\\"./IERC165.sol\\\";\\n\\n/**\\n * @dev Library used to query support of an interface declared via {IERC165}.\\n *\\n * Note that these functions return the actual result of the query: they do not\\n * `revert` if an interface is not supported. It is up to the caller to decide\\n * what to do in these cases.\\n */\\nlibrary ERC165Checker {\\n    // As per the EIP-165 spec, no interface should ever match 0xffffffff\\n    bytes4 private constant _INTERFACE_ID_INVALID = 0xffffffff;\\n\\n    /**\\n     * @dev Returns true if `account` supports the {IERC165} interface.\\n     */\\n    function supportsERC165(address account) internal view returns (bool) {\\n        // Any contract that implements ERC165 must explicitly indicate support of\\n        // InterfaceId_ERC165 and explicitly indicate non-support of InterfaceId_Invalid\\n        return\\n            supportsERC165InterfaceUnchecked(account, type(IERC165).interfaceId) &&\\n            !supportsERC165InterfaceUnchecked(account, _INTERFACE_ID_INVALID);\\n    }\\n\\n    /**\\n     * @dev Returns true if `account` supports the interface defined by\\n     * `interfaceId`. Support for {IERC165} itself is queried automatically.\\n     *\\n     * See {IERC165-supportsInterface}.\\n     */\\n    function supportsInterface(address account, bytes4 interfaceId) internal view returns (bool) {\\n        // query support of both ERC165 as per the spec and support of _interfaceId\\n        return supportsERC165(account) && supportsERC165InterfaceUnchecked(account, interfaceId);\\n    }\\n\\n    /**\\n     * @dev Returns a boolean array where each value corresponds to the\\n     * interfaces passed in and whether they're supported or not. This allows\\n     * you to batch check interfaces for a contract where your expectation\\n     * is that some interfaces may not be supported.\\n     *\\n     * See {IERC165-supportsInterface}.\\n     *\\n     * _Available since v3.4._\\n     */\\n    function getSupportedInterfaces(address account, bytes4[] memory interfaceIds)\\n        internal\\n        view\\n        returns (bool[] memory)\\n    {\\n        // an array of booleans corresponding to interfaceIds and whether they're supported or not\\n        bool[] memory interfaceIdsSupported = new bool[](interfaceIds.length);\\n\\n        // query support of ERC165 itself\\n        if (supportsERC165(account)) {\\n            // query support of each interface in interfaceIds\\n            for (uint256 i = 0; i < interfaceIds.length; i++) {\\n                interfaceIdsSupported[i] = supportsERC165InterfaceUnchecked(account, interfaceIds[i]);\\n            }\\n        }\\n\\n        return interfaceIdsSupported;\\n    }\\n\\n    /**\\n     * @dev Returns true if `account` supports all the interfaces defined in\\n     * `interfaceIds`. Support for {IERC165} itself is queried automatically.\\n     *\\n     * Batch-querying can lead to gas savings by skipping repeated checks for\\n     * {IERC165} support.\\n     *\\n     * See {IERC165-supportsInterface}.\\n     */\\n    function supportsAllInterfaces(address account, bytes4[] memory interfaceIds) internal view returns (bool) {\\n        // query support of ERC165 itself\\n        if (!supportsERC165(account)) {\\n            return false;\\n        }\\n\\n        // query support of each interface in interfaceIds\\n        for (uint256 i = 0; i < interfaceIds.length; i++) {\\n            if (!supportsERC165InterfaceUnchecked(account, interfaceIds[i])) {\\n                return false;\\n            }\\n        }\\n\\n        // all interfaces supported\\n        return true;\\n    }\\n\\n    /**\\n     * @notice Query if a contract implements an interface, does not check ERC165 support\\n     * @param account The address of the contract to query for support of an interface\\n     * @param interfaceId The interface identifier, as specified in ERC-165\\n     * @return true if the contract at account indicates support of the interface with\\n     * identifier interfaceId, false otherwise\\n     * @dev Assumes that account contains a contract that supports ERC165, otherwise\\n     * the behavior of this method is undefined. This precondition can be checked\\n     * with {supportsERC165}.\\n     *\\n     * Some precompiled contracts will falsely indicate support for a given interface, so caution\\n     * should be exercised when using this function.\\n     *\\n     * Interface identification is specified in ERC-165.\\n     */\\n    function supportsERC165InterfaceUnchecked(address account, bytes4 interfaceId) internal view returns (bool) {\\n        // prepare call\\n        bytes memory encodedParams = abi.encodeWithSelector(IERC165.supportsInterface.selector, interfaceId);\\n\\n        // perform static call\\n        bool success;\\n        uint256 returnSize;\\n        uint256 returnValue;\\n        assembly {\\n            success := staticcall(30000, account, add(encodedParams, 0x20), mload(encodedParams), 0x00, 0x20)\\n            returnSize := returndatasize()\\n            returnValue := mload(0x00)\\n        }\\n\\n        return success && returnSize >= 0x20 && returnValue > 0;\\n    }\\n}\\n\",\"keccak256\":\"0x6ac3ebc0fe0ac3a70a561aa19210b49af9aa530b89ebb1cdc8a5901aabf7212e\",\"license\":\"MIT\"},\"@openzeppelin/contracts/utils/introspection/IERC165.sol\":{\"content\":\"// SPDX-License-Identifier: MIT\\n// OpenZeppelin Contracts v4.4.1 (utils/introspection/IERC165.sol)\\n\\npragma solidity ^0.8.0;\\n\\n/**\\n * @dev Interface of the ERC165 standard, as defined in the\\n * https://eips.ethereum.org/EIPS/eip-165[EIP].\\n *\\n * Implementers can declare support of contract interfaces, which can then be\\n * queried by others ({ERC165Checker}).\\n *\\n * For an implementation, see {ERC165}.\\n */\\ninterface IERC165 {\\n    /**\\n     * @dev Returns true if this contract implements the interface defined by\\n     * `interfaceId`. See the corresponding\\n     * https://eips.ethereum.org/EIPS/eip-165#how-interfaces-are-identified[EIP section]\\n     * to learn more about how these ids are created.\\n     *\\n     * This function call must use less than 30 000 gas.\\n     */\\n    function supportsInterface(bytes4 interfaceId) external view returns (bool);\\n}\\n\",\"keccak256\":\"0x447a5f3ddc18419d41ff92b3773fb86471b1db25773e07f877f548918a185bf1\",\"license\":\"MIT\"},\"@openzeppelin/contracts/utils/math/Math.sol\":{\"content\":\"// SPDX-License-Identifier: MIT\\n// OpenZeppelin Contracts (last updated v4.8.0) (utils/math/Math.sol)\\n\\npragma solidity ^0.8.0;\\n\\n/**\\n * @dev Standard math utilities missing in the Solidity language.\\n */\\nlibrary Math {\\n    enum Rounding {\\n        Down, // Toward negative infinity\\n        Up, // Toward infinity\\n        Zero // Toward zero\\n    }\\n\\n    /**\\n     * @dev Returns the largest of two numbers.\\n     */\\n    function max(uint256 a, uint256 b) internal pure returns (uint256) {\\n        return a > b ? a : b;\\n    }\\n\\n    /**\\n     * @dev Returns the smallest of two numbers.\\n     */\\n    function min(uint256 a, uint256 b) internal pure returns (uint256) {\\n        return a < b ? a : b;\\n    }\\n\\n    /**\\n     * @dev Returns the average of two numbers. The result is rounded towards\\n     * zero.\\n     */\\n    function average(uint256 a, uint256 b) internal pure returns (uint256) {\\n        // (a + b) / 2 can overflow.\\n        return (a & b) + (a ^ b) / 2;\\n    }\\n\\n    /**\\n     * @dev Returns the ceiling of the division of two numbers.\\n     *\\n     * This differs from standard division with `/` in that it rounds up instead\\n     * of rounding down.\\n     */\\n    function ceilDiv(uint256 a, uint256 b) internal pure returns (uint256) {\\n        // (a + b - 1) / b can overflow on addition, so we distribute.\\n        return a == 0 ? 0 : (a - 1) / b + 1;\\n    }\\n\\n    /**\\n     * @notice Calculates floor(x * y / denominator) with full precision. Throws if result overflows a uint256 or denominator == 0\\n     * @dev Original credit to Remco Bloemen under MIT license (https://xn--2-umb.com/21/muldiv)\\n     * with further edits by Uniswap Labs also under MIT license.\\n     */\\n    function mulDiv(\\n        uint256 x,\\n        uint256 y,\\n        uint256 denominator\\n    ) internal pure returns (uint256 result) {\\n        unchecked {\\n            // 512-bit multiply [prod1 prod0] = x * y. Compute the product mod 2^256 and mod 2^256 - 1, then use\\n            // use the Chinese Remainder Theorem to reconstruct the 512 bit result. The result is stored in two 256\\n            // variables such that product = prod1 * 2^256 + prod0.\\n            uint256 prod0; // Least significant 256 bits of the product\\n            uint256 prod1; // Most significant 256 bits of the product\\n            assembly {\\n                let mm := mulmod(x, y, not(0))\\n                prod0 := mul(x, y)\\n                prod1 := sub(sub(mm, prod0), lt(mm, prod0))\\n            }\\n\\n            // Handle non-overflow cases, 256 by 256 division.\\n            if (prod1 == 0) {\\n                return prod0 / denominator;\\n            }\\n\\n            // Make sure the result is less than 2^256. Also prevents denominator == 0.\\n            require(denominator > prod1);\\n\\n            ///////////////////////////////////////////////\\n            // 512 by 256 division.\\n            ///////////////////////////////////////////////\\n\\n            // Make division exact by subtracting the remainder from [prod1 prod0].\\n            uint256 remainder;\\n            assembly {\\n                // Compute remainder using mulmod.\\n                remainder := mulmod(x, y, denominator)\\n\\n                // Subtract 256 bit number from 512 bit number.\\n                prod1 := sub(prod1, gt(remainder, prod0))\\n                prod0 := sub(prod0, remainder)\\n            }\\n\\n            // Factor powers of two out of denominator and compute largest power of two divisor of denominator. Always >= 1.\\n            // See https://cs.stackexchange.com/q/138556/92363.\\n\\n            // Does not overflow because the denominator cannot be zero at this stage in the function.\\n            uint256 twos = denominator & (~denominator + 1);\\n            assembly {\\n                // Divide denominator by twos.\\n                denominator := div(denominator, twos)\\n\\n                // Divide [prod1 prod0] by twos.\\n                prod0 := div(prod0, twos)\\n\\n                // Flip twos such that it is 2^256 / twos. If twos is zero, then it becomes one.\\n                twos := add(div(sub(0, twos), twos), 1)\\n            }\\n\\n            // Shift in bits from prod1 into prod0.\\n            prod0 |= prod1 * twos;\\n\\n            // Invert denominator mod 2^256. Now that denominator is an odd number, it has an inverse modulo 2^256 such\\n            // that denominator * inv = 1 mod 2^256. Compute the inverse by starting with a seed that is correct for\\n            // four bits. That is, denominator * inv = 1 mod 2^4.\\n            uint256 inverse = (3 * denominator) ^ 2;\\n\\n            // Use the Newton-Raphson iteration to improve the precision. Thanks to Hensel's lifting lemma, this also works\\n            // in modular arithmetic, doubling the correct bits in each step.\\n            inverse *= 2 - denominator * inverse; // inverse mod 2^8\\n            inverse *= 2 - denominator * inverse; // inverse mod 2^16\\n            inverse *= 2 - denominator * inverse; // inverse mod 2^32\\n            inverse *= 2 - denominator * inverse; // inverse mod 2^64\\n            inverse *= 2 - denominator * inverse; // inverse mod 2^128\\n            inverse *= 2 - denominator * inverse; // inverse mod 2^256\\n\\n            // Because the division is now exact we can divide by multiplying with the modular inverse of denominator.\\n            // This will give us the correct result modulo 2^256. Since the preconditions guarantee that the outcome is\\n            // less than 2^256, this is the final result. We don't need to compute the high bits of the result and prod1\\n            // is no longer required.\\n            result = prod0 * inverse;\\n            return result;\\n        }\\n    }\\n\\n    /**\\n     * @notice Calculates x * y / denominator with full precision, following the selected rounding direction.\\n     */\\n    function mulDiv(\\n        uint256 x,\\n        uint256 y,\\n        uint256 denominator,\\n        Rounding rounding\\n    ) internal pure returns (uint256) {\\n        uint256 result = mulDiv(x, y, denominator);\\n        if (rounding == Rounding.Up && mulmod(x, y, denominator) > 0) {\\n            result += 1;\\n        }\\n        return result;\\n    }\\n\\n    /**\\n     * @dev Returns the square root of a number. If the number is not a perfect square, the value is rounded down.\\n     *\\n     * Inspired by Henry S. Warren, Jr.'s \\\"Hacker's Delight\\\" (Chapter 11).\\n     */\\n    function sqrt(uint256 a) internal pure returns (uint256) {\\n        if (a == 0) {\\n            return 0;\\n        }\\n\\n        // For our first guess, we get the biggest power of 2 which is smaller than the square root of the target.\\n        //\\n        // We know that the \\\"msb\\\" (most significant bit) of our target number `a` is a power of 2 such that we have\\n        // `msb(a) <= a < 2*msb(a)`. This value can be written `msb(a)=2**k` with `k=log2(a)`.\\n        //\\n        // This can be rewritten `2**log2(a) <= a < 2**(log2(a) + 1)`\\n        // \\u2192 `sqrt(2**k) <= sqrt(a) < sqrt(2**(k+1))`\\n        // \\u2192 `2**(k/2) <= sqrt(a) < 2**((k+1)/2) <= 2**(k/2 + 1)`\\n        //\\n        // Consequently, `2**(log2(a) / 2)` is a good first approximation of `sqrt(a)` with at least 1 correct bit.\\n        uint256 result = 1 << (log2(a) >> 1);\\n\\n        // At this point `result` is an estimation with one bit of precision. We know the true value is a uint128,\\n        // since it is the square root of a uint256. Newton's method converges quadratically (precision doubles at\\n        // every iteration). We thus need at most 7 iteration to turn our partial result with one bit of precision\\n        // into the expected uint128 result.\\n        unchecked {\\n            result = (result + a / result) >> 1;\\n            result = (result + a / result) >> 1;\\n            result = (result + a / result) >> 1;\\n            result = (result + a / result) >> 1;\\n            result = (result + a / result) >> 1;\\n            result = (result + a / result) >> 1;\\n            result = (result + a / result) >> 1;\\n            return min(result, a / result);\\n        }\\n    }\\n\\n    /**\\n     * @notice Calculates sqrt(a), following the selected rounding direction.\\n     */\\n    function sqrt(uint256 a, Rounding rounding) internal pure returns (uint256) {\\n        unchecked {\\n            uint256 result = sqrt(a);\\n            return result + (rounding == Rounding.Up && result * result < a ? 1 : 0);\\n        }\\n    }\\n\\n    /**\\n     * @dev Return the log in base 2, rounded down, of a positive value.\\n     * Returns 0 if given 0.\\n     */\\n    function log2(uint256 value) internal pure returns (uint256) {\\n        uint256 result = 0;\\n        unchecked {\\n            if (value >> 128 > 0) {\\n                value >>= 128;\\n                result += 128;\\n            }\\n            if (value >> 64 > 0) {\\n                value >>= 64;\\n                result += 64;\\n            }\\n            if (value >> 32 > 0) {\\n                value >>= 32;\\n                result += 32;\\n            }\\n            if (value >> 16 > 0) {\\n                value >>= 16;\\n                result += 16;\\n            }\\n            if (value >> 8 > 0) {\\n                value >>= 8;\\n                result += 8;\\n            }\\n            if (value >> 4 > 0) {\\n                value >>= 4;\\n                result += 4;\\n            }\\n            if (value >> 2 > 0) {\\n                value >>= 2;\\n                result += 2;\\n            }\\n            if (value >> 1 > 0) {\\n                result += 1;\\n            }\\n        }\\n        return result;\\n    }\\n\\n    /**\\n     * @dev Return the log in base 2, following the selected rounding direction, of a positive value.\\n     * Returns 0 if given 0.\\n     */\\n    function log2(uint256 value, Rounding rounding) internal pure returns (uint256) {\\n        unchecked {\\n            uint256 result = log2(value);\\n            return result + (rounding == Rounding.Up && 1 << result < value ? 1 : 0);\\n        }\\n    }\\n\\n    /**\\n     * @dev Return the log in base 10, rounded down, of a positive value.\\n     * Returns 0 if given 0.\\n     */\\n    function log10(uint256 value) internal pure returns (uint256) {\\n        uint256 result = 0;\\n        unchecked {\\n            if (value >= 10**64) {\\n                value /= 10**64;\\n                result += 64;\\n            }\\n            if (value >= 10**32) {\\n                value /= 10**32;\\n                result += 32;\\n            }\\n            if (value >= 10**16) {\\n                value /= 10**16;\\n                result += 16;\\n            }\\n            if (value >= 10**8) {\\n                value /= 10**8;\\n                result += 8;\\n            }\\n            if (value >= 10**4) {\\n                value /= 10**4;\\n                result += 4;\\n            }\\n            if (value >= 10**2) {\\n                value /= 10**2;\\n                result += 2;\\n            }\\n            if (value >= 10**1) {\\n                result += 1;\\n            }\\n        }\\n        return result;\\n    }\\n\\n    /**\\n     * @dev Return the log in base 10, following the selected rounding direction, of a positive value.\\n     * Returns 0 if given 0.\\n     */\\n    function log10(uint256 value, Rounding rounding) internal pure returns (uint256) {\\n        unchecked {\\n            uint256 result = log10(value);\\n            return result + (rounding == Rounding.Up && 10**result < value ? 1 : 0);\\n        }\\n    }\\n\\n    /**\\n     * @dev Return the log in base 256, rounded down, of a positive value.\\n     * Returns 0 if given 0.\\n     *\\n     * Adding one to the result gives the number of pairs of hex symbols needed to represent `value` as a hex string.\\n     */\\n    function log256(uint256 value) internal pure returns (uint256) {\\n        uint256 result = 0;\\n        unchecked {\\n            if (value >> 128 > 0) {\\n                value >>= 128;\\n                result += 16;\\n            }\\n            if (value >> 64 > 0) {\\n                value >>= 64;\\n                result += 8;\\n            }\\n            if (value >> 32 > 0) {\\n                value >>= 32;\\n                result += 4;\\n            }\\n            if (value >> 16 > 0) {\\n                value >>= 16;\\n                result += 2;\\n            }\\n            if (value >> 8 > 0) {\\n                result += 1;\\n            }\\n        }\\n        return result;\\n    }\\n\\n    /**\\n     * @dev Return the log in base 10, following the selected rounding direction, of a positive value.\\n     * Returns 0 if given 0.\\n     */\\n    function log256(uint256 value, Rounding rounding) internal pure returns (uint256) {\\n        unchecked {\\n            uint256 result = log256(value);\\n            return result + (rounding == Rounding.Up && 1 << (result * 8) < value ? 1 : 0);\\n        }\\n    }\\n}\\n\",\"keccak256\":\"0xa1e8e83cd0087785df04ac79fb395d9f3684caeaf973d9e2c71caef723a3a5d6\",\"license\":\"MIT\"},\"@openzeppelin/contracts/utils/structs/EnumerableMap.sol\":{\"content\":\"// SPDX-License-Identifier: MIT\\n// OpenZeppelin Contracts (last updated v4.8.0) (utils/structs/EnumerableMap.sol)\\n// This file was procedurally generated from scripts/generate/templates/EnumerableMap.js.\\n\\npragma solidity ^0.8.0;\\n\\nimport \\\"./EnumerableSet.sol\\\";\\n\\n/**\\n * @dev Library for managing an enumerable variant of Solidity's\\n * https://solidity.readthedocs.io/en/latest/types.html#mapping-types[`mapping`]\\n * type.\\n *\\n * Maps have the following properties:\\n *\\n * - Entries are added, removed, and checked for existence in constant time\\n * (O(1)).\\n * - Entries are enumerated in O(n). No guarantees are made on the ordering.\\n *\\n * ```\\n * contract Example {\\n *     // Add the library methods\\n *     using EnumerableMap for EnumerableMap.UintToAddressMap;\\n *\\n *     // Declare a set state variable\\n *     EnumerableMap.UintToAddressMap private myMap;\\n * }\\n * ```\\n *\\n * The following map types are supported:\\n *\\n * - `uint256 -> address` (`UintToAddressMap`) since v3.0.0\\n * - `address -> uint256` (`AddressToUintMap`) since v4.6.0\\n * - `bytes32 -> bytes32` (`Bytes32ToBytes32Map`) since v4.6.0\\n * - `uint256 -> uint256` (`UintToUintMap`) since v4.7.0\\n * - `bytes32 -> uint256` (`Bytes32ToUintMap`) since v4.7.0\\n *\\n * [WARNING]\\n * ====\\n * Trying to delete such a structure from storage will likely result in data corruption, rendering the structure\\n * unusable.\\n * See https://github.com/ethereum/solidity/pull/11843[ethereum/solidity#11843] for more info.\\n *\\n * In order to clean an EnumerableMap, you can either remove all elements one by one or create a fresh instance using an\\n * array of EnumerableMap.\\n * ====\\n */\\nlibrary EnumerableMap {\\n    using EnumerableSet for EnumerableSet.Bytes32Set;\\n\\n    // To implement this library for multiple types with as little code\\n    // repetition as possible, we write it in terms of a generic Map type with\\n    // bytes32 keys and values.\\n    // The Map implementation uses private functions, and user-facing\\n    // implementations (such as Uint256ToAddressMap) are just wrappers around\\n    // the underlying Map.\\n    // This means that we can only create new EnumerableMaps for types that fit\\n    // in bytes32.\\n\\n    struct Bytes32ToBytes32Map {\\n        // Storage of keys\\n        EnumerableSet.Bytes32Set _keys;\\n        mapping(bytes32 => bytes32) _values;\\n    }\\n\\n    /**\\n     * @dev Adds a key-value pair to a map, or updates the value for an existing\\n     * key. O(1).\\n     *\\n     * Returns true if the key was added to the map, that is if it was not\\n     * already present.\\n     */\\n    function set(\\n        Bytes32ToBytes32Map storage map,\\n        bytes32 key,\\n        bytes32 value\\n    ) internal returns (bool) {\\n        map._values[key] = value;\\n        return map._keys.add(key);\\n    }\\n\\n    /**\\n     * @dev Removes a key-value pair from a map. O(1).\\n     *\\n     * Returns true if the key was removed from the map, that is if it was present.\\n     */\\n    function remove(Bytes32ToBytes32Map storage map, bytes32 key) internal returns (bool) {\\n        delete map._values[key];\\n        return map._keys.remove(key);\\n    }\\n\\n    /**\\n     * @dev Returns true if the key is in the map. O(1).\\n     */\\n    function contains(Bytes32ToBytes32Map storage map, bytes32 key) internal view returns (bool) {\\n        return map._keys.contains(key);\\n    }\\n\\n    /**\\n     * @dev Returns the number of key-value pairs in the map. O(1).\\n     */\\n    function length(Bytes32ToBytes32Map storage map) internal view returns (uint256) {\\n        return map._keys.length();\\n    }\\n\\n    /**\\n     * @dev Returns the key-value pair stored at position `index` in the map. O(1).\\n     *\\n     * Note that there are no guarantees on the ordering of entries inside the\\n     * array, and it may change when more entries are added or removed.\\n     *\\n     * Requirements:\\n     *\\n     * - `index` must be strictly less than {length}.\\n     */\\n    function at(Bytes32ToBytes32Map storage map, uint256 index) internal view returns (bytes32, bytes32) {\\n        bytes32 key = map._keys.at(index);\\n        return (key, map._values[key]);\\n    }\\n\\n    /**\\n     * @dev Tries to returns the value associated with `key`. O(1).\\n     * Does not revert if `key` is not in the map.\\n     */\\n    function tryGet(Bytes32ToBytes32Map storage map, bytes32 key) internal view returns (bool, bytes32) {\\n        bytes32 value = map._values[key];\\n        if (value == bytes32(0)) {\\n            return (contains(map, key), bytes32(0));\\n        } else {\\n            return (true, value);\\n        }\\n    }\\n\\n    /**\\n     * @dev Returns the value associated with `key`. O(1).\\n     *\\n     * Requirements:\\n     *\\n     * - `key` must be in the map.\\n     */\\n    function get(Bytes32ToBytes32Map storage map, bytes32 key) internal view returns (bytes32) {\\n        bytes32 value = map._values[key];\\n        require(value != 0 || contains(map, key), \\\"EnumerableMap: nonexistent key\\\");\\n        return value;\\n    }\\n\\n    /**\\n     * @dev Same as {get}, with a custom error message when `key` is not in the map.\\n     *\\n     * CAUTION: This function is deprecated because it requires allocating memory for the error\\n     * message unnecessarily. For custom revert reasons use {tryGet}.\\n     */\\n    function get(\\n        Bytes32ToBytes32Map storage map,\\n        bytes32 key,\\n        string memory errorMessage\\n    ) internal view returns (bytes32) {\\n        bytes32 value = map._values[key];\\n        require(value != 0 || contains(map, key), errorMessage);\\n        return value;\\n    }\\n\\n    // UintToUintMap\\n\\n    struct UintToUintMap {\\n        Bytes32ToBytes32Map _inner;\\n    }\\n\\n    /**\\n     * @dev Adds a key-value pair to a map, or updates the value for an existing\\n     * key. O(1).\\n     *\\n     * Returns true if the key was added to the map, that is if it was not\\n     * already present.\\n     */\\n    function set(\\n        UintToUintMap storage map,\\n        uint256 key,\\n        uint256 value\\n    ) internal returns (bool) {\\n        return set(map._inner, bytes32(key), bytes32(value));\\n    }\\n\\n    /**\\n     * @dev Removes a value from a set. O(1).\\n     *\\n     * Returns true if the key was removed from the map, that is if it was present.\\n     */\\n    function remove(UintToUintMap storage map, uint256 key) internal returns (bool) {\\n        return remove(map._inner, bytes32(key));\\n    }\\n\\n    /**\\n     * @dev Returns true if the key is in the map. O(1).\\n     */\\n    function contains(UintToUintMap storage map, uint256 key) internal view returns (bool) {\\n        return contains(map._inner, bytes32(key));\\n    }\\n\\n    /**\\n     * @dev Returns the number of elements in the map. O(1).\\n     */\\n    function length(UintToUintMap storage map) internal view returns (uint256) {\\n        return length(map._inner);\\n    }\\n\\n    /**\\n     * @dev Returns the element stored at position `index` in the set. O(1).\\n     * Note that there are no guarantees on the ordering of values inside the\\n     * array, and it may change when more values are added or removed.\\n     *\\n     * Requirements:\\n     *\\n     * - `index` must be strictly less than {length}.\\n     */\\n    function at(UintToUintMap storage map, uint256 index) internal view returns (uint256, uint256) {\\n        (bytes32 key, bytes32 value) = at(map._inner, index);\\n        return (uint256(key), uint256(value));\\n    }\\n\\n    /**\\n     * @dev Tries to returns the value associated with `key`. O(1).\\n     * Does not revert if `key` is not in the map.\\n     */\\n    function tryGet(UintToUintMap storage map, uint256 key) internal view returns (bool, uint256) {\\n        (bool success, bytes32 value) = tryGet(map._inner, bytes32(key));\\n        return (success, uint256(value));\\n    }\\n\\n    /**\\n     * @dev Returns the value associated with `key`. O(1).\\n     *\\n     * Requirements:\\n     *\\n     * - `key` must be in the map.\\n     */\\n    function get(UintToUintMap storage map, uint256 key) internal view returns (uint256) {\\n        return uint256(get(map._inner, bytes32(key)));\\n    }\\n\\n    /**\\n     * @dev Same as {get}, with a custom error message when `key` is not in the map.\\n     *\\n     * CAUTION: This function is deprecated because it requires allocating memory for the error\\n     * message unnecessarily. For custom revert reasons use {tryGet}.\\n     */\\n    function get(\\n        UintToUintMap storage map,\\n        uint256 key,\\n        string memory errorMessage\\n    ) internal view returns (uint256) {\\n        return uint256(get(map._inner, bytes32(key), errorMessage));\\n    }\\n\\n    // UintToAddressMap\\n\\n    struct UintToAddressMap {\\n        Bytes32ToBytes32Map _inner;\\n    }\\n\\n    /**\\n     * @dev Adds a key-value pair to a map, or updates the value for an existing\\n     * key. O(1).\\n     *\\n     * Returns true if the key was added to the map, that is if it was not\\n     * already present.\\n     */\\n    function set(\\n        UintToAddressMap storage map,\\n        uint256 key,\\n        address value\\n    ) internal returns (bool) {\\n        return set(map._inner, bytes32(key), bytes32(uint256(uint160(value))));\\n    }\\n\\n    /**\\n     * @dev Removes a value from a set. O(1).\\n     *\\n     * Returns true if the key was removed from the map, that is if it was present.\\n     */\\n    function remove(UintToAddressMap storage map, uint256 key) internal returns (bool) {\\n        return remove(map._inner, bytes32(key));\\n    }\\n\\n    /**\\n     * @dev Returns true if the key is in the map. O(1).\\n     */\\n    function contains(UintToAddressMap storage map, uint256 key) internal view returns (bool) {\\n        return contains(map._inner, bytes32(key));\\n    }\\n\\n    /**\\n     * @dev Returns the number of elements in the map. O(1).\\n     */\\n    function length(UintToAddressMap storage map) internal view returns (uint256) {\\n        return length(map._inner);\\n    }\\n\\n    /**\\n     * @dev Returns the element stored at position `index` in the set. O(1).\\n     * Note that there are no guarantees on the ordering of values inside the\\n     * array, and it may change when more values are added or removed.\\n     *\\n     * Requirements:\\n     *\\n     * - `index` must be strictly less than {length}.\\n     */\\n    function at(UintToAddressMap storage map, uint256 index) internal view returns (uint256, address) {\\n        (bytes32 key, bytes32 value) = at(map._inner, index);\\n        return (uint256(key), address(uint160(uint256(value))));\\n    }\\n\\n    /**\\n     * @dev Tries to returns the value associated with `key`. O(1).\\n     * Does not revert if `key` is not in the map.\\n     */\\n    function tryGet(UintToAddressMap storage map, uint256 key) internal view returns (bool, address) {\\n        (bool success, bytes32 value) = tryGet(map._inner, bytes32(key));\\n        return (success, address(uint160(uint256(value))));\\n    }\\n\\n    /**\\n     * @dev Returns the value associated with `key`. O(1).\\n     *\\n     * Requirements:\\n     *\\n     * - `key` must be in the map.\\n     */\\n    function get(UintToAddressMap storage map, uint256 key) internal view returns (address) {\\n        return address(uint160(uint256(get(map._inner, bytes32(key)))));\\n    }\\n\\n    /**\\n     * @dev Same as {get}, with a custom error message when `key` is not in the map.\\n     *\\n     * CAUTION: This function is deprecated because it requires allocating memory for the error\\n     * message unnecessarily. For custom revert reasons use {tryGet}.\\n     */\\n    function get(\\n        UintToAddressMap storage map,\\n        uint256 key,\\n        string memory errorMessage\\n    ) internal view returns (address) {\\n        return address(uint160(uint256(get(map._inner, bytes32(key), errorMessage))));\\n    }\\n\\n    // AddressToUintMap\\n\\n    struct AddressToUintMap {\\n        Bytes32ToBytes32Map _inner;\\n    }\\n\\n    /**\\n     * @dev Adds a key-value pair to a map, or updates the value for an existing\\n     * key. O(1).\\n     *\\n     * Returns true if the key was added to the map, that is if it was not\\n     * already present.\\n     */\\n    function set(\\n        AddressToUintMap storage map,\\n        address key,\\n        uint256 value\\n    ) internal returns (bool) {\\n        return set(map._inner, bytes32(uint256(uint160(key))), bytes32(value));\\n    }\\n\\n    /**\\n     * @dev Removes a value from a set. O(1).\\n     *\\n     * Returns true if the key was removed from the map, that is if it was present.\\n     */\\n    function remove(AddressToUintMap storage map, address key) internal returns (bool) {\\n        return remove(map._inner, bytes32(uint256(uint160(key))));\\n    }\\n\\n    /**\\n     * @dev Returns true if the key is in the map. O(1).\\n     */\\n    function contains(AddressToUintMap storage map, address key) internal view returns (bool) {\\n        return contains(map._inner, bytes32(uint256(uint160(key))));\\n    }\\n\\n    /**\\n     * @dev Returns the number of elements in the map. O(1).\\n     */\\n    function length(AddressToUintMap storage map) internal view returns (uint256) {\\n        return length(map._inner);\\n    }\\n\\n    /**\\n     * @dev Returns the element stored at position `index` in the set. O(1).\\n     * Note that there are no guarantees on the ordering of values inside the\\n     * array, and it may change when more values are added or removed.\\n     *\\n     * Requirements:\\n     *\\n     * - `index` must be strictly less than {length}.\\n     */\\n    function at(AddressToUintMap storage map, uint256 index) internal view returns (address, uint256) {\\n        (bytes32 key, bytes32 value) = at(map._inner, index);\\n        return (address(uint160(uint256(key))), uint256(value));\\n    }\\n\\n    /**\\n     * @dev Tries to returns the value associated with `key`. O(1).\\n     * Does not revert if `key` is not in the map.\\n     */\\n    function tryGet(AddressToUintMap storage map, address key) internal view returns (bool, uint256) {\\n        (bool success, bytes32 value) = tryGet(map._inner, bytes32(uint256(uint160(key))));\\n        return (success, uint256(value));\\n    }\\n\\n    /**\\n     * @dev Returns the value associated with `key`. O(1).\\n     *\\n     * Requirements:\\n     *\\n     * - `key` must be in the map.\\n     */\\n    function get(AddressToUintMap storage map, address key) internal view returns (uint256) {\\n        return uint256(get(map._inner, bytes32(uint256(uint160(key)))));\\n    }\\n\\n    /**\\n     * @dev Same as {get}, with a custom error message when `key` is not in the map.\\n     *\\n     * CAUTION: This function is deprecated because it requires allocating memory for the error\\n     * message unnecessarily. For custom revert reasons use {tryGet}.\\n     */\\n    function get(\\n        AddressToUintMap storage map,\\n        address key,\\n        string memory errorMessage\\n    ) internal view returns (uint256) {\\n        return uint256(get(map._inner, bytes32(uint256(uint160(key))), errorMessage));\\n    }\\n\\n    // Bytes32ToUintMap\\n\\n    struct Bytes32ToUintMap {\\n        Bytes32ToBytes32Map _inner;\\n    }\\n\\n    /**\\n     * @dev Adds a key-value pair to a map, or updates the value for an existing\\n     * key. O(1).\\n     *\\n     * Returns true if the key was added to the map, that is if it was not\\n     * already present.\\n     */\\n    function set(\\n        Bytes32ToUintMap storage map,\\n        bytes32 key,\\n        uint256 value\\n    ) internal returns (bool) {\\n        return set(map._inner, key, bytes32(value));\\n    }\\n\\n    /**\\n     * @dev Removes a value from a set. O(1).\\n     *\\n     * Returns true if the key was removed from the map, that is if it was present.\\n     */\\n    function remove(Bytes32ToUintMap storage map, bytes32 key) internal returns (bool) {\\n        return remove(map._inner, key);\\n    }\\n\\n    /**\\n     * @dev Returns true if the key is in the map. O(1).\\n     */\\n    function contains(Bytes32ToUintMap storage map, bytes32 key) internal view returns (bool) {\\n        return contains(map._inner, key);\\n    }\\n\\n    /**\\n     * @dev Returns the number of elements in the map. O(1).\\n     */\\n    function length(Bytes32ToUintMap storage map) internal view returns (uint256) {\\n        return length(map._inner);\\n    }\\n\\n    /**\\n     * @dev Returns the element stored at position `index` in the set. O(1).\\n     * Note that there are no guarantees on the ordering of values inside the\\n     * array, and it may change when more values are added or removed.\\n     *\\n     * Requirements:\\n     *\\n     * - `index` must be strictly less than {length}.\\n     */\\n    function at(Bytes32ToUintMap storage map, uint256 index) internal view returns (bytes32, uint256) {\\n        (bytes32 key, bytes32 value) = at(map._inner, index);\\n        return (key, uint256(value));\\n    }\\n\\n    /**\\n     * @dev Tries to returns the value associated with `key`. O(1).\\n     * Does not revert if `key` is not in the map.\\n     */\\n    function tryGet(Bytes32ToUintMap storage map, bytes32 key) internal view returns (bool, uint256) {\\n        (bool success, bytes32 value) = tryGet(map._inner, key);\\n        return (success, uint256(value));\\n    }\\n\\n    /**\\n     * @dev Returns the value associated with `key`. O(1).\\n     *\\n     * Requirements:\\n     *\\n     * - `key` must be in the map.\\n     */\\n    function get(Bytes32ToUintMap storage map, bytes32 key) internal view returns (uint256) {\\n        return uint256(get(map._inner, key));\\n    }\\n\\n    /**\\n     * @dev Same as {get}, with a custom error message when `key` is not in the map.\\n     *\\n     * CAUTION: This function is deprecated because it requires allocating memory for the error\\n     * message unnecessarily. For custom revert reasons use {tryGet}.\\n     */\\n    function get(\\n        Bytes32ToUintMap storage map,\\n        bytes32 key,\\n        string memory errorMessage\\n    ) internal view returns (uint256) {\\n        return uint256(get(map._inner, key, errorMessage));\\n    }\\n}\\n\",\"keccak256\":\"0x5094b17cb46143943f3206d0738b91a05a7005e979681af7210d534cd3e72f54\",\"license\":\"MIT\"},\"@openzeppelin/contracts/utils/structs/EnumerableSet.sol\":{\"content\":\"// SPDX-License-Identifier: MIT\\n// OpenZeppelin Contracts (last updated v4.8.0) (utils/structs/EnumerableSet.sol)\\n// This file was procedurally generated from scripts/generate/templates/EnumerableSet.js.\\n\\npragma solidity ^0.8.0;\\n\\n/**\\n * @dev Library for managing\\n * https://en.wikipedia.org/wiki/Set_(abstract_data_type)[sets] of primitive\\n * types.\\n *\\n * Sets have the following properties:\\n *\\n * - Elements are added, removed, and checked for existence in constant time\\n * (O(1)).\\n * - Elements are enumerated in O(n). No guarantees are made on the ordering.\\n *\\n * ```\\n * contract Example {\\n *     // Add the library methods\\n *     using EnumerableSet for EnumerableSet.AddressSet;\\n *\\n *     // Declare a set state variable\\n *     EnumerableSet.AddressSet private mySet;\\n * }\\n * ```\\n *\\n * As of v3.3.0, sets of type `bytes32` (`Bytes32Set`), `address` (`AddressSet`)\\n * and `uint256` (`UintSet`) are supported.\\n *\\n * [WARNING]\\n * ====\\n * Trying to delete such a structure from storage will likely result in data corruption, rendering the structure\\n * unusable.\\n * See https://github.com/ethereum/solidity/pull/11843[ethereum/solidity#11843] for more info.\\n *\\n * In order to clean an EnumerableSet, you can either remove all elements one by one or create a fresh instance using an\\n * array of EnumerableSet.\\n * ====\\n */\\nlibrary EnumerableSet {\\n    // To implement this library for multiple types with as little code\\n    // repetition as possible, we write it in terms of a generic Set type with\\n    // bytes32 values.\\n    // The Set implementation uses private functions, and user-facing\\n    // implementations (such as AddressSet) are just wrappers around the\\n    // underlying Set.\\n    // This means that we can only create new EnumerableSets for types that fit\\n    // in bytes32.\\n\\n    struct Set {\\n        // Storage of set values\\n        bytes32[] _values;\\n        // Position of the value in the `values` array, plus 1 because index 0\\n        // means a value is not in the set.\\n        mapping(bytes32 => uint256) _indexes;\\n    }\\n\\n    /**\\n     * @dev Add a value to a set. O(1).\\n     *\\n     * Returns true if the value was added to the set, that is if it was not\\n     * already present.\\n     */\\n    function _add(Set storage set, bytes32 value) private returns (bool) {\\n        if (!_contains(set, value)) {\\n            set._values.push(value);\\n            // The value is stored at length-1, but we add 1 to all indexes\\n            // and use 0 as a sentinel value\\n            set._indexes[value] = set._values.length;\\n            return true;\\n        } else {\\n            return false;\\n        }\\n    }\\n\\n    /**\\n     * @dev Removes a value from a set. O(1).\\n     *\\n     * Returns true if the value was removed from the set, that is if it was\\n     * present.\\n     */\\n    function _remove(Set storage set, bytes32 value) private returns (bool) {\\n        // We read and store the value's index to prevent multiple reads from the same storage slot\\n        uint256 valueIndex = set._indexes[value];\\n\\n        if (valueIndex != 0) {\\n            // Equivalent to contains(set, value)\\n            // To delete an element from the _values array in O(1), we swap the element to delete with the last one in\\n            // the array, and then remove the last element (sometimes called as 'swap and pop').\\n            // This modifies the order of the array, as noted in {at}.\\n\\n            uint256 toDeleteIndex = valueIndex - 1;\\n            uint256 lastIndex = set._values.length - 1;\\n\\n            if (lastIndex != toDeleteIndex) {\\n                bytes32 lastValue = set._values[lastIndex];\\n\\n                // Move the last value to the index where the value to delete is\\n                set._values[toDeleteIndex] = lastValue;\\n                // Update the index for the moved value\\n                set._indexes[lastValue] = valueIndex; // Replace lastValue's index to valueIndex\\n            }\\n\\n            // Delete the slot where the moved value was stored\\n            set._values.pop();\\n\\n            // Delete the index for the deleted slot\\n            delete set._indexes[value];\\n\\n            return true;\\n        } else {\\n            return false;\\n        }\\n    }\\n\\n    /**\\n     * @dev Returns true if the value is in the set. O(1).\\n     */\\n    function _contains(Set storage set, bytes32 value) private view returns (bool) {\\n        return set._indexes[value] != 0;\\n    }\\n\\n    /**\\n     * @dev Returns the number of values on the set. O(1).\\n     */\\n    function _length(Set storage set) private view returns (uint256) {\\n        return set._values.length;\\n    }\\n\\n    /**\\n     * @dev Returns the value stored at position `index` in the set. O(1).\\n     *\\n     * Note that there are no guarantees on the ordering of values inside the\\n     * array, and it may change when more values are added or removed.\\n     *\\n     * Requirements:\\n     *\\n     * - `index` must be strictly less than {length}.\\n     */\\n    function _at(Set storage set, uint256 index) private view returns (bytes32) {\\n        return set._values[index];\\n    }\\n\\n    /**\\n     * @dev Return the entire set in an array\\n     *\\n     * WARNING: This operation will copy the entire storage to memory, which can be quite expensive. This is designed\\n     * to mostly be used by view accessors that are queried without any gas fees. Developers should keep in mind that\\n     * this function has an unbounded cost, and using it as part of a state-changing function may render the function\\n     * uncallable if the set grows to a point where copying to memory consumes too much gas to fit in a block.\\n     */\\n    function _values(Set storage set) private view returns (bytes32[] memory) {\\n        return set._values;\\n    }\\n\\n    // Bytes32Set\\n\\n    struct Bytes32Set {\\n        Set _inner;\\n    }\\n\\n    /**\\n     * @dev Add a value to a set. O(1).\\n     *\\n     * Returns true if the value was added to the set, that is if it was not\\n     * already present.\\n     */\\n    function add(Bytes32Set storage set, bytes32 value) internal returns (bool) {\\n        return _add(set._inner, value);\\n    }\\n\\n    /**\\n     * @dev Removes a value from a set. O(1).\\n     *\\n     * Returns true if the value was removed from the set, that is if it was\\n     * present.\\n     */\\n    function remove(Bytes32Set storage set, bytes32 value) internal returns (bool) {\\n        return _remove(set._inner, value);\\n    }\\n\\n    /**\\n     * @dev Returns true if the value is in the set. O(1).\\n     */\\n    function contains(Bytes32Set storage set, bytes32 value) internal view returns (bool) {\\n        return _contains(set._inner, value);\\n    }\\n\\n    /**\\n     * @dev Returns the number of values in the set. O(1).\\n     */\\n    function length(Bytes32Set storage set) internal view returns (uint256) {\\n        return _length(set._inner);\\n    }\\n\\n    /**\\n     * @dev Returns the value stored at position `index` in the set. O(1).\\n     *\\n     * Note that there are no guarantees on the ordering of values inside the\\n     * array, and it may change when more values are added or removed.\\n     *\\n     * Requirements:\\n     *\\n     * - `index` must be strictly less than {length}.\\n     */\\n    function at(Bytes32Set storage set, uint256 index) internal view returns (bytes32) {\\n        return _at(set._inner, index);\\n    }\\n\\n    /**\\n     * @dev Return the entire set in an array\\n     *\\n     * WARNING: This operation will copy the entire storage to memory, which can be quite expensive. This is designed\\n     * to mostly be used by view accessors that are queried without any gas fees. Developers should keep in mind that\\n     * this function has an unbounded cost, and using it as part of a state-changing function may render the function\\n     * uncallable if the set grows to a point where copying to memory consumes too much gas to fit in a block.\\n     */\\n    function values(Bytes32Set storage set) internal view returns (bytes32[] memory) {\\n        bytes32[] memory store = _values(set._inner);\\n        bytes32[] memory result;\\n\\n        /// @solidity memory-safe-assembly\\n        assembly {\\n            result := store\\n        }\\n\\n        return result;\\n    }\\n\\n    // AddressSet\\n\\n    struct AddressSet {\\n        Set _inner;\\n    }\\n\\n    /**\\n     * @dev Add a value to a set. O(1).\\n     *\\n     * Returns true if the value was added to the set, that is if it was not\\n     * already present.\\n     */\\n    function add(AddressSet storage set, address value) internal returns (bool) {\\n        return _add(set._inner, bytes32(uint256(uint160(value))));\\n    }\\n\\n    /**\\n     * @dev Removes a value from a set. O(1).\\n     *\\n     * Returns true if the value was removed from the set, that is if it was\\n     * present.\\n     */\\n    function remove(AddressSet storage set, address value) internal returns (bool) {\\n        return _remove(set._inner, bytes32(uint256(uint160(value))));\\n    }\\n\\n    /**\\n     * @dev Returns true if the value is in the set. O(1).\\n     */\\n    function contains(AddressSet storage set, address value) internal view returns (bool) {\\n        return _contains(set._inner, bytes32(uint256(uint160(value))));\\n    }\\n\\n    /**\\n     * @dev Returns the number of values in the set. O(1).\\n     */\\n    function length(AddressSet storage set) internal view returns (uint256) {\\n        return _length(set._inner);\\n    }\\n\\n    /**\\n     * @dev Returns the value stored at position `index` in the set. O(1).\\n     *\\n     * Note that there are no guarantees on the ordering of values inside the\\n     * array, and it may change when more values are added or removed.\\n     *\\n     * Requirements:\\n     *\\n     * - `index` must be strictly less than {length}.\\n     */\\n    function at(AddressSet storage set, uint256 index) internal view returns (address) {\\n        return address(uint160(uint256(_at(set._inner, index))));\\n    }\\n\\n    /**\\n     * @dev Return the entire set in an array\\n     *\\n     * WARNING: This operation will copy the entire storage to memory, which can be quite expensive. This is designed\\n     * to mostly be used by view accessors that are queried without any gas fees. Developers should keep in mind that\\n     * this function has an unbounded cost, and using it as part of a state-changing function may render the function\\n     * uncallable if the set grows to a point where copying to memory consumes too much gas to fit in a block.\\n     */\\n    function values(AddressSet storage set) internal view returns (address[] memory) {\\n        bytes32[] memory store = _values(set._inner);\\n        address[] memory result;\\n\\n        /// @solidity memory-safe-assembly\\n        assembly {\\n            result := store\\n        }\\n\\n        return result;\\n    }\\n\\n    // UintSet\\n\\n    struct UintSet {\\n        Set _inner;\\n    }\\n\\n    /**\\n     * @dev Add a value to a set. O(1).\\n     *\\n     * Returns true if the value was added to the set, that is if it was not\\n     * already present.\\n     */\\n    function add(UintSet storage set, uint256 value) internal returns (bool) {\\n        return _add(set._inner, bytes32(value));\\n    }\\n\\n    /**\\n     * @dev Removes a value from a set. O(1).\\n     *\\n     * Returns true if the value was removed from the set, that is if it was\\n     * present.\\n     */\\n    function remove(UintSet storage set, uint256 value) internal returns (bool) {\\n        return _remove(set._inner, bytes32(value));\\n    }\\n\\n    /**\\n     * @dev Returns true if the value is in the set. O(1).\\n     */\\n    function contains(UintSet storage set, uint256 value) internal view returns (bool) {\\n        return _contains(set._inner, bytes32(value));\\n    }\\n\\n    /**\\n     * @dev Returns the number of values in the set. O(1).\\n     */\\n    function length(UintSet storage set) internal view returns (uint256) {\\n        return _length(set._inner);\\n    }\\n\\n    /**\\n     * @dev Returns the value stored at position `index` in the set. O(1).\\n     *\\n     * Note that there are no guarantees on the ordering of values inside the\\n     * array, and it may change when more values are added or removed.\\n     *\\n     * Requirements:\\n     *\\n     * - `index` must be strictly less than {length}.\\n     */\\n    function at(UintSet storage set, uint256 index) internal view returns (uint256) {\\n        return uint256(_at(set._inner, index));\\n    }\\n\\n    /**\\n     * @dev Return the entire set in an array\\n     *\\n     * WARNING: This operation will copy the entire storage to memory, which can be quite expensive. This is designed\\n     * to mostly be used by view accessors that are queried without any gas fees. Developers should keep in mind that\\n     * this function has an unbounded cost, and using it as part of a state-changing function may render the function\\n     * uncallable if the set grows to a point where copying to memory consumes too much gas to fit in a block.\\n     */\\n    function values(UintSet storage set) internal view returns (uint256[] memory) {\\n        bytes32[] memory store = _values(set._inner);\\n        uint256[] memory result;\\n\\n        /// @solidity memory-safe-assembly\\n        assembly {\\n            result := store\\n        }\\n\\n        return result;\\n    }\\n}\\n\",\"keccak256\":\"0xc3ff3f5c4584e1d9a483ad7ced51ab64523201f4e3d3c65293e4ca8aeb77a961\",\"license\":\"MIT\"},\"contracts/fine-tuning/FineTuningAccount.sol\":{\"content\":\"// SPDX-License-Identifier: Unlicense\\npragma solidity 0.8.22;\\n\\nimport \\\"@openzeppelin/contracts/utils/structs/EnumerableSet.sol\\\";\\n\\n// Constants\\nuint constant MAX_DELIVERABLES_PER_ACCOUNT = 20;\\nuint constant MAX_DELIVERABLE_ID_LENGTH = 256; // HIGH-5 FIX: Max length for deliverable IDs\\n\\n/// @notice Account structure for user-provider relationship with fine-tuning deliverables\\n/// @dev Refunds array management (grow-only strategy):\\n/// 1. Active refunds are stored in positions [0, validRefundsLength)\\n/// 2. Inactive/reusable slots are in positions [validRefundsLength, refunds.length)\\n/// 3. Array grows on-demand up to MAX_REFUNDS_PER_ACCOUNT, never shrinks\\n/// 4. The 'processed' field in Refund is kept for storage compatibility but not used in logic\\n/// @dev Deliverables are managed using a circular array pattern (FIFO with fixed capacity)\\n/// @dev Data Structure:\\n///   - deliverables[id]: Mapping storing actual deliverable data by ID\\n///   - deliverableIds[]: Fixed-size array (20) storing IDs in chronological order\\n///   - deliverablesHead: Points to the oldest deliverable (index of next eviction)\\n///   - deliverablesCount: Current number of deliverables (0-20)\\n///\\n/// @dev Circular Array Mechanics:\\n///   When count < MAX (not full):\\n///     - New deliverables are appended to position [count]\\n///     - Head stays at 0\\n///     - Count increments\\n///\\n///   When count == MAX (full):\\n///     - Oldest deliverable at [head] is evicted from mapping\\n///     - New deliverable overwrites position [head] in array\\n///     - Head advances: head = (head + 1) % MAX\\n///     - Count stays at MAX\\n///\\n/// @dev Example Evolution:\\n///   Initial (empty):\\n///     deliverableIds: [empty \\u00d7 20]\\n///     head: 0, count: 0\\n///\\n///   After adding 3 deliverables (id1, id2, id3):\\n///     deliverableIds: [id1, id2, id3, empty \\u00d7 17]\\n///     head: 0, count: 3\\n///\\n///   After adding 20 deliverables (fills array):\\n///     deliverableIds: [id1, id2, ..., id20]\\n///     head: 0, count: 20\\n///\\n///   After adding id21 (evicts id1):\\n///     deliverableIds: [id21, id2, id3, ..., id20]\\n///     head: 1, count: 20\\n///     Note: id2 is now the oldest, at index 1\\n///\\n///   After adding id22 (evicts id2):\\n///     deliverableIds: [id21, id22, id3, ..., id20]\\n///     head: 2, count: 20\\n///     Note: id3 is now the oldest, at index 2\\n///\\n/// @dev Safety: MED-4 ensures only acknowledged deliverables can be evicted\\n///   Serial task execution is enforced on-chain, so when array is full,\\n///   the oldest deliverable is guaranteed to be acknowledged and safe to remove\\nstruct Account {\\n    address user;\\n    address provider;\\n    uint nonce;\\n    uint balance;\\n    uint pendingRefund;\\n    Refund[] refunds;\\n    string additionalInfo;\\n    mapping(string => Deliverable) deliverables; // ID -> Deliverable mapping\\n    string[MAX_DELIVERABLES_PER_ACCOUNT] deliverableIds; // Circular array of IDs\\n    uint validRefundsLength; // Track the number of valid (non-dirty) refunds\\n    uint deliverablesHead; // Circular array head pointer (oldest position)\\n    uint deliverablesCount; // Current count of deliverables\\n    bool acknowledged; // Whether user has acknowledged this provider's TEE signer\\n}\\n\\nstruct Refund {\\n    uint index;\\n    uint amount;\\n    uint createdAt;\\n    bool processed;\\n}\\n\\n/// @dev GAS-5: Struct field packing optimization\\n/// @dev acknowledged (1 byte) + timestamp (31 bytes) = 32 bytes = 1 storage slot\\n/// @dev Saves ~2,900 gas per deliverable write (1 SSTORE avoided)\\nstruct Deliverable {\\n    string id; // Unique identifier for the deliverable\\n    bytes modelRootHash;\\n    bytes encryptedSecret;\\n    bool acknowledged;\\n    uint248 timestamp; // When this deliverable was added (uint248 is sufficient: 2^248 seconds >> universe age)\\n}\\n\\nstruct AccountSummary {\\n    address user;\\n    address provider;\\n    uint nonce;\\n    uint balance;\\n    uint pendingRefund;\\n    string additionalInfo;\\n    uint validRefundsLength;\\n    uint deliverablesCount;\\n    bool acknowledged;\\n}\\n\\nstruct AccountDetails {\\n    address user;\\n    address provider;\\n    uint nonce;\\n    uint balance;\\n    uint pendingRefund;\\n    Refund[] refunds;\\n    string additionalInfo;\\n    Deliverable[] deliverables; // For backward compatibility, we'll populate this from the mapping\\n    uint validRefundsLength;\\n    uint deliverablesHead;\\n    uint deliverablesCount;\\n    bool acknowledged;\\n}\\n\\nlibrary AccountLibrary {\\n    using EnumerableSet for EnumerableSet.Bytes32Set;\\n\\n    // Constants for optimization\\n    uint constant MAX_REFUNDS_PER_ACCOUNT = 5;\\n    uint constant MAX_ADDITIONAL_INFO_LENGTH = 4096; // 4KB limit for JSON configuration data\\n\\n    // Custom errors for gas efficiency (GAS-1 optimization)\\n    error AccountNotExists(address user, address provider);\\n    error AccountExists(address user, address provider);\\n    error InsufficientBalance(address user, address provider);\\n    error RefundInvalid(address user, address provider, uint index);\\n    error RefundProcessed(address user, address provider, uint index);\\n    error RefundLocked(address user, address provider, uint index);\\n    error TooManyRefunds(address user, address provider);\\n    error AdditionalInfoTooLong();\\n    error DeliverableNotExists(string id);\\n    error DeliverableAlreadyExists(string id);\\n    error DeliverableIdInvalidLength(uint256 length);\\n    error PreviousDeliverableNotAcknowledged(string id);\\n    error CannotRevokeWithNonZeroBalance(address user, address provider, uint256 balance);\\n\\n    struct AccountMap {\\n        EnumerableSet.Bytes32Set _keys;\\n        mapping(bytes32 => Account) _values;\\n        mapping(address => EnumerableSet.Bytes32Set) _providerIndex;\\n        mapping(address => EnumerableSet.Bytes32Set) _userIndex;\\n    }\\n\\n    // user functions\\n\\n    function getAccount(\\n        AccountMap storage map,\\n        address user,\\n        address provider\\n    ) internal view returns (Account storage) {\\n        return _get(map, user, provider);\\n    }\\n\\n    // Get account details for external interfaces (converts mapping to array)\\n    function getAccountDetails(\\n        AccountMap storage map,\\n        address user,\\n        address provider\\n    ) internal view returns (AccountDetails memory details) {\\n        Account storage account = _get(map, user, provider);\\n\\n        // Get deliverables in chronological order\\n        Deliverable[] memory deliverables = getDeliverables(map, user, provider);\\n\\n        details = AccountDetails({\\n            user: account.user,\\n            provider: account.provider,\\n            nonce: account.nonce,\\n            balance: account.balance,\\n            pendingRefund: account.pendingRefund,\\n            refunds: account.refunds,\\n            additionalInfo: account.additionalInfo,\\n            deliverables: deliverables,\\n            validRefundsLength: account.validRefundsLength,\\n            deliverablesHead: account.deliverablesHead,\\n            deliverablesCount: account.deliverablesCount,\\n            acknowledged: account.acknowledged\\n        });\\n    }\\n\\n    function getAllAccounts(\\n        AccountMap storage map,\\n        uint offset,\\n        uint limit\\n    ) internal view returns (AccountSummary[] memory accounts, uint total) {\\n        total = _length(map);\\n\\n        if (offset >= total) {\\n            return (new AccountSummary[](0), total);\\n        }\\n\\n        uint end = offset + limit;\\n        if (limit == 0 || end > total) {\\n            end = total;\\n        }\\n\\n        uint resultLength = end - offset;\\n        accounts = new AccountSummary[](resultLength);\\n\\n        for (uint i = 0; i < resultLength; ) {\\n            Account storage fullAccount = _at(map, offset + i);\\n            accounts[i] = AccountSummary({\\n                user: fullAccount.user,\\n                provider: fullAccount.provider,\\n                nonce: fullAccount.nonce,\\n                balance: fullAccount.balance,\\n                pendingRefund: fullAccount.pendingRefund,\\n                additionalInfo: fullAccount.additionalInfo,\\n                validRefundsLength: fullAccount.validRefundsLength,\\n                deliverablesCount: fullAccount.deliverablesCount,\\n                acknowledged: fullAccount.acknowledged\\n            });\\n            unchecked { ++i; }\\n        }\\n    }\\n\\n    function getAccountsByProvider(\\n        AccountMap storage map,\\n        address provider,\\n        uint offset,\\n        uint limit\\n    ) internal view returns (AccountSummary[] memory accounts, uint total) {\\n        EnumerableSet.Bytes32Set storage providerKeys = map._providerIndex[provider];\\n        total = providerKeys.length();\\n\\n        if (offset >= total) {\\n            return (new AccountSummary[](0), total);\\n        }\\n\\n        uint end = limit == 0 ? total : offset + limit;\\n        if (end > total) {\\n            end = total;\\n        }\\n\\n        uint resultLen = end - offset;\\n        accounts = new AccountSummary[](resultLen);\\n\\n        for (uint i = 0; i < resultLen; ) {\\n            bytes32 key = providerKeys.at(offset + i);\\n            Account storage fullAccount = map._values[key];\\n            accounts[i] = AccountSummary({\\n                user: fullAccount.user,\\n                provider: fullAccount.provider,\\n                nonce: fullAccount.nonce,\\n                balance: fullAccount.balance,\\n                pendingRefund: fullAccount.pendingRefund,\\n                additionalInfo: fullAccount.additionalInfo,\\n                validRefundsLength: fullAccount.validRefundsLength,\\n                deliverablesCount: fullAccount.deliverablesCount,\\n                acknowledged: fullAccount.acknowledged\\n            });\\n            unchecked { ++i; }\\n        }\\n\\n        return (accounts, total);\\n    }\\n\\n    function getAccountsByUser(\\n        AccountMap storage map,\\n        address user,\\n        uint offset,\\n        uint limit\\n    ) internal view returns (AccountSummary[] memory accounts, uint total) {\\n        EnumerableSet.Bytes32Set storage userKeys = map._userIndex[user];\\n        total = userKeys.length();\\n\\n        if (offset >= total) {\\n            return (new AccountSummary[](0), total);\\n        }\\n\\n        uint end = limit == 0 ? total : offset + limit;\\n        if (end > total) {\\n            end = total;\\n        }\\n\\n        uint resultLen = end - offset;\\n        accounts = new AccountSummary[](resultLen);\\n\\n        for (uint i = 0; i < resultLen; ) {\\n            bytes32 key = userKeys.at(offset + i);\\n            Account storage fullAccount = map._values[key];\\n            accounts[i] = AccountSummary({\\n                user: fullAccount.user,\\n                provider: fullAccount.provider,\\n                nonce: fullAccount.nonce,\\n                balance: fullAccount.balance,\\n                pendingRefund: fullAccount.pendingRefund,\\n                additionalInfo: fullAccount.additionalInfo,\\n                validRefundsLength: fullAccount.validRefundsLength,\\n                deliverablesCount: fullAccount.deliverablesCount,\\n                acknowledged: fullAccount.acknowledged\\n            });\\n            unchecked { ++i; }\\n        }\\n\\n        return (accounts, total);\\n    }\\n\\n    function getBatchAccountsByUsers(\\n        AccountMap storage map,\\n        address[] calldata users,\\n        address provider\\n    ) internal view returns (AccountSummary[] memory accounts) {\\n        require(users.length <= 500, \\\"Batch size too large (max 500)\\\");\\n        accounts = new AccountSummary[](users.length);\\n\\n        for (uint i = 0; i < users.length; ) {\\n            bytes32 key = _key(users[i], provider);\\n            if (_contains(map, key)) {\\n                Account storage fullAccount = map._values[key];\\n                accounts[i] = AccountSummary({\\n                    user: fullAccount.user,\\n                    provider: fullAccount.provider,\\n                    nonce: fullAccount.nonce,\\n                    balance: fullAccount.balance,\\n                    pendingRefund: fullAccount.pendingRefund,\\n                    additionalInfo: fullAccount.additionalInfo,\\n                    validRefundsLength: fullAccount.validRefundsLength,\\n                    deliverablesCount: fullAccount.deliverablesCount,\\n                    acknowledged: fullAccount.acknowledged\\n                });\\n            }\\n            unchecked { ++i; }\\n        }\\n    }\\n\\n    function accountExists(AccountMap storage map, address user, address provider) internal view returns (bool) {\\n        return _contains(map, _key(user, provider));\\n    }\\n\\n    function getPendingRefund(AccountMap storage map, address user, address provider) internal view returns (uint) {\\n        Account storage account = _get(map, user, provider);\\n        return account.pendingRefund;\\n    }\\n\\n    function addAccount(\\n        AccountMap storage map,\\n        address user,\\n        address provider,\\n        uint amount,\\n        string memory additionalInfo\\n    ) internal returns (uint, uint) {\\n        if (bytes(additionalInfo).length > MAX_ADDITIONAL_INFO_LENGTH) {\\n            revert AdditionalInfoTooLong();\\n        }\\n        bytes32 key = _key(user, provider);\\n        if (_contains(map, key)) {\\n            revert AccountExists(user, provider);\\n        }\\n\\n        _set(map, key, user, provider, amount, additionalInfo);\\n\\n        map._providerIndex[provider].add(key);\\n        map._userIndex[user].add(key);\\n\\n        return (amount, 0);\\n    }\\n\\n    /// @notice Deletes an account while preserving nonce to prevent signature replay attacks\\n    /// @dev This implements \\\"soft delete\\\" - removes from indexes but preserves nonce in storage\\n    /// @dev SECURITY: nonce is intentionally NOT reset to prevent replay attacks if account is recreated\\n    /// @param map The account map storage\\n    /// @param user The user address\\n    /// @param provider The provider address\\n    /// @return deletedBalance The balance that was deleted (for event emission)\\n    function deleteAccount(AccountMap storage map, address user, address provider) internal returns (uint deletedBalance) {\\n        bytes32 key = _key(user, provider);\\n        if (!_contains(map, key)) {\\n            return 0;\\n        }\\n\\n        // Preserve nonce to prevent signature replay attacks when account is recreated\\n        Account storage account = map._values[key];\\n\\n        // Capture balance before deletion for event\\n        deletedBalance = account.balance;\\n\\n        // Clear all balance and state data\\n        account.balance = 0;\\n        account.pendingRefund = 0;\\n        account.acknowledged = false;\\n        account.validRefundsLength = 0;\\n\\n        // IMPORTANT: Must explicitly delete each deliverable from mapping\\n        // Unlike arrays, Solidity mappings cannot be deleted in bulk\\n        // If we don't delete these, addDeliverable() will revert when the account\\n        // is recreated and tries to use the same deliverable IDs (line 606 check)\\n        // Gas cost is acceptable: MAX_DELIVERABLES_PER_ACCOUNT = 20 iterations\\n        for (uint i = 0; i < account.deliverablesCount; ) {\\n            uint index = (account.deliverablesHead + i) % MAX_DELIVERABLES_PER_ACCOUNT;\\n            string memory deliverableId = account.deliverableIds[index];\\n            delete account.deliverables[deliverableId];\\n            unchecked { ++i; }\\n        }\\n\\n        account.deliverablesHead = 0;\\n        account.deliverablesCount = 0;\\n        delete account.refunds;\\n        delete account.additionalInfo;\\n\\n        // Note: nonce is intentionally NOT reset\\n        // This prevents signature replay attacks if the account is recreated\\n\\n        // Remove from indexes to make account appear \\\"deleted\\\"\\n        map._providerIndex[provider].remove(key);\\n        map._userIndex[user].remove(key);\\n        map._keys.remove(key);\\n\\n        // Note: We do NOT delete map._values[key] to preserve nonce\\n    }\\n\\n    /// @notice Deposit funds and optionally cancel pending refunds\\n    /// @dev Cancel most recent refunds first (LIFO order) when depositing funds\\n    /// @dev This prioritizes canceling locked refunds, which benefits the user\\n    /// @dev Aligned with Inference contract implementation\\n    function depositFund(\\n        AccountMap storage map,\\n        address user,\\n        address provider,\\n        uint cancelRetrievingAmount,\\n        uint amount\\n    ) internal returns (uint, uint) {\\n        Account storage account = _get(map, user, provider);\\n\\n        if (cancelRetrievingAmount > 0 && account.validRefundsLength > 0) {\\n            // Cancel refunds in LIFO order (most recent first)\\n            uint actualCancelled = 0;\\n            uint remainingCancel = cancelRetrievingAmount;\\n            uint validLength = account.validRefundsLength;\\n\\n            // Process from end to start (LIFO - most recent first)\\n            for (uint i = validLength; i > 0 && remainingCancel > 0; ) {\\n                unchecked { --i; }\\n                Refund storage refund = account.refunds[i];\\n\\n                if (refund.amount <= remainingCancel) {\\n                    // Fully cancel this refund\\n                    actualCancelled += refund.amount;\\n                    remainingCancel -= refund.amount;\\n                    refund.amount = 0;\\n                    --validLength;\\n                } else {\\n                    // Partially cancel this refund\\n                    actualCancelled += remainingCancel;\\n                    refund.amount -= remainingCancel;\\n                    remainingCancel = 0;\\n                }\\n            }\\n\\n            account.validRefundsLength = validLength;\\n            account.pendingRefund -= actualCancelled;\\n        }\\n\\n        account.balance += amount;\\n        return (account.balance, account.pendingRefund);\\n    }\\n\\n    function requestRefund(\\n        AccountMap storage map,\\n        address user,\\n        address provider,\\n        uint amount\\n    ) internal returns (uint) {\\n        Account storage account = _get(map, user, provider);\\n        if ((account.balance - account.pendingRefund) < amount) {\\n            revert InsufficientBalance(user, provider);\\n        }\\n\\n        // Check refund limit using validRefundsLength\\n        if (account.validRefundsLength >= MAX_REFUNDS_PER_ACCOUNT) {\\n            revert TooManyRefunds(user, provider);\\n        }\\n\\n        uint newIndex;\\n        if (account.validRefundsLength < account.refunds.length) {\\n            // Reuse dirty position (saves ~15,000 gas)\\n            newIndex = account.validRefundsLength;\\n            account.refunds[newIndex] = Refund(newIndex, amount, block.timestamp, false);\\n        } else {\\n            // Need to push new position\\n            newIndex = account.refunds.length;\\n            account.refunds.push(Refund(newIndex, amount, block.timestamp, false));\\n        }\\n\\n        account.validRefundsLength++;\\n        account.pendingRefund += amount;\\n        return newIndex;\\n    }\\n\\n    function requestRefundAll(AccountMap storage map, address user, address provider) internal {\\n        Account storage account = _get(map, user, provider);\\n        uint amount = account.balance - account.pendingRefund;\\n        if (amount == 0) {\\n            return;\\n        }\\n\\n        // Check refund limit using validRefundsLength\\n        if (account.validRefundsLength >= MAX_REFUNDS_PER_ACCOUNT) {\\n            revert TooManyRefunds(user, provider);\\n        }\\n\\n        uint newIndex;\\n        if (account.validRefundsLength < account.refunds.length) {\\n            // Reuse dirty position (saves ~15,000 gas)\\n            newIndex = account.validRefundsLength;\\n            account.refunds[newIndex] = Refund(newIndex, amount, block.timestamp, false);\\n        } else {\\n            // Need to push new position\\n            newIndex = account.refunds.length;\\n            account.refunds.push(Refund(newIndex, amount, block.timestamp, false));\\n        }\\n\\n        account.validRefundsLength++;\\n        account.pendingRefund += amount;\\n    }\\n\\n    /// @notice Process unlocked refunds for a user-provider account\\n    /// @dev Uses grow-only strategy aligned with Inference contract\\n    /// @dev Only processes active refunds within [0, validRefundsLength) boundary\\n    /// @dev No cleanup needed - simply adjusts validRefundsLength boundary\\n    function processRefund(\\n        AccountMap storage map,\\n        address user,\\n        address provider,\\n        uint lockTime\\n    ) internal returns (uint totalAmount, uint balance, uint pendingRefund) {\\n        Account storage account = _get(map, user, provider);\\n\\n        if (account.validRefundsLength == 0) {\\n            // No need to ensure capacity here - if validRefundsLength > 0, array is already initialized\\n            return (0, account.balance, account.pendingRefund);\\n        }\\n\\n        totalAmount = 0;\\n        pendingRefund = 0;\\n        uint writeIndex = 0;\\n        uint currentTime = block.timestamp;\\n\\n        // Use swap-and-shrink: process active refunds and compact\\n        for (uint i = 0; i < account.validRefundsLength; i++) {\\n            Refund storage refund = account.refunds[i];\\n\\n            if (currentTime >= refund.createdAt + lockTime) {\\n                // Refund is unlocked, process it (skip - don't write back)\\n                totalAmount += refund.amount;\\n            } else {\\n                // Refund still locked, keep it\\n                pendingRefund += refund.amount;\\n                if (i != writeIndex) {\\n                    account.refunds[writeIndex] = refund;\\n                    account.refunds[writeIndex].index = writeIndex;\\n                }\\n                writeIndex++;\\n            }\\n        }\\n\\n        // Shrink active boundary (no pop needed - just adjust boundary)\\n        account.validRefundsLength = writeIndex;\\n\\n        account.balance -= totalAmount;\\n        account.pendingRefund = pendingRefund;\\n        balance = account.balance;\\n    }\\n\\n    function acknowledgeDeliverable(\\n        AccountMap storage map,\\n        address user,\\n        address provider,\\n        string calldata id\\n    ) internal {\\n        if (!_contains(map, _key(user, provider))) {\\n            revert AccountNotExists(user, provider);\\n        }\\n        Account storage account = _get(map, user, provider);\\n\\n        // Check if deliverable exists\\n        if (bytes(account.deliverables[id].id).length == 0) {\\n            revert DeliverableNotExists(id);\\n        }\\n\\n        // Mark as acknowledged\\n        account.deliverables[id].acknowledged = true;\\n    }\\n\\n    /// @notice Allows user to acknowledge or revoke acknowledgement of a provider's TEE signer\\n    /// @param map The account map storage\\n    /// @param user The user address\\n    /// @param provider The provider address\\n    /// @param acknowledged Whether to acknowledge (true) or revoke (false)\\n    function acknowledgeTEESigner(\\n        AccountMap storage map,\\n        address user,\\n        address provider,\\n        bool acknowledged\\n    ) internal {\\n        Account storage account = _get(map, user, provider);\\n\\n        // Once acknowledged as true, can only be set back to false if balance is zero\\n        if (account.acknowledged && !acknowledged) {\\n            if (account.balance != 0) {\\n                revert CannotRevokeWithNonZeroBalance(user, provider, account.balance);\\n            }\\n        }\\n\\n        account.acknowledged = acknowledged;\\n    }\\n\\n    // provider functions\\n\\n    /// @notice Adds a new deliverable to a user-provider account\\n    /// @dev MED-4 FIX: Enforces serial task execution - previous deliverable must be acknowledged\\n    /// @dev HIGH-5 FIX: Added deliverable ID length validation to prevent DoS attacks\\n    /// @param map The account map storage\\n    /// @param user The user address\\n    /// @param provider The provider address\\n    /// @param id The unique deliverable identifier\\n    /// @param modelRootHash The model root hash\\n    function addDeliverable(\\n        AccountMap storage map,\\n        address user,\\n        address provider,\\n        string calldata id,\\n        bytes memory modelRootHash\\n    ) internal {\\n        // HIGH-5 FIX: Validate deliverable ID length to prevent DoS via excessive gas consumption\\n        uint256 idLength = bytes(id).length;\\n        if (idLength == 0 || idLength > MAX_DELIVERABLE_ID_LENGTH) {\\n            revert DeliverableIdInvalidLength(idLength);\\n        }\\n\\n        if (!_contains(map, _key(user, provider))) {\\n            revert AccountNotExists(user, provider);\\n        }\\n        Account storage account = _get(map, user, provider);\\n\\n        // Check if ID already exists\\n        if (bytes(account.deliverables[id].id).length != 0) {\\n            revert DeliverableAlreadyExists(id);\\n        }\\n\\n        // MED-4 FIX: Enforce serial task execution\\n        // BUSINESS RULE: Tasks must be completed sequentially\\n        // Only allow new deliverable if previous one is acknowledged or no deliverables exist\\n        // This prevents adding new tasks while previous ones are still pending\\n        if (account.deliverablesCount > 0) {\\n            // Get the most recent deliverable ID\\n            uint latestIndex;\\n            if (account.deliverablesCount == MAX_DELIVERABLES_PER_ACCOUNT) {\\n                // Array is full, latest is right before head (circular)\\n                latestIndex = (account.deliverablesHead + MAX_DELIVERABLES_PER_ACCOUNT - 1) % MAX_DELIVERABLES_PER_ACCOUNT;\\n            } else {\\n                // Array not full, latest is at count - 1\\n                latestIndex = account.deliverablesCount - 1;\\n            }\\n\\n            string memory latestId = account.deliverableIds[latestIndex];\\n            if (!account.deliverables[latestId].acknowledged) {\\n                revert PreviousDeliverableNotAcknowledged(latestId);\\n            }\\n        }\\n\\n        // Create new deliverable\\n        Deliverable memory deliverable = Deliverable({\\n            id: id,\\n            modelRootHash: modelRootHash,\\n            encryptedSecret: \\\"\\\",\\n            acknowledged: false,\\n            timestamp: uint248(block.timestamp) // GAS-5: Safe conversion (block.timestamp << 2^248)\\n        });\\n\\n        if (account.deliverablesCount < MAX_DELIVERABLES_PER_ACCOUNT) {\\n            // Array not full, add to next available position\\n            account.deliverableIds[account.deliverablesCount] = id;\\n            account.deliverablesCount++;\\n        } else {\\n            // Array is full (20 deliverables), use FIFO eviction strategy\\n            // SAFETY: Due to serial task validation above, all older deliverables\\n            // must be acknowledged before we can add this new one. Therefore,\\n            // the oldest deliverable is guaranteed to be acknowledged and safe to evict.\\n            string memory oldestId = account.deliverableIds[account.deliverablesHead];\\n            delete account.deliverables[oldestId]; // Remove from mapping\\n\\n            account.deliverableIds[account.deliverablesHead] = id; // Overwrite with new ID\\n            account.deliverablesHead = (account.deliverablesHead + 1) % MAX_DELIVERABLES_PER_ACCOUNT;\\n        }\\n\\n        // Add to mapping\\n        account.deliverables[id] = deliverable;\\n    }\\n\\n    // Get deliverable by ID\\n    function getDeliverable(\\n        AccountMap storage map,\\n        address user,\\n        address provider,\\n        string calldata id\\n    ) internal view returns (Deliverable memory) {\\n        Account storage account = _get(map, user, provider);\\n        if (bytes(account.deliverables[id].id).length == 0) {\\n            revert DeliverableNotExists(id);\\n        }\\n        return account.deliverables[id];\\n    }\\n\\n    // Get all deliverable IDs in chronological order (oldest to newest)\\n    function getDeliverableIds(\\n        AccountMap storage map,\\n        address user,\\n        address provider\\n    ) internal view returns (string[] memory ids) {\\n        Account storage account = _get(map, user, provider);\\n        uint count = account.deliverablesCount;\\n\\n        if (count == 0) {\\n            return new string[](0);\\n        }\\n\\n        ids = new string[](count);\\n\\n        if (count < MAX_DELIVERABLES_PER_ACCOUNT) {\\n            // Array not full yet, deliverables are in chronological order from index 0\\n            for (uint i = 0; i < count; ) {\\n                ids[i] = account.deliverableIds[i];\\n                unchecked { ++i; }\\n            }\\n        } else {\\n            // Array is full, need to reorder starting from the oldest (at head position)\\n            uint head = account.deliverablesHead;\\n            for (uint i = 0; i < count; ) {\\n                uint sourceIndex = (head + i) % MAX_DELIVERABLES_PER_ACCOUNT;\\n                ids[i] = account.deliverableIds[sourceIndex];\\n                unchecked { ++i; }\\n            }\\n        }\\n\\n        return ids;\\n    }\\n\\n    // Get all deliverables in chronological order\\n    function getDeliverables(\\n        AccountMap storage map,\\n        address user,\\n        address provider\\n    ) internal view returns (Deliverable[] memory deliverables) {\\n        string[] memory ids = getDeliverableIds(map, user, provider);\\n        deliverables = new Deliverable[](ids.length);\\n\\n        Account storage account = _get(map, user, provider);\\n        for (uint i = 0; i < ids.length; ) {\\n            deliverables[i] = account.deliverables[ids[i]];\\n            unchecked { ++i; }\\n        }\\n\\n        return deliverables;\\n    }\\n\\n    // common functions\\n\\n    function _at(AccountMap storage map, uint index) internal view returns (Account storage) {\\n        bytes32 key = map._keys.at(index);\\n        return map._values[key];\\n    }\\n\\n    function _contains(AccountMap storage map, bytes32 key) internal view returns (bool) {\\n        return map._keys.contains(key);\\n    }\\n\\n    function _length(AccountMap storage map) internal view returns (uint) {\\n        return map._keys.length();\\n    }\\n\\n    function _get(AccountMap storage map, address user, address provider) internal view returns (Account storage) {\\n        bytes32 key = _key(user, provider);\\n        Account storage value = map._values[key];\\n        if (!_contains(map, key)) {\\n            revert AccountNotExists(user, provider);\\n        }\\n        return value;\\n    }\\n\\n    /// @dev Internal function to initialize or update account data\\n    /// @dev SECURITY: This function intentionally does NOT reset nonce\\n    /// @dev This allows deleteAccount's \\\"soft delete\\\" to preserve nonce across account recreation\\n    /// @dev preventing signature replay attacks (see deleteAccount line 345 comment)\\n    function _set(\\n        AccountMap storage map,\\n        bytes32 key,\\n        address user,\\n        address provider,\\n        uint balance,\\n        string memory additionalInfo\\n    ) internal {\\n        Account storage account = map._values[key];\\n        account.balance = balance;\\n        account.user = user;\\n        account.provider = provider;\\n        account.additionalInfo = additionalInfo;\\n        account.validRefundsLength = 0; // Initialize validRefundsLength\\n        account.deliverablesHead = 0; // Initialize circular array head\\n        account.deliverablesCount = 0; // Initialize deliverable count\\n        // NOTE: nonce is intentionally NOT set here\\n        // For new accounts, it defaults to 0\\n        // For re-created accounts, it preserves the old nonce value\\n        map._keys.add(key);\\n    }\\n\\n    function _key(address user, address provider) internal pure returns (bytes32) {\\n        return keccak256(abi.encode(user, provider));\\n    }\\n}\\n\",\"keccak256\":\"0x170be45db6a88dca66f428b3c095d7025651ab8e952ba921dfd737c13032bb69\",\"license\":\"Unlicense\"},\"contracts/fine-tuning/FineTuningService.sol\":{\"content\":\"// SPDX-License-Identifier: Unlicense\\npragma solidity 0.8.22;\\n\\nimport \\\"@openzeppelin/contracts/utils/structs/EnumerableSet.sol\\\";\\n\\nstruct Service {\\n    address provider;\\n    string url;\\n    Quota quota;\\n    uint pricePerToken;\\n    bool occupied;\\n    string[] models;\\n    address teeSignerAddress;\\n    bool teeSignerAcknowledged;\\n}\\n\\nstruct Quota {\\n    uint cpuCount;\\n    uint nodeMemory;\\n    uint gpuCount;\\n    uint nodeStorage;\\n    string gpuType;\\n}\\n\\nlibrary ServiceLibrary {\\n    using EnumerableSet for EnumerableSet.Bytes32Set;\\n\\n    error ServiceNotExist(address provider);\\n\\n    struct ServiceMap {\\n        EnumerableSet.Bytes32Set _keys;\\n        mapping(bytes32 => Service) _values;\\n    }\\n\\n    function getService(ServiceMap storage map, address provider) internal view returns (Service storage) {\\n        return _get(map, provider);\\n    }\\n\\n    function getAllServices(ServiceMap storage map) internal view returns (Service[] memory services) {\\n        uint len = _length(map);\\n        services = new Service[](len);\\n        for (uint i = 0; i < len; ++i) {\\n            services[i] = _at(map, i);\\n        }\\n    }\\n\\n    function addOrUpdateService(\\n        ServiceMap storage map,\\n        address provider,\\n        string memory url,\\n        Quota memory quota,\\n        uint pricePerToken,\\n        bool occupied,\\n        string[] memory models,\\n        address teeSignerAddress\\n    ) internal {\\n        bytes32 key = _key(provider);\\n        if (!_contains(map, key)) {\\n            _set(map, key, Service(provider, url, quota, pricePerToken, occupied, models, teeSignerAddress, false));\\n            return;\\n        }\\n        Service storage value = _get(map, provider);\\n\\n        // Check if critical fields are being changed (fields that require re-acknowledgement)\\n        bool criticalFieldsChanged = (value.teeSignerAddress != teeSignerAddress);\\n\\n        value.url = url;\\n        value.quota = quota;\\n        value.pricePerToken = pricePerToken;\\n        value.occupied = occupied;\\n        value.models = models;\\n        value.teeSignerAddress = teeSignerAddress;\\n\\n        // Reset acknowledgement if critical fields changed\\n        if (criticalFieldsChanged) {\\n            value.teeSignerAcknowledged = false;\\n        }\\n    }\\n\\n    function removeService(ServiceMap storage map, address provider) internal {\\n        bytes32 key = _key(provider);\\n        if (!_contains(map, key)) {\\n            revert ServiceNotExist(provider);\\n        }\\n        _remove(map, key);\\n    }\\n\\n    function acknowledgeTEESigner(ServiceMap storage map, address provider) internal {\\n        Service storage service = _get(map, provider);\\n        service.teeSignerAcknowledged = true;\\n    }\\n\\n    function revokeTEESignerAcknowledgement(ServiceMap storage map, address provider) internal {\\n        Service storage service = _get(map, provider);\\n        service.teeSignerAcknowledged = false;\\n    }\\n\\n    function serviceExists(ServiceMap storage map, address provider) internal view returns (bool) {\\n        return _contains(map, _key(provider));\\n    }\\n\\n    function _at(ServiceMap storage map, uint index) internal view returns (Service storage) {\\n        bytes32 key = map._keys.at(index);\\n        return map._values[key];\\n    }\\n\\n    function _set(ServiceMap storage map, bytes32 key, Service memory value) internal returns (bool) {\\n        map._values[key] = value;\\n        return map._keys.add(key);\\n    }\\n\\n    function _get(ServiceMap storage map, address provider) internal view returns (Service storage) {\\n        bytes32 key = _key(provider);\\n        Service storage value = map._values[key];\\n        if (!_contains(map, key)) {\\n            revert ServiceNotExist(provider);\\n        }\\n        return value;\\n    }\\n\\n    function _remove(ServiceMap storage map, bytes32 key) internal returns (bool) {\\n        delete map._values[key];\\n        return map._keys.remove(key);\\n    }\\n\\n    function _contains(ServiceMap storage map, bytes32 key) internal view returns (bool) {\\n        return map._keys.contains(key);\\n    }\\n\\n    function _length(ServiceMap storage map) internal view returns (uint) {\\n        return map._keys.length();\\n    }\\n\\n    function _key(address provider) internal pure returns (bytes32) {\\n        return keccak256(abi.encode(provider));\\n    }\\n}\\n\",\"keccak256\":\"0x4e433616c27e9c244c437431f67d4dc76ba8b0a6349a458c1888a94da2de835d\",\"license\":\"Unlicense\"},\"contracts/fine-tuning/FineTuningServing.sol\":{\"content\":\"// SPDX-License-Identifier: MIT\\npragma solidity 0.8.22;\\n\\nimport \\\"@openzeppelin/contracts/access/Ownable.sol\\\";\\nimport \\\"@openzeppelin/contracts/utils/structs/EnumerableMap.sol\\\";\\nimport \\\"@openzeppelin/contracts/security/ReentrancyGuard.sol\\\";\\nimport \\\"@openzeppelin/contracts/utils/introspection/ERC165.sol\\\";\\nimport \\\"../utils/Initializable.sol\\\";\\nimport \\\"./FineTuningAccount.sol\\\";\\nimport \\\"../ledger/LedgerManager.sol\\\";\\n\\nusing AccountLibrary for AccountLibrary.AccountMap;\\nimport \\\"./FineTuningService.sol\\\";\\nimport \\\"./FineTuningVerifier.sol\\\";\\n\\ninterface ISignatureVerifier {\\n    function verifySignature(\\n        string memory message,\\n        bytes memory signature,\\n        address expectedAddress\\n    ) external view returns (bool);\\n}\\n\\ncontract FineTuningServing is Ownable, Initializable, ReentrancyGuard, IServing, ERC165 {\\n    using AccountLibrary for AccountLibrary.AccountMap;\\n    using ServiceLibrary for ServiceLibrary.ServiceMap;\\n    using VerifierLibrary for VerifierInput;\\n\\n    // @custom:storage-location erc7201:0g.serving.finetuning.v1.0\\n    struct FineTuningServingStorage {\\n        uint lockTime;\\n        address ledgerAddress;\\n        ILedger ledger;\\n        AccountLibrary.AccountMap accountMap;\\n        ServiceLibrary.ServiceMap serviceMap;\\n        uint penaltyPercentage;\\n        mapping(address => uint) providerStake; // Service provider stake amounts\\n    }\\n\\n    // keccak256(abi.encode(uint256(keccak256(\\\"0g.serving.finetuning.v1.0\\\")) - 1)) & ~bytes32(uint256(0xff))\\n    bytes32 private constant FINETUNING_SERVING_STORAGE_LOCATION =\\n        0x5dcaaa00d1d3fae8cd5d66aceca789aec54970049ac35cb62a7adefca50a6800;\\n\\n    // Enforce sane lockTime to avoid instant bypass (0) or excessive freeze (> 7 days)\\n    uint public constant MIN_LOCKTIME = 1 hours;\\n    uint public constant MAX_LOCKTIME = 7 days;\\n\\n    // Service provider stake requirement\\n    uint public constant MIN_PROVIDER_STAKE = 100 ether; // 100 0G minimum stake\\n\\n    function _getFineTuningServingStorage() private pure returns (FineTuningServingStorage storage $) {\\n        assembly {\\n            $.slot := FINETUNING_SERVING_STORAGE_LOCATION\\n        }\\n    }\\n\\n    // Public getters for compatibility\\n    function lockTime() public view returns (uint) {\\n        FineTuningServingStorage storage $ = _getFineTuningServingStorage();\\n        return $.lockTime;\\n    }\\n\\n    function ledgerAddress() public view returns (address) {\\n        FineTuningServingStorage storage $ = _getFineTuningServingStorage();\\n        return $.ledgerAddress;\\n    }\\n\\n    function penaltyPercentage() public view returns (uint) {\\n        FineTuningServingStorage storage $ = _getFineTuningServingStorage();\\n        return $.penaltyPercentage;\\n    }\\n\\n    event BalanceUpdated(address indexed user, address indexed provider, uint amount, uint pendingRefund);\\n    event RefundRequested(address indexed user, address indexed provider, uint indexed index, uint timestamp);\\n    event ServiceUpdated(\\n        address indexed user,\\n        string url,\\n        Quota quota,\\n        uint pricePerToken,\\n        address teeSignerAddress,\\n        bool occupied\\n    );\\n    event ServiceRemoved(address indexed user);\\n    event AccountDeleted(address indexed user, address indexed provider, uint256 refundedAmount);\\n    event LockTimeUpdated(uint256 oldLockTime, uint256 newLockTime);\\n    event ProviderTEESignerAcknowledged(address indexed provider, address indexed teeSignerAddress, bool acknowledged);\\n    event ProviderStaked(address indexed provider, uint amount);\\n    event ProviderStakeReturned(address indexed provider, uint amount);\\n\\n    // GAS-1 optimization: Custom errors for gas efficiency\\n    error InvalidVerifierInput(string reason);\\n    error InvalidLedgerAddress();\\n    error PenaltyPercentageTooHigh(uint256 percentage);\\n    error LockTimeOutOfRange(uint256 lockTime);\\n    error LimitTooLarge(uint256 limit);\\n    error TransferToLedgerFailed();\\n    error ETHTransferFailed();\\n    error DirectDepositsDisabled();\\n    error SecretShouldNotBeEmpty();\\n    error SecretShouldBeEmpty();\\n    error CannotAddStakeWhenUpdating();\\n    error InsufficientStake(uint256 provided, uint256 required);\\n\\n    /// @notice Initializes the contract with locktime and ledger address\\n    /// @param _locktime The time period for refund locks\\n    /// @param _ledgerAddress The address of the ledger contract\\n    /// @param owner The owner address\\n    /// @param _penaltyPercentage The penalty percentage for unacknowledged deliverables\\n    function initialize(\\n        uint _locktime,\\n        address _ledgerAddress,\\n        address owner,\\n        uint _penaltyPercentage\\n    ) public onlyInitializeOnce {\\n        FineTuningServingStorage storage $ = _getFineTuningServingStorage();\\n        if (_ledgerAddress == address(0) || _ledgerAddress.code.length == 0) {\\n            revert InvalidLedgerAddress();\\n        }\\n        if (_penaltyPercentage > 100) {\\n            revert PenaltyPercentageTooHigh(_penaltyPercentage);\\n        }\\n        _transferOwnership(owner);\\n        if (_locktime < MIN_LOCKTIME || _locktime > MAX_LOCKTIME) {\\n            revert LockTimeOutOfRange(_locktime);\\n        }\\n        $.lockTime = _locktime;\\n        $.ledgerAddress = _ledgerAddress;\\n        $.ledger = ILedger(_ledgerAddress);\\n        $.penaltyPercentage = _penaltyPercentage;\\n    }\\n\\n    modifier onlyLedger() {\\n        FineTuningServingStorage storage $ = _getFineTuningServingStorage();\\n        require(msg.sender == $.ledgerAddress, \\\"Caller is not the ledger contract\\\");\\n        _;\\n    }\\n\\n    /// @notice Updates the lock time for refunds\\n    /// @dev MED-5: This change applies immediately to ALL pending refunds\\n    /// @dev The new lockTime will be used when processing any refund, regardless of when it was created\\n    /// @dev Owner should exercise caution as this affects users' expectations for refund timing\\n    /// @dev GAS-8: Skip storage write if value unchanged (~2900 gas saved)\\n    /// @param _locktime The new lock time (must be between MIN_LOCKTIME and MAX_LOCKTIME)\\n    function updateLockTime(uint _locktime) public onlyOwner {\\n        FineTuningServingStorage storage $ = _getFineTuningServingStorage();\\n        if (_locktime < MIN_LOCKTIME || _locktime > MAX_LOCKTIME) {\\n            revert LockTimeOutOfRange(_locktime);\\n        }\\n        uint256 oldLockTime = $.lockTime;\\n        // GAS-8: Only write if value changed\\n        if (oldLockTime != _locktime) {\\n            $.lockTime = _locktime;\\n            emit LockTimeUpdated(oldLockTime, _locktime);\\n        }\\n    }\\n\\n    /// @notice Updates the penalty percentage for unacknowledged deliverables\\n    /// @dev GAS-8: Skip storage write if value unchanged (~2900 gas saved)\\n    /// @param _penaltyPercentage The new penalty percentage (0-100)\\n    function updatePenaltyPercentage(uint _penaltyPercentage) public onlyOwner {\\n        FineTuningServingStorage storage $ = _getFineTuningServingStorage();\\n        if (_penaltyPercentage > 100) {\\n            revert PenaltyPercentageTooHigh(_penaltyPercentage);\\n        }\\n        // GAS-8: Only write if value changed\\n        if ($.penaltyPercentage != _penaltyPercentage) {\\n            $.penaltyPercentage = _penaltyPercentage;\\n        }\\n    }\\n\\n    // user functions\\n\\n    function getAccount(address user, address provider) public view returns (AccountDetails memory) {\\n        FineTuningServingStorage storage $ = _getFineTuningServingStorage();\\n        return $.accountMap.getAccountDetails(user, provider);\\n    }\\n\\n    function getAllAccounts(\\n        uint offset,\\n        uint limit\\n    ) public view returns (AccountSummary[] memory accounts, uint total) {\\n        FineTuningServingStorage storage $ = _getFineTuningServingStorage();\\n        if (limit != 0 && limit > 50) {\\n            revert LimitTooLarge(limit);\\n        }\\n        return $.accountMap.getAllAccounts(offset, (limit == 0 ? 50 : limit));\\n    }\\n\\n    function getAccountsByProvider(\\n        address provider,\\n        uint offset,\\n        uint limit\\n    ) public view returns (AccountSummary[] memory accounts, uint total) {\\n        FineTuningServingStorage storage $ = _getFineTuningServingStorage();\\n        if (limit != 0 && limit > 50) {\\n            revert LimitTooLarge(limit);\\n        }\\n        return $.accountMap.getAccountsByProvider(provider, offset, (limit == 0 ? 50 : limit));\\n    }\\n\\n    function getAccountsByUser(\\n        address user,\\n        uint offset,\\n        uint limit\\n    ) public view returns (AccountSummary[] memory accounts, uint total) {\\n        FineTuningServingStorage storage $ = _getFineTuningServingStorage();\\n        if (limit != 0 && limit > 50) {\\n            revert LimitTooLarge(limit);\\n        }\\n        return $.accountMap.getAccountsByUser(user, offset, (limit == 0 ? 50 : limit));\\n    }\\n\\n    function getBatchAccountsByUsers(\\n        address[] calldata users\\n    ) external view returns (AccountSummary[] memory accounts) {\\n        FineTuningServingStorage storage $ = _getFineTuningServingStorage();\\n        return $.accountMap.getBatchAccountsByUsers(users, msg.sender);\\n    }\\n\\n    function accountExists(address user, address provider) public view returns (bool) {\\n        FineTuningServingStorage storage $ = _getFineTuningServingStorage();\\n        return $.accountMap.accountExists(user, provider);\\n    }\\n\\n    function getPendingRefund(address user, address provider) public view returns (uint) {\\n        FineTuningServingStorage storage $ = _getFineTuningServingStorage();\\n        return $.accountMap.getPendingRefund(user, provider);\\n    }\\n\\n    function addAccount(address user, address provider, string memory additionalInfo) external payable onlyLedger {\\n        FineTuningServingStorage storage $ = _getFineTuningServingStorage();\\n        (uint balance, uint pendingRefund) = $.accountMap.addAccount(user, provider, msg.value, additionalInfo);\\n\\n        // Auto-acknowledge TEE signer when user transfers funds to provider\\n        $.accountMap.acknowledgeTEESigner(user, provider, true);\\n\\n        emit BalanceUpdated(user, provider, balance, pendingRefund);\\n    }\\n\\n    function deleteAccount(address user, address provider) external onlyLedger {\\n        FineTuningServingStorage storage $ = _getFineTuningServingStorage();\\n        uint deletedBalance = $.accountMap.deleteAccount(user, provider);\\n        emit AccountDeleted(user, provider, deletedBalance);\\n    }\\n\\n    function depositFund(address user, address provider, uint cancelRetrievingAmount) external payable onlyLedger {\\n        FineTuningServingStorage storage $ = _getFineTuningServingStorage();\\n        (uint balance, uint pendingRefund) = $.accountMap.depositFund(\\n            user,\\n            provider,\\n            cancelRetrievingAmount,\\n            msg.value\\n        );\\n\\n        // Auto-acknowledge TEE signer when user deposits funds to provider (if not already acknowledged)\\n        Account storage account = $.accountMap.getAccount(user, provider);\\n        if (!account.acknowledged) {\\n            $.accountMap.acknowledgeTEESigner(user, provider, true);\\n        }\\n\\n        emit BalanceUpdated(user, provider, balance, pendingRefund);\\n    }\\n\\n    function requestRefundAll(address user, address provider) external onlyLedger {\\n        FineTuningServingStorage storage $ = _getFineTuningServingStorage();\\n        $.accountMap.requestRefundAll(user, provider);\\n    }\\n\\n    function processRefund(\\n        address user,\\n        address provider\\n    ) external onlyLedger returns (uint totalAmount, uint balance, uint pendingRefund) {\\n        FineTuningServingStorage storage $ = _getFineTuningServingStorage();\\n        (totalAmount, balance, pendingRefund) = $.accountMap.processRefund(user, provider, $.lockTime);\\n        if (totalAmount == 0) {\\n            return (0, balance, pendingRefund);\\n        }\\n        // HIGH-3 FIX: Emit event BEFORE external call (CEI pattern)\\n        emit BalanceUpdated(user, provider, balance, pendingRefund);\\n\\n        (bool success, ) = payable(msg.sender).call{value: totalAmount}(\\\"\\\");\\n        if (!success) {\\n            revert TransferToLedgerFailed();\\n        }\\n    }\\n\\n    function getService(address provider) public view returns (Service memory service) {\\n        FineTuningServingStorage storage $ = _getFineTuningServingStorage();\\n        service = $.serviceMap.getService(provider);\\n    }\\n\\n    function getAllServices() public view returns (Service[] memory services) {\\n        FineTuningServingStorage storage $ = _getFineTuningServingStorage();\\n        services = $.serviceMap.getAllServices();\\n    }\\n\\n    function acknowledgeDeliverable(address provider, string calldata id) external {\\n        FineTuningServingStorage storage $ = _getFineTuningServingStorage();\\n        $.accountMap.acknowledgeDeliverable(msg.sender, provider, id);\\n    }\\n\\n    function acknowledgeTEESignerByOwner(address provider) external onlyOwner {\\n        FineTuningServingStorage storage $ = _getFineTuningServingStorage();\\n        Service storage service = $.serviceMap.getService(provider);\\n        $.serviceMap.acknowledgeTEESigner(provider);\\n        emit ProviderTEESignerAcknowledged(provider, service.teeSignerAddress, true);\\n    }\\n\\n    function acknowledgeTEESigner(address provider, bool acknowledged) external {\\n        FineTuningServingStorage storage $ = _getFineTuningServingStorage();\\n        $.accountMap.acknowledgeTEESigner(msg.sender, provider, acknowledged);\\n    }\\n\\n    function revokeTEESignerAcknowledgement(address provider) external onlyOwner {\\n        FineTuningServingStorage storage $ = _getFineTuningServingStorage();\\n        Service storage service = $.serviceMap.getService(provider);\\n        $.serviceMap.revokeTEESignerAcknowledgement(provider);\\n        emit ProviderTEESignerAcknowledged(provider, service.teeSignerAddress, false);\\n    }\\n\\n    // provider functions\\n\\n    function addOrUpdateService(\\n        string calldata url,\\n        Quota memory quota,\\n        uint pricePerToken,\\n        bool occupied,\\n        string[] memory models,\\n        address teeSignerAddress\\n    ) external payable {\\n        FineTuningServingStorage storage $ = _getFineTuningServingStorage();\\n        if ($.providerStake[msg.sender] > 0) {\\n            // Updating existing service: cannot add more stake\\n            if (msg.value != 0) {\\n                revert CannotAddStakeWhenUpdating();\\n            }\\n        } else {\\n            // First time registration: require stake\\n            if (msg.value < MIN_PROVIDER_STAKE) {\\n                revert InsufficientStake(msg.value, MIN_PROVIDER_STAKE);\\n            }\\n            $.providerStake[msg.sender] = msg.value;\\n\\n            emit ProviderStaked(msg.sender, msg.value);\\n        }\\n\\n        $.serviceMap.addOrUpdateService(msg.sender, url, quota, pricePerToken, occupied, models, teeSignerAddress);\\n        emit ServiceUpdated(msg.sender, url, quota, pricePerToken, teeSignerAddress, occupied);\\n    }\\n\\n    function removeService() external nonReentrant {\\n        FineTuningServingStorage storage $ = _getFineTuningServingStorage();\\n        $.serviceMap.removeService(msg.sender);\\n\\n        // Return stake if any\\n        uint stake = $.providerStake[msg.sender];\\n        if (stake > 0) {\\n            $.providerStake[msg.sender] = 0;\\n\\n            // Emit events before external call to prevent reentrancy-caused event ordering issues\\n            emit ProviderStakeReturned(msg.sender, stake);\\n            emit ServiceRemoved(msg.sender);\\n\\n            (bool success, ) = payable(msg.sender).call{value: stake}(\\\"\\\");\\n            if (!success) {\\n                revert ETHTransferFailed();\\n            }\\n        } else {\\n            emit ServiceRemoved(msg.sender);\\n        }\\n    }\\n\\n    function addDeliverable(address user, string calldata id, bytes memory modelRootHash) external {\\n        FineTuningServingStorage storage $ = _getFineTuningServingStorage();\\n        $.accountMap.addDeliverable(user, msg.sender, id, modelRootHash);\\n    }\\n\\n    function getDeliverable(\\n        address user,\\n        address provider,\\n        string calldata id\\n    ) public view returns (Deliverable memory) {\\n        FineTuningServingStorage storage $ = _getFineTuningServingStorage();\\n        return $.accountMap.getDeliverable(user, provider, id);\\n    }\\n\\n    function getDeliverables(address user, address provider) public view returns (Deliverable[] memory) {\\n        FineTuningServingStorage storage $ = _getFineTuningServingStorage();\\n        return $.accountMap.getDeliverables(user, provider);\\n    }\\n\\n    /// @notice Settles fees for a completed deliverable with TEE signature verification\\n    /// @param verifierInput The verifier input containing signature and deliverable data\\n    /// @dev CRIT-4 FIX: Added nonReentrant modifier to prevent reentrancy attacks\\n    /// @dev GAS-2: Cache storage variables to save ~100 gas\\n    function settleFees(VerifierInput calldata verifierInput) external nonReentrant {\\n        FineTuningServingStorage storage $ = _getFineTuningServingStorage();\\n        Account storage account = $.accountMap.getAccount(verifierInput.user, msg.sender);\\n        Service storage service = $.serviceMap.getService(msg.sender);\\n\\n        // Validate TEE signer acknowledgement - both user and service must be acknowledged, and service must have valid TEE signer address\\n        if (!account.acknowledged || !service.teeSignerAcknowledged || service.teeSignerAddress == address(0)) {\\n            revert InvalidVerifierInput(\\\"TEE signer not acknowledged\\\");\\n        }\\n\\n        // GAS-2: Cache frequently accessed storage variables\\n        uint accountNonce = account.nonce;\\n\\n        // Group all validation checks together for gas efficiency\\n        if (accountNonce >= verifierInput.nonce) {\\n            revert InvalidVerifierInput(\\\"nonce should larger than the current nonce\\\");\\n        }\\n        if (account.balance < verifierInput.taskFee) {\\n            revert InvalidVerifierInput(\\\"insufficient balance\\\");\\n        }\\n\\n        // Validate deliverable exists\\n        if (bytes(account.deliverables[verifierInput.id].id).length == 0) {\\n            revert AccountLibrary.DeliverableNotExists(verifierInput.id);\\n        }\\n        Deliverable storage deliverable = account.deliverables[verifierInput.id];\\n        if (keccak256(deliverable.modelRootHash) != keccak256(verifierInput.modelRootHash)) {\\n            revert InvalidVerifierInput(\\\"model root hash mismatch\\\");\\n        }\\n\\n        // Verify TEE signature using EIP-712 (uses service.teeSignerAddress)\\n        bool teePassed = verifierInput.verifySignature(service.teeSignerAddress, address(this));\\n        if (!teePassed) {\\n            revert InvalidVerifierInput(\\\"TEE settlement validation failed\\\");\\n        }\\n\\n        uint fee = verifierInput.taskFee;\\n        if (deliverable.acknowledged) {\\n            if (verifierInput.encryptedSecret.length == 0) {\\n                revert SecretShouldNotBeEmpty();\\n            }\\n            deliverable.encryptedSecret = verifierInput.encryptedSecret;\\n        } else {\\n            if (verifierInput.encryptedSecret.length != 0) {\\n                revert SecretShouldBeEmpty();\\n            }\\n            fee = (fee * $.penaltyPercentage) / 100;\\n        }\\n\\n        account.nonce = verifierInput.nonce;\\n        _settleFees(account, fee);\\n    }\\n\\n    /// @notice Internal function to settle fees with the provider\\n    /// @param account The account storage reference\\n    /// @param amount The amount to settle\\n    /// @dev CRIT-3 FIX: Uses call() instead of transfer() to avoid 2300 gas limit issues\\n    /// @dev Uses grow-only refund strategy aligned with Inference contract\\n    /// @dev Refunds are processed in LIFO order; validRefundsLength tracks active refunds\\n    function _settleFees(Account storage account, uint amount) private {\\n        FineTuningServingStorage storage $ = _getFineTuningServingStorage();\\n\\n        if (amount > (account.balance - account.pendingRefund)) {\\n            // Need to cancel some refunds to cover the fee\\n            uint amountFromRefunds = amount - (account.balance - account.pendingRefund);\\n            uint remainingToDeduct = amountFromRefunds;\\n            uint validLength = account.validRefundsLength;\\n\\n            // Single pass: process refunds from end to start (LIFO - most recent first)\\n            for (uint i = validLength; i > 0 && remainingToDeduct > 0; ) {\\n                unchecked { --i; }\\n                Refund storage refund = account.refunds[i];\\n\\n                if (refund.amount <= remainingToDeduct) {\\n                    // Fully cancel this refund\\n                    remainingToDeduct -= refund.amount;\\n                    refund.amount = 0;\\n                    --validLength;\\n                } else {\\n                    // Partially cancel this refund\\n                    refund.amount -= remainingToDeduct;\\n                    remainingToDeduct = 0;\\n                }\\n            }\\n\\n            account.validRefundsLength = validLength;\\n            account.pendingRefund -= amountFromRefunds;\\n        }\\n\\n        account.balance -= amount;\\n        $.ledger.spendFund(account.user, amount);\\n        emit BalanceUpdated(account.user, msg.sender, account.balance, account.pendingRefund);\\n\\n        // CRIT-3 FIX: Use call() instead of transfer() to support contracts with expensive receive() fallbacks\\n        // transfer() only forwards 2300 gas which can fail for contract recipients\\n        (bool success, ) = payable(msg.sender).call{value: amount}(\\\"\\\");\\n        if (!success) {\\n            revert ETHTransferFailed();\\n        }\\n    }\\n\\n    // === ERC165 Support ===\\n\\n    function supportsInterface(bytes4 interfaceId) public view virtual override returns (bool) {\\n        return interfaceId == type(IServing).interfaceId || super.supportsInterface(interfaceId);\\n    }\\n\\n    receive() external payable {\\n        revert DirectDepositsDisabled();\\n    }\\n}\\n\",\"keccak256\":\"0xf3113446c63d5535b06d3aef62c93461b03cfbddab91ae506de3ea5fa532f4a6\",\"license\":\"MIT\"},\"contracts/fine-tuning/FineTuningVerifier.sol\":{\"content\":\"// SPDX-License-Identifier: MIT\\npragma solidity 0.8.22;\\n\\nimport {ECDSA} from \\\"@openzeppelin/contracts/utils/cryptography/ECDSA.sol\\\";\\n\\n/// @title VerifierInput\\n/// @notice Structure containing all data required for signature verification\\nstruct VerifierInput {\\n    string id; // Unique deliverable identifier (MUST be included in signature)\\n    bytes encryptedSecret;\\n    bytes modelRootHash;\\n    uint nonce;\\n    bytes signature;\\n    uint taskFee;\\n    address user;\\n}\\n\\n/// @title VerifierLibrary\\n/// @notice EIP-712 compliant signature verification library for fine-tuning deliverables\\n/// @dev Uses OpenZeppelin's ECDSA library for secure signature validation with automatic malleability protection\\nlibrary VerifierLibrary {\\n    // Custom errors for gas efficiency and better debugging\\n    error InvalidSignature();\\n    error DeliverableIdTooLong(uint256 length);\\n\\n    // EIP-712 Domain Separator constants (following InferenceServing pattern)\\n    bytes32 private constant DOMAIN_TYPEHASH =\\n        keccak256(\\\"EIP712Domain(string name,string version,uint256 chainId,address verifyingContract)\\\");\\n    bytes32 private constant MESSAGE_TYPEHASH =\\n        keccak256(\\n            \\\"VerifierMessage(string id,bytes encryptedSecret,bytes modelRootHash,uint256 nonce,uint256 taskFee,address user)\\\"\\n        );\\n\\n    string private constant DOMAIN_NAME = \\\"0G Fine-Tuning Serving\\\";\\n    string private constant DOMAIN_VERSION = \\\"1\\\";\\n\\n    uint256 private constant MAX_DELIVERABLE_ID_LENGTH = 256;\\n\\n    /// @notice Verifies signature using EIP-712 standard\\n    /// @param input The verifier input containing all signature data\\n    /// @param expectedAddress The address expected to have signed the message\\n    /// @param contractAddress The address of the contract (for domain separator)\\n    /// @return bool True if signature is valid and from expectedAddress\\n    /// @dev Uses ECDSA.tryRecover for automatic malleability protection (CertiK 0LS-14)\\n    function verifySignature(\\n        VerifierInput memory input,\\n        address expectedAddress,\\n        address contractAddress\\n    ) internal view returns (bool) {\\n        // HIGH-5 FIX: Validate deliverable ID length to prevent DoS\\n        if (bytes(input.id).length > MAX_DELIVERABLE_ID_LENGTH) {\\n            revert DeliverableIdTooLong(bytes(input.id).length);\\n        }\\n\\n        // Compute EIP-712 domain separator\\n        bytes32 domainSeparator = keccak256(\\n            abi.encode(\\n                DOMAIN_TYPEHASH,\\n                keccak256(bytes(DOMAIN_NAME)),\\n                keccak256(bytes(DOMAIN_VERSION)),\\n                block.chainid,\\n                contractAddress\\n            )\\n        );\\n\\n        // Compute EIP-712 struct hash\\n        bytes32 structHash = keccak256(\\n            abi.encode(\\n                MESSAGE_TYPEHASH,\\n                keccak256(bytes(input.id)), // CRIT-2 FIX: Include 'id' to prevent signature reuse\\n                keccak256(input.encryptedSecret),\\n                keccak256(input.modelRootHash),\\n                input.nonce,\\n                input.taskFee,\\n                input.user\\n            )\\n        );\\n\\n        // Compute EIP-712 typed data hash\\n        bytes32 digest = keccak256(abi.encodePacked(\\\"\\\\x19\\\\x01\\\", domainSeparator, structHash));\\n\\n        // ECDSA.tryRecover automatically checks s value malleability and returns error on invalid signature\\n        (address recovered, ECDSA.RecoverError error) = ECDSA.tryRecover(digest, input.signature);\\n\\n        // Return true only if recovery succeeded and address matches (CRIT-1 FIX: zero-address check)\\n        return error == ECDSA.RecoverError.NoError && recovered == expectedAddress;\\n    }\\n\\n}\\n\",\"keccak256\":\"0x7ef922e6a13d6645afb93395235d4caa4af13b8765b4a31df40e35aa998bfd54\",\"license\":\"MIT\"},\"contracts/ledger/LedgerManager.sol\":{\"content\":\"// SPDX-License-Identifier: Unlicense\\npragma solidity 0.8.22;\\n\\nimport {Ownable} from \\\"@openzeppelin/contracts/access/Ownable.sol\\\";\\nimport {EnumerableSet} from \\\"@openzeppelin/contracts/utils/structs/EnumerableSet.sol\\\";\\nimport {ReentrancyGuard} from \\\"@openzeppelin/contracts/security/ReentrancyGuard.sol\\\";\\nimport {ERC165Checker} from \\\"@openzeppelin/contracts/utils/introspection/ERC165Checker.sol\\\";\\nimport {IERC165} from \\\"@openzeppelin/contracts/utils/introspection/IERC165.sol\\\";\\nimport {Initializable} from \\\"../utils/Initializable.sol\\\";\\nimport {Math} from \\\"@openzeppelin/contracts/utils/math/Math.sol\\\";\\n\\ninterface IServing {\\n    function accountExists(address user, address provider) external view returns (bool);\\n\\n    function getPendingRefund(address user, address provider) external view returns (uint);\\n\\n    function addAccount(address user, address provider, string memory additionalInfo) external payable;\\n\\n    function depositFund(address user, address provider, uint cancelRetrievingAmount) external payable;\\n\\n    function requestRefundAll(address user, address provider) external;\\n\\n    function processRefund(\\n        address user,\\n        address provider\\n    ) external returns (uint totalAmount, uint balance, uint pendingRefund);\\n\\n    function deleteAccount(address user, address provider) external;\\n}\\n\\n// Simplified ledger structure\\nstruct Ledger {\\n    address user;\\n    uint availableBalance;\\n    uint totalBalance;\\n    string additionalInfo;\\n}\\n\\n// Service information structure\\nstruct ServiceInfo {\\n    address serviceAddress;\\n    IServing serviceContract;\\n    string serviceType; // \\\"inference\\\" or \\\"fine-tuning\\\"\\n    string version; // \\\"v1.0\\\", \\\"v2.0\\\" etc.\\n    string fullName; // \\\"inference-v2.0\\\"\\n    string description;\\n    bool isRecommended; // Whether this is the recommended version for this service type\\n    uint256 registeredAt;\\n}\\n\\ninterface ILedger {\\n    function spendFund(address user, uint amount) external;\\n\\n    function depositFundFor(address recipient) external payable;\\n}\\n\\ncontract LedgerManager is Ownable, Initializable, ReentrancyGuard {\\n    using EnumerableSet for EnumerableSet.Bytes32Set;\\n    using EnumerableSet for EnumerableSet.AddressSet;\\n    using ERC165Checker for address;\\n\\n    // @custom:storage-location erc7201:0g.serving.ledger\\n    struct LedgerManagerStorage {\\n        // Service registry (using address as key)\\n        mapping(address => ServiceInfo) registeredServices;\\n        mapping(string => address) serviceNameToAddress; // \\\"inference-v2.0\\\" => address\\n        EnumerableSet.AddressSet serviceAddresses;\\n        mapping(bytes32 => address) recommendedByType; // per-type recommended service pointer\\n        LedgerMap ledgerMap;\\n        // DEPRECATED: Keep for storage layout compatibility only. Data migrated to userServiceProvidersByAddress.\\n        // DO NOT USE THIS FIELD IN NEW CODE.\\n        mapping(address => mapping(string => EnumerableSet.AddressSet)) userServiceProviders;\\n        // Current mapping: user => serviceAddress => providers\\n        mapping(address => mapping(address => EnumerableSet.AddressSet)) userServiceProvidersByAddress;\\n    }\\n\\n    // keccak256(abi.encode(uint256(keccak256(\\\"0g.serving.ledger\\\")) - 1)) & ~bytes32(uint256(0xff))\\n    bytes32 private constant LEDGER_MANAGER_STORAGE_LOCATION =\\n        0x0bb5d42557ea6926c17416c5b1c1c29c28d9006d6f713295a2d385f07156ed00;\\n\\n    function _getLedgerManagerStorage() private pure returns (LedgerManagerStorage storage $) {\\n        assembly {\\n            $.slot := LEDGER_MANAGER_STORAGE_LOCATION\\n        }\\n    }\\n\\n    // Constants\\n    uint public constant MAX_PROVIDERS_PER_BATCH = 20;\\n    uint public constant MAX_SERVICES = 500;\\n    uint public constant MAX_PROVIDERS_PER_USER_PER_SERVICE = 50; // Limit to prevent unbounded gas in _deleteAllServiceAccounts\\n    uint public constant MAX_ADDITIONAL_INFO_LENGTH = 4096; // 4KB limit for JSON configuration data\\n    uint public constant MIN_ACCOUNT_BALANCE = 3 ether; // 3 0G minimum account balance\\n    uint public constant MIN_TRANSFER_AMOUNT = 1 ether; // 1 0G minimum transfer for new service account\\n    bytes4 private constant SERVING_INTERFACE_ID = type(IServing).interfaceId;\\n\\n    // Events\\n    event ServiceRegistered(address indexed serviceAddress, string serviceName);\\n    event RecommendedServiceUpdated(string serviceType, string version, address serviceAddress);\\n    event LedgerInfoUpdated(address indexed user, string additionalInfo);\\n    event FundSpent(address indexed user, address indexed service, uint256 amount);\\n    event UserServiceProvidersMigrated(\\n        address indexed user,\\n        address indexed serviceAddress,\\n        uint256 providerCount\\n    );\\n\\n    // Errors\\n    error LedgerNotExists(address user);\\n    error LedgerExists(address user);\\n    error InsufficientBalance(address user);\\n    error TooManyProviders(uint requested, uint maximum);\\n    error TooManyProvidersForService(uint current, uint maximum);\\n    error InvalidServiceType(string serviceType);\\n    error ServiceNotRegistered(address serviceAddress);\\n    error ServiceNameExists(string serviceName);\\n    error InvalidServiceAddress(address serviceAddress);\\n    error LedgerLocked();\\n    error CallerNotRegisteredService(address caller);\\n    error ServiceNotFound(address serviceAddress);\\n    error MinimumDepositRequired(uint256 provided, uint256 required);\\n    error AdditionalInfoTooLong(uint256 length, uint256 max);\\n    error ZeroAmountNotAllowed();\\n    error ZeroAddressNotAllowed();\\n    error InsufficientAvailableBalance(uint256 available, uint256 required);\\n    error TransferFailed();\\n    error CallFailed();\\n    error MustWithdrawAllFundsFirst(uint256 remainingBalance);\\n    error ServiceTypeRequired();\\n    error VersionRequired();\\n    error ServiceAlreadyRegistered(address serviceAddress);\\n    error ServiceMustImplementIServing(address serviceAddress);\\n    error ServiceRegistryLimitReached(uint256 limit);\\n    error NoRecommendedService(string serviceType);\\n    error NoServicesRegistered();\\n\\n    struct LedgerMap {\\n        EnumerableSet.Bytes32Set _keys;\\n        mapping(bytes32 => Ledger) _values;\\n        // Operation locks to prevent reentrancy\\n        mapping(bytes32 => bool) _operationLocks;\\n    }\\n\\n    // Prevent reentrancy on ledger operations\\n    modifier withLedgerLock(address user) {\\n        LedgerManagerStorage storage $ = _getLedgerManagerStorage();\\n        bytes32 key = _key(user);\\n        if ($.ledgerMap._operationLocks[key]) {\\n            revert LedgerLocked();\\n        }\\n        $.ledgerMap._operationLocks[key] = true;\\n        _;\\n        $.ledgerMap._operationLocks[key] = false;\\n    }\\n\\n    /**\\n     * @dev Constructor that disables initialization on the logic contract.\\n     * This prevents the initialize function from being called on the logic contract itself.\\n     * Only proxy contracts can call initialize.\\n     *\\n     * This is the recommended approach for upgradeable contracts to prevent\\n     * unauthorized initialization of the logic contract.\\n     */\\n    /// @custom:oz-upgrades-unsafe-allow constructor\\n    constructor() {\\n        _disableInitializers();\\n    }\\n\\n    function initialize(address owner) public onlyInitializeOnce {\\n        _transferOwnership(owner);\\n    }\\n\\n    modifier onlyServing() {\\n        LedgerManagerStorage storage $ = _getLedgerManagerStorage();\\n        if ($.registeredServices[msg.sender].serviceAddress == address(0)) {\\n            revert CallerNotRegisteredService(msg.sender);\\n        }\\n        _;\\n    }\\n\\n    function getLedger(address user) public view returns (Ledger memory) {\\n        LedgerManagerStorage storage $ = _getLedgerManagerStorage();\\n        return _get($, user);\\n    }\\n\\n    function getAllLedgers(uint offset, uint limit) public view returns (Ledger[] memory ledgers, uint total) {\\n        total = _length();\\n\\n        if (offset >= total) {\\n            return (new Ledger[](0), total);\\n        }\\n\\n        uint end = Math.min(offset + (limit == 0 ? 50 : limit), total);\\n        uint resultLen = end - offset;\\n        ledgers = new Ledger[](resultLen);\\n\\n        for (uint i = 0; i < resultLen; i++) {\\n            ledgers[i] = _at(offset + i);\\n        }\\n\\n        return (ledgers, total);\\n    }\\n\\n    // Get providers for a specific user and service\\n    function getLedgerProviders(address user, string memory serviceName) public view returns (address[] memory) {\\n        LedgerManagerStorage storage $ = _getLedgerManagerStorage();\\n        address serviceAddress = $.serviceNameToAddress[serviceName];\\n        if (serviceAddress == address(0)) {\\n            revert ServiceNotFound(serviceAddress);\\n        }\\n\\n        // Use new serviceAddress-based mapping\\n        EnumerableSet.AddressSet storage providers = $.userServiceProvidersByAddress[user][serviceAddress];\\n\\n        uint256 providersLen = providers.length();\\n        address[] memory providerList = new address[](providersLen);\\n        for (uint256 i = 0; i < providersLen; i++) {\\n            providerList[i] = providers.at(i);\\n        }\\n\\n        return providerList;\\n    }\\n\\n    function addLedger(string memory additionalInfo) external payable withLedgerLock(msg.sender) returns (uint, uint) {\\n        if (msg.value < MIN_ACCOUNT_BALANCE) {\\n            revert MinimumDepositRequired(msg.value, MIN_ACCOUNT_BALANCE);\\n        }\\n        if (bytes(additionalInfo).length > MAX_ADDITIONAL_INFO_LENGTH) {\\n            revert AdditionalInfoTooLong(bytes(additionalInfo).length, MAX_ADDITIONAL_INFO_LENGTH);\\n        }\\n        LedgerManagerStorage storage $ = _getLedgerManagerStorage();\\n        bytes32 key = _key(msg.sender);\\n        if (_contains($, key)) {\\n            revert LedgerExists(msg.sender);\\n        }\\n        _set($, key, msg.sender, msg.value, additionalInfo);\\n        return (msg.value, 0);\\n    }\\n\\n    /// @notice Update additional info for an existing ledger\\n    /// @param additionalInfo New additional info (max 4KB)\\n    function updateAdditionalInfo(string memory additionalInfo) external withLedgerLock(msg.sender) {\\n        if (bytes(additionalInfo).length > MAX_ADDITIONAL_INFO_LENGTH) {\\n            revert AdditionalInfoTooLong(bytes(additionalInfo).length, MAX_ADDITIONAL_INFO_LENGTH);\\n        }\\n        LedgerManagerStorage storage $ = _getLedgerManagerStorage();\\n        Ledger storage ledger = _get($, msg.sender);\\n        ledger.additionalInfo = additionalInfo;\\n        emit LedgerInfoUpdated(msg.sender, additionalInfo);\\n    }\\n\\n    function depositFund() external payable withLedgerLock(msg.sender) {\\n        _depositFundInternal(msg.sender, msg.value);\\n    }\\n\\n    // Internal function for deposit logic without modifier\\n    function _depositFundInternal(address user, uint256 amount) internal {\\n        if (amount == 0) {\\n            revert ZeroAmountNotAllowed();\\n        }\\n\\n        LedgerManagerStorage storage $ = _getLedgerManagerStorage();\\n        bytes32 key = _key(user);\\n\\n        // Create account if it doesn't exist (with empty additionalInfo, can be updated later via updateAdditionalInfo)\\n        if (!_contains($, key)) {\\n            if (amount < MIN_ACCOUNT_BALANCE) {\\n                revert MinimumDepositRequired(amount, MIN_ACCOUNT_BALANCE);\\n            }\\n            _set($, key, user, amount, \\\"\\\");  // Empty additionalInfo by design\\n        } else {\\n            Ledger storage ledger = $.ledgerMap._values[key];\\n            ledger.availableBalance += amount;\\n            ledger.totalBalance += amount;\\n        }\\n    }\\n\\n    function depositFundFor(address recipient) external payable withLedgerLock(recipient) {\\n        if (recipient == address(0)) {\\n            revert ZeroAddressNotAllowed();\\n        }\\n        if (msg.value == 0) {\\n            revert ZeroAmountNotAllowed();\\n        }\\n\\n        LedgerManagerStorage storage $ = _getLedgerManagerStorage();\\n        bytes32 key = _key(recipient);\\n\\n        // Create account if it doesn't exist\\n        if (!_contains($, key)) {\\n            if (msg.value < MIN_ACCOUNT_BALANCE) {\\n                revert MinimumDepositRequired(msg.value, MIN_ACCOUNT_BALANCE);\\n            }\\n            _set($, key, recipient, msg.value, \\\"\\\");\\n        } else {\\n            Ledger storage ledger = $.ledgerMap._values[key];\\n            ledger.availableBalance += msg.value;\\n            ledger.totalBalance += msg.value;\\n        }\\n    }\\n\\n    function refund(uint amount) external withLedgerLock(msg.sender) {\\n        LedgerManagerStorage storage $ = _getLedgerManagerStorage();\\n        Ledger storage ledger = _get($, msg.sender);\\n        if (ledger.availableBalance < amount) {\\n            revert InsufficientBalance(msg.sender);\\n        }\\n\\n        // Enforce minimum balance: must keep MIN_ACCOUNT_BALANCE or withdraw all\\n        uint remainingBalance = ledger.availableBalance - amount;\\n        if (remainingBalance != 0 && remainingBalance < MIN_ACCOUNT_BALANCE) {\\n            revert MinimumDepositRequired(remainingBalance, MIN_ACCOUNT_BALANCE);\\n        }\\n\\n        ledger.availableBalance -= amount;\\n        ledger.totalBalance -= amount;\\n\\n        // Auto-delete account if total balance reaches 0\\n        // Delete account records BEFORE external call to prevent reentrancy issues\\n        bool shouldDelete = (ledger.totalBalance == 0);\\n        if (shouldDelete) {\\n            bytes32 key = _key(msg.sender);\\n            $.ledgerMap._keys.remove(key);\\n            delete $.ledgerMap._values[key];\\n\\n            // Delete all service accounts (involves external calls to service contracts)\\n            _deleteAllServiceAccounts($, msg.sender);\\n        }\\n\\n        // External call comes last (CEI pattern)\\n        (bool success, ) = payable(msg.sender).call{value: amount}(\\\"\\\");\\n        if (!success) {\\n            revert TransferFailed();\\n        }\\n    }\\n\\n    // Enhanced transferFund with dynamic service support\\n    function transferFund(\\n        address provider,\\n        string memory serviceName,\\n        uint amount\\n    ) external withLedgerLock(msg.sender) {\\n        LedgerManagerStorage storage $ = _getLedgerManagerStorage();\\n        Ledger storage ledger = _get($, msg.sender);\\n\\n        // Dynamic service lookup\\n        address serviceAddress = $.serviceNameToAddress[serviceName];\\n        if (serviceAddress == address(0)) {\\n            revert ServiceNotFound(serviceAddress);\\n        }\\n\\n        ServiceInfo storage service = $.registeredServices[serviceAddress];\\n\\n        address servingAddress = service.serviceAddress;\\n        IServing serving = service.serviceContract;\\n\\n        uint transferAmount = amount;\\n        bytes memory payload;\\n\\n        if (serving.accountExists(msg.sender, provider)) {\\n            // Account exists - handle pending refunds\\n            uint retrievingAmount = serving.getPendingRefund(msg.sender, provider);\\n            uint cancelRetrievingAmount = Math.min(amount, retrievingAmount);\\n            transferAmount -= cancelRetrievingAmount;\\n\\n            payload = abi.encodeWithSignature(\\n                \\\"depositFund(address,address,uint256)\\\",\\n                msg.sender,\\n                provider,\\n                cancelRetrievingAmount\\n            );\\n        } else {\\n            // New account - require minimum transfer amount\\n            if (amount < MIN_TRANSFER_AMOUNT) {\\n                revert MinimumDepositRequired(amount, MIN_TRANSFER_AMOUNT);\\n            }\\n\\n            // Use unified addAccount interface\\n            payload = abi.encodeWithSignature(\\n                \\\"addAccount(address,address,string)\\\",\\n                msg.sender,\\n                provider,\\n                ledger.additionalInfo\\n            );\\n\\n            // Add provider to service storage (using new serviceAddress-based mapping)\\n            _addProviderToService($, msg.sender, serviceAddress, provider);\\n        }\\n\\n        if (ledger.availableBalance < transferAmount) {\\n            revert InsufficientAvailableBalance(ledger.availableBalance, transferAmount);\\n        }\\n        ledger.availableBalance -= transferAmount;\\n\\n        (bool success, ) = servingAddress.call{value: transferAmount}(payload);\\n        if (!success) {\\n            revert CallFailed();\\n        }\\n    }\\n\\n    function retrieveFund(address[] memory providers, string memory serviceName) external withLedgerLock(msg.sender) {\\n        LedgerManagerStorage storage $ = _getLedgerManagerStorage();\\n        if (providers.length > MAX_PROVIDERS_PER_BATCH) {\\n            revert TooManyProviders(providers.length, MAX_PROVIDERS_PER_BATCH);\\n        }\\n\\n        // Dynamic service lookup\\n        address serviceAddress = $.serviceNameToAddress[serviceName];\\n        if (serviceAddress == address(0)) {\\n            revert ServiceNotFound(serviceAddress);\\n        }\\n\\n        ServiceInfo storage service = $.registeredServices[serviceAddress];\\n\\n        IServing serving = service.serviceContract;\\n\\n        Ledger storage ledger = _get($, msg.sender);\\n        uint totalAmount = 0;\\n\\n        for (uint i = 0; i < providers.length; i++) {\\n            if (serving.accountExists(msg.sender, providers[i])) {\\n                (uint amount, , ) = serving.processRefund(msg.sender, providers[i]);\\n                totalAmount += amount;\\n                serving.requestRefundAll(msg.sender, providers[i]);\\n            }\\n        }\\n        ledger.availableBalance += totalAmount;\\n    }\\n\\n    function deleteLedger() external nonReentrant withLedgerLock(msg.sender) {\\n        LedgerManagerStorage storage $ = _getLedgerManagerStorage();\\n        Ledger storage ledger = _get($, msg.sender);\\n\\n        // Safety check: ensure all funds have been withdrawn\\n        if (ledger.totalBalance != 0) {\\n            revert MustWithdrawAllFundsFirst(ledger.totalBalance);\\n        }\\n\\n        _deleteAllServiceAccounts($, msg.sender);\\n\\n        bytes32 key = _key(msg.sender);\\n        // Delete main ledger\\n        $.ledgerMap._keys.remove(key);\\n        delete $.ledgerMap._values[key];\\n    }\\n\\n    function _deleteAllServiceAccounts(LedgerManagerStorage storage $, address user) private {\\n        // Delete all service accounts dynamically (using serviceAddress-based mapping)\\n        uint256 serviceCount = $.serviceAddresses.length();\\n        for (uint256 i = 0; i < serviceCount; i++) {\\n            address serviceAddress = $.serviceAddresses.at(i);\\n            ServiceInfo storage service = $.registeredServices[serviceAddress];\\n\\n            // Use new serviceAddress-based mapping\\n            EnumerableSet.AddressSet storage providers = $.userServiceProvidersByAddress[user][serviceAddress];\\n\\n            uint256 providersLen = providers.length();\\n            address[] memory providerList = new address[](providersLen);\\n            for (uint j = 0; j < providersLen; j++) {\\n                providerList[j] = providers.at(j);\\n            }\\n\\n            uint256 providerListLen = providerList.length;\\n            for (uint j = 0; j < providerListLen; j++) {\\n                try service.serviceContract.deleteAccount(user, providerList[j]) {\\n                    providers.remove(providerList[j]);\\n                } catch {\\n                    providers.remove(providerList[j]); // Remove even on failure\\n                }\\n            }\\n        }\\n    }\\n\\n    // === Service Registration Management ===\\n\\n    function registerService(\\n        string memory serviceType,\\n        string memory version,\\n        address serviceAddress,\\n        string memory description\\n    ) external onlyOwner {\\n        LedgerManagerStorage storage $ = _getLedgerManagerStorage();\\n        if (serviceAddress == address(0)) {\\n            revert InvalidServiceAddress(serviceAddress);\\n        }\\n        if (bytes(serviceType).length == 0) {\\n            revert ServiceTypeRequired();\\n        }\\n        if (bytes(version).length == 0) {\\n            revert VersionRequired();\\n        }\\n        if ($.registeredServices[serviceAddress].serviceAddress != address(0)) {\\n            revert ServiceAlreadyRegistered(serviceAddress);\\n        }\\n\\n        string memory fullName = string(abi.encodePacked(serviceType, \\\"-\\\", version));\\n        if ($.serviceNameToAddress[fullName] != address(0)) {\\n            revert ServiceNameExists(fullName);\\n        }\\n\\n        // Check interface support\\n        if (!serviceAddress.supportsInterface(type(IERC165).interfaceId)) {\\n            revert ServiceMustImplementIServing(serviceAddress);\\n        }\\n        if (!serviceAddress.supportsInterface(SERVING_INTERFACE_ID)) {\\n            revert ServiceMustImplementIServing(serviceAddress);\\n        }\\n        if ($.serviceAddresses.length() >= MAX_SERVICES) {\\n            revert ServiceRegistryLimitReached(MAX_SERVICES);\\n        }\\n\\n        // Register service (default not recommended)\\n        $.registeredServices[serviceAddress] = ServiceInfo({\\n            serviceAddress: serviceAddress,\\n            serviceContract: IServing(serviceAddress),\\n            serviceType: serviceType,\\n            version: version,\\n            fullName: fullName,\\n            description: description,\\n            isRecommended: false, // Default not recommended\\n            registeredAt: block.timestamp\\n        });\\n\\n        $.serviceNameToAddress[fullName] = serviceAddress;\\n        $.serviceAddresses.add(serviceAddress);\\n\\n        emit ServiceRegistered(serviceAddress, fullName);\\n    }\\n\\n    function setRecommendedService(string memory serviceType, string memory version) external onlyOwner {\\n        LedgerManagerStorage storage $ = _getLedgerManagerStorage();\\n        string memory fullName = string(abi.encodePacked(serviceType, \\\"-\\\", version));\\n        address serviceAddress = $.serviceNameToAddress[fullName];\\n        if (serviceAddress == address(0)) {\\n            revert ServiceNotFound(serviceAddress);\\n        }\\n\\n        // Update per-type recommended pointer and clear previous recommendation if any (O(1))\\n        bytes32 tkey = keccak256(abi.encodePacked(serviceType));\\n        address old = $.recommendedByType[tkey];\\n        if (old != address(0) && old != serviceAddress) {\\n            $.registeredServices[old].isRecommended = false;\\n        }\\n        $.recommendedByType[tkey] = serviceAddress;\\n\\n        // Set new recommended service\\n        $.registeredServices[serviceAddress].isRecommended = true;\\n\\n        emit RecommendedServiceUpdated(serviceType, version, serviceAddress);\\n    }\\n\\n    function getServiceInfo(address serviceAddress) external view returns (ServiceInfo memory) {\\n        LedgerManagerStorage storage $ = _getLedgerManagerStorage();\\n        return $.registeredServices[serviceAddress];\\n    }\\n\\n    function getServiceAddressByName(string memory serviceName) external view returns (address) {\\n        LedgerManagerStorage storage $ = _getLedgerManagerStorage();\\n        return $.serviceNameToAddress[serviceName];\\n    }\\n\\n    function getAllActiveServices() external view returns (ServiceInfo[] memory) {\\n        LedgerManagerStorage storage $ = _getLedgerManagerStorage();\\n        uint256 count = $.serviceAddresses.length();\\n        ServiceInfo[] memory services = new ServiceInfo[](count);\\n\\n        for (uint256 i = 0; i < count; i++) {\\n            address serviceAddress = $.serviceAddresses.at(i);\\n            services[i] = $.registeredServices[serviceAddress];\\n        }\\n\\n        return services;\\n    }\\n\\n    function getRecommendedService(\\n        string memory serviceType\\n    ) external view returns (string memory version, address serviceAddress) {\\n        LedgerManagerStorage storage $ = _getLedgerManagerStorage();\\n        bytes32 tkey = keccak256(abi.encodePacked(serviceType));\\n        address addr = $.recommendedByType[tkey];\\n        if (addr == address(0)) {\\n            revert NoRecommendedService(serviceType);\\n        }\\n\\n        ServiceInfo storage service = $.registeredServices[addr];\\n        return (service.version, addr);\\n    }\\n\\n    function getAllVersions(\\n        string memory serviceType\\n    ) external view returns (string[] memory versions, address[] memory addresses, bool[] memory isRecommendedFlags) {\\n        LedgerManagerStorage storage $ = _getLedgerManagerStorage();\\n        // First count matching services\\n        uint256 count = $.serviceAddresses.length();\\n        uint256 matchCount = 0;\\n        for (uint256 i = 0; i < count; i++) {\\n            address addr = $.serviceAddresses.at(i);\\n            ServiceInfo storage service = $.registeredServices[addr];\\n            if (keccak256(abi.encodePacked(service.serviceType)) == keccak256(abi.encodePacked(serviceType))) {\\n                matchCount++;\\n            }\\n        }\\n\\n        // Allocate arrays\\n        versions = new string[](matchCount);\\n        addresses = new address[](matchCount);\\n        isRecommendedFlags = new bool[](matchCount);\\n\\n        // Fill arrays\\n        uint256 index = 0;\\n        for (uint256 i = 0; i < count; i++) {\\n            address addr = $.serviceAddresses.at(i);\\n            ServiceInfo storage service = $.registeredServices[addr];\\n            if (keccak256(abi.encodePacked(service.serviceType)) == keccak256(abi.encodePacked(serviceType))) {\\n                versions[index] = service.version;\\n                addresses[index] = addr;\\n                isRecommendedFlags[index] = service.isRecommended;\\n                index++;\\n            }\\n        }\\n    }\\n\\n    function isRecommendedVersion(string memory serviceType, string memory version) external view returns (bool) {\\n        LedgerManagerStorage storage $ = _getLedgerManagerStorage();\\n        string memory fullName = string(abi.encodePacked(serviceType, \\\"-\\\", version));\\n        address serviceAddress = $.serviceNameToAddress[fullName];\\n        if (serviceAddress == address(0)) {\\n            return false;\\n        }\\n        return $.registeredServices[serviceAddress].isRecommended;\\n    }\\n\\n    // === Data Migration ===\\n\\n    /// @notice One-time migration function to move data from old mapping to new mapping\\n    /// @dev Migrates userServiceProviders (serviceType-based) to userServiceProvidersByAddress (serviceAddress-based)\\n    /// @dev Supports batch processing to prevent gas limit issues with large user bases\\n    /// @dev Can be called by owner after contract upgrade to migrate existing data\\n    /// @dev Safe to call multiple times - will only migrate data that hasn't been migrated yet\\n    /// @param startUserIndex Index of user to start migration from (0-based, use 0 to start from beginning)\\n    /// @param batchSize Maximum number of users to process (use 0 for all remaining users)\\n    /// @return migratedCount Number of users that had data migrated\\n    /// @return nextUserIndex Index to continue from in next batch (equals total users when complete)\\n    function migrateUserServiceProvidersMapping(\\n        uint256 startUserIndex,\\n        uint256 batchSize\\n    ) external onlyOwner returns (uint256 migratedCount, uint256 nextUserIndex) {\\n        LedgerManagerStorage storage $ = _getLedgerManagerStorage();\\n\\n        // Get the service address (expecting only one in legacy environment)\\n        uint256 serviceCount = $.serviceAddresses.length();\\n        if (serviceCount == 0) {\\n            revert NoServicesRegistered();\\n        }\\n        address serviceAddress = $.serviceAddresses.at(0);\\n        ServiceInfo storage service = $.registeredServices[serviceAddress];\\n        string memory serviceType = service.serviceType;\\n\\n        // Get all ledger users\\n        uint256 ledgerCount = $.ledgerMap._keys.length();\\n        if (ledgerCount == 0) {\\n            return (0, 0);\\n        }\\n\\n        // Validate startUserIndex\\n        require(startUserIndex < ledgerCount, \\\"LedgerManager: startUserIndex out of bounds\\\");\\n\\n        // Calculate end index: if batchSize is 0, process all remaining\\n        uint256 endUserIndex;\\n        if (batchSize == 0 || batchSize > ledgerCount - startUserIndex) {\\n            endUserIndex = ledgerCount;\\n        } else {\\n            endUserIndex = startUserIndex + batchSize;\\n        }\\n\\n        migratedCount = 0;\\n\\n        // Process batch of users\\n        for (uint256 j = startUserIndex; j < endUserIndex; j++) {\\n            bytes32 ledgerKey = $.ledgerMap._keys.at(j);\\n            address user = $.ledgerMap._values[ledgerKey].user;\\n\\n            // Get old mapping data\\n            EnumerableSet.AddressSet storage oldProviders = $.userServiceProviders[user][serviceType];\\n\\n            // Skip if no data to migrate\\n            if (oldProviders.length() == 0) {\\n                continue;\\n            }\\n\\n            // Get new mapping reference\\n            EnumerableSet.AddressSet storage newProviders = $.userServiceProvidersByAddress[user][serviceAddress];\\n\\n            // Copy providers to new mapping\\n            uint256 providerCount = oldProviders.length();\\n            for (uint256 k = 0; k < providerCount; k++) {\\n                address provider = oldProviders.at(k);\\n                // Only add if not already present (safe for multiple calls)\\n                if (!newProviders.contains(provider)) {\\n                    newProviders.add(provider);\\n                }\\n            }\\n\\n            // Safety check: verify all providers were migrated successfully\\n            require(\\n                newProviders.length() == providerCount,\\n                \\\"LedgerManager: provider count mismatch in migration\\\"\\n            );\\n\\n            // Clear old mapping to save storage\\n            for (uint256 k = 0; k < providerCount; k++) {\\n                oldProviders.remove(oldProviders.at(0)); // Always remove first element\\n            }\\n\\n            emit UserServiceProvidersMigrated(user, serviceAddress, providerCount);\\n            migratedCount++;\\n        }\\n\\n        nextUserIndex = endUserIndex;\\n    }\\n\\n    // === Internal Helper Functions ===\\n\\n    function _addProviderToService(\\n        LedgerManagerStorage storage $,\\n        address user,\\n        address serviceAddress,\\n        address provider\\n    ) private {\\n        // Write to new mapping structure (using serviceAddress as key)\\n        EnumerableSet.AddressSet storage providers = $.userServiceProvidersByAddress[user][serviceAddress];\\n\\n        // Check limit before adding to prevent unbounded gas in _deleteAllServiceAccounts\\n        if (providers.length() >= MAX_PROVIDERS_PER_USER_PER_SERVICE) {\\n            revert TooManyProvidersForService(providers.length(), MAX_PROVIDERS_PER_USER_PER_SERVICE);\\n        }\\n\\n        providers.add(provider);\\n    }\\n\\n    function spendFund(address user, uint amount) external onlyServing withLedgerLock(user) {\\n        LedgerManagerStorage storage $ = _getLedgerManagerStorage();\\n        Ledger storage ledger = _get($, user);\\n        uint256 locked = ledger.totalBalance - ledger.availableBalance;\\n        if (locked < amount) {\\n            revert InsufficientAvailableBalance(locked, amount);\\n        }\\n        ledger.totalBalance -= amount;\\n        emit FundSpent(user, msg.sender, amount);\\n    }\\n\\n    function _at(uint index) internal view returns (Ledger storage) {\\n        LedgerManagerStorage storage $ = _getLedgerManagerStorage();\\n        bytes32 key = $.ledgerMap._keys.at(index);\\n        return $.ledgerMap._values[key];\\n    }\\n\\n    function _contains(LedgerManagerStorage storage $, bytes32 key) internal view returns (bool) {\\n        return $.ledgerMap._keys.contains(key);\\n    }\\n\\n    function _length() internal view returns (uint) {\\n        LedgerManagerStorage storage $ = _getLedgerManagerStorage();\\n        return $.ledgerMap._keys.length();\\n    }\\n\\n    function _get(LedgerManagerStorage storage $, address user) internal view returns (Ledger storage) {\\n        bytes32 key = _key(user);\\n        if (!_contains($, key)) {\\n            revert LedgerNotExists(user);\\n        }\\n        return $.ledgerMap._values[key];\\n    }\\n\\n    // Simplified _set without signer parameter\\n    function _set(\\n        LedgerManagerStorage storage $,\\n        bytes32 key,\\n        address user,\\n        uint balance,\\n        string memory additionalInfo\\n    ) internal {\\n        Ledger storage ledger = $.ledgerMap._values[key];\\n        ledger.availableBalance = balance;\\n        ledger.totalBalance = balance;\\n        ledger.user = user;\\n        ledger.additionalInfo = additionalInfo;\\n        $.ledgerMap._keys.add(key);\\n    }\\n\\n    function _key(address user) internal pure returns (bytes32) {\\n        return keccak256(abi.encode(user));\\n    }\\n\\n    receive() external payable {\\n        if (_isServiceContract(msg.sender)) {\\n            return;\\n        }\\n\\n        // Regular users must use depositFund() or depositFundFor() for explicit deposits\\n        revert(\\\"Direct deposits disabled; use depositFund() instead\\\");\\n    }\\n\\n    function _isServiceContract(address sender) internal view returns (bool) {\\n        LedgerManagerStorage storage $ = _getLedgerManagerStorage();\\n        return $.registeredServices[sender].serviceAddress != address(0);\\n    }\\n}\\n\",\"keccak256\":\"0x57ed1b95e1511b44faa0b3828feafad99a06aff60dbeecc8d815d91666981e5f\",\"license\":\"Unlicense\"},\"contracts/utils/Initializable.sol\":{\"content\":\"// SPDX-License-Identifier: GPL-3.0\\npragma solidity 0.8.22;\\n\\n/**\\n * @dev This is a base contract to aid in writing upgradeable contracts that use\\n * initialization instead of constructors.\\n *\\n * STORAGE COMPATIBILITY:\\n * - Preserves original `bool public initialized` variable for full backward compatibility\\n * - Adds `_initializationLocked` in next slot to track permanent disablement\\n * - Safe for upgrading existing deployed contracts\\n */\\ncontract Initializable {\\n    /**\\n     * @dev Indicates whether the contract has been initialized.\\n     * IMPORTANT: This variable is preserved exactly as in the original implementation\\n     * to maintain full storage layout compatibility with deployed contracts.\\n     */\\n    bool public initialized;\\n\\n    /**\\n     * @dev Indicates whether initialization has been permanently locked (for logic contracts).\\n     * This is stored in a separate slot to avoid modifying the original `initialized` variable.\\n     */\\n    bool private _initializationLocked;\\n\\n    /**\\n     * @dev Triggered when the contract has been initialized or reinitialized.\\n     */\\n    event Initialized(uint8 version);\\n\\n    /**\\n     * @dev A modifier that defines a protected initializer function that can be invoked at most once.\\n     */\\n    modifier onlyInitializeOnce() {\\n        require(!initialized && !_initializationLocked, \\\"Initializable: already initialized\\\");\\n        initialized = true;\\n        _;\\n        emit Initialized(1);\\n    }\\n\\n    /**\\n     * @dev Locks the contract, preventing any future reinitialization. This cannot be part of an initializer call.\\n     * Calling this in the constructor of a contract will prevent that contract from being initialized or reinitialized\\n     * to any version. It is recommended to use this to lock implementation contracts that are designed to be called\\n     * through proxies.\\n     *\\n     * Emits an {Initialized} event the first time it is successfully executed.\\n     */\\n    function _disableInitializers() internal virtual {\\n        if (!_initializationLocked) {\\n            _initializationLocked = true;\\n            emit Initialized(type(uint8).max);\\n        }\\n    }\\n}\\n\",\"keccak256\":\"0xc68e4ab08c0cb31b444ce1ddc4151514c1dba8b5cb13e570d62f3e85098cd91a\",\"license\":\"GPL-3.0\"}},\"version\":1}",
  "bytecode": "0x6080806040523461005f5760008054336001600160a01b0319821681178355916001600160a01b03909116907f8be0079c531659141344cd1fd0a4f28419497f9722a3daafe3b4186f6b6457e09080a3600180556155fd90816100658239f35b600080fdfe608080604052600436101561002d575b50361561001b57600080fd5b604051630799a15f60e11b8152600490fd5b600090813560e01c90816301ffc9a714612dfc575080630d66808714612dd1578063147500e314612d97578063158ef93e14612d7257806315908d5114612d4757806315a5230214612bf25780631d73b9f514612baa57806321fe0f3014612930578063264173d6146128f75780633d60456a14611f2e5780633ea527cb14611f1057806343d96bb314611c485780634e3c4f2214611be65780634fe63f4d14611b855780635bd7ace214611afb578063650190e714611ad75780636c79158d14611a8a5780636dc7513d14611518578063715018a6146114be578063745e87f7146113195780637ff6fc1c146112775780638da5cb5b146112505780639622e9341461120e578063972167251461118c578063a134f9e114611088578063a296bf4f14610fa5578063ad6dca3f14610f88578063b2394d0914610efb578063ba16a75014610d43578063bbee42d914610b60578063d1d2005614610b2a578063ddf96abd14610aa4578063e37259e9146108db578063e50688f9146105ff578063eb961693146105a1578063f2fde38b14610510578063fbfa4e111461046a5763fd5908470361000f5734610467576040366003190112610467576101f1612e51565b61021e6101fc612e67565b6102046136b7565b5061020d6136b7565b506102188184614d49565b926149cf565b60018060a01b038254169160018060a01b0360018201541691600282015491600381015491600482015491601c81015492601d82015494601e8301549660ff601f85015416986040519a6102718c613159565b8b5260208b015260408a015260608901526080880152600581015461029581613254565b906102a360405192836131c6565b80825260208201600584018b5260208b208b915b83831061042157505050506006916102e59160a08a01526102de60405180948193016133c8565b03826131c6565b60c087015260e08601526101008501526101208401526101408301521515610160820152604051906020825260018060a01b03815116602083015260018060a01b0360208201511660408301526040810151606083015260608101516080830152608081015160a083015260a08101519261018060c08401528351806101a085015260206101c085019501915b8181106103e7575050506101606103b683946103a060c085015191601f1992838883030160e0890152612ea0565b9060e085015190868303016101008701526132ca565b9161010081015161012085015261012081015161014085015261014081015182850152015115156101808301520390f35b9091946020608060019260608951805183528481015185840152604081015160408401520151151560608201520196019101919091610372565b6004602060019260405161043481613175565b8554815284860154838201526002860154604082015260ff600387015416151560608201528152019201920191906102b7565b80fd5b5034610467576020366003190112610467576004356104876148bd565b610e1081108015610504575b6104ec576000805160206154c883398151915280548281036104b3578380f35b827f5707a70527b6cbb892bfe5d8739a8f0643d3212d9b1139bc31c742e731c65270936040935582519182526020820152a13880808380f35b60249060405190631285b07b60e01b82526004820152fd5b5062093a808111610493565b50346104675760203660031901126104675761052a612e51565b6105326148bd565b6001600160a01b0381161561054d5761054a90614915565b80f35b60405162461bcd60e51b815260206004820152602660248201527f4f776e61626c653a206e6577206f776e657220697320746865207a65726f206160448201526564647265737360d01b6064820152608490fd5b5034610467576020366003190112610467576004356105be6148bd565b606481116105e857600080516020615568833981519152818154036105e1578280f35b5538808280f35b60249060405190621193a760e61b82526004820152fd5b50606036600319011261046757610614612e51565b61061c612e67565b6001600160401b036044358181116108d75761063c903690600401613239565b600080516020615548833981519152546001600160a01b039291906106649084163314613575565b6110008151116108c5576106788486614cd3565b9161068283615467565b610898578287526000805160206154e883398151915260205260408720913460038401556001600160601b0360a01b90858816828554161784556001916001850190878916908254161790558051928311610884579082916106f685946106ed60068d98015461338e565b600687016134f5565b602091601f84116001146107f657506107cb9361074284604098958895601e956000805160206154a88339815191529c9a926107eb575b50508160011b916000199060031b1c19161790565b60068201555b82601c82015582601d820155015561075f81615338565b508286166000527f5dcaaa00d1d3fae8cd5d66aceca789aec54970049ac35cb62a7adefca50a6806602052610797818560002061541d565b508287166000527f5dcaaa00d1d3fae8cd5d66aceca789aec54970049ac35cb62a7adefca50a68076020528360002061541d565b506107d6848661495c565b8082519434865287602087015216941692a380f35b01519050388061072d565b9190600685018652602086209286905b601f1986168210610868575050936001846000805160206154a8833981519152999794601e946107cb9860409b98601f1981161061084f575b505050811b016006820155610748565b015160001960f88460031b161c1916905538808061083f565b8383015185558c97509384019360209384019390910190610806565b634e487b7160e01b89526041600452602489fd5b604051632cf0675960e21b81526001600160a01b03878116600483015286166024820152604490fd5b0390fd5b60405163ef54fd9d60e01b8152600490fd5b8480fd5b5034610467576080366003190112610467576004356108f8612e67565b6001600160a01b03916044358381168103610a9f5760643593855460ff8160a01c161580610a91575b15610a415760ff60a01b1916600160a01b1786558316928315908115610a37575b50610a255760648411610a0d5761095890614915565b610e1081108015610a01575b6104ec576000805160206154c8833981519152556001600160601b0360a01b9060008051602061554883398151915281838254161790557f5dcaaa00d1d3fae8cd5d66aceca789aec54970049ac35cb62a7adefca50a680291825416179055600080516020615568833981519152557f7f26b83ff96e1f2b6a682f133852f6798a09c465da95921460cefb3847402498602060405160018152a180f35b5062093a808111610964565b604051621193a760e61b815260048101859052602490fd5b60405163031cd59b60e21b8152600490fd5b90503b1538610942565b60405162461bcd60e51b815260206004820152602260248201527f496e697469616c697a61626c653a20616c726561647920696e697469616c697a604482015261195960f21b6064820152608490fd5b5060ff8160a81c1615610921565b600080fd5b503461046757602036600319011261046757600a610ac0612e51565b610ac86148bd565b7f4909107c46469d21135443e891c6ecae55b5baa31b338d50f391935308b08f896020610af483614d04565b84610afe85614d04565b01805460ff60a01b19169055909301546040518581526001600160a01b0391821694939091169290a380f35b5034610467578060031936011261046757600080516020615548833981519152546040516001600160a01b039091168152602090f35b5034610467578060031936011261046757610b79613982565b610b8233614df2565b8060005260008051602061550883398151915260205260406000205415610d2b5780825260008051602061558883398151915260205281604081208181556001610bce60018301613a01565b60006002830155600060038301556000600483015560006005830155610bf660068301613a01565b60006007830155826008830155600982018054906000815581610ced575b505050600a0155610c24906150c9565b5080610c2f3361353c565b548015610cc1578180809281610c443361353c565b556040518181527f17f7db034d4b59fadec3e44a684cb4396ca10fd036c4e4f718bf06e99371588260203392a2337f29d546abb6e94f4f04d5bdccb6682316f597d43776078f47e273f000e77b2a918380a2335af1610ca16135cb565b5015610caf575b6001805580f35b60405163b12d13eb60e01b8152600490fd5b5050337f29d546abb6e94f4f04d5bdccb6682316f597d43776078f47e273f000e77b2a918280a2610ca8565b60009594939291955260206000209485015b808610610d10578293949550610c14565b919394819350610d1f81613a01565b01939290918592610cff565b6040516304c76d3f60e11b8152336004820152602490fd5b503461046757602080600319360112610ef757600435916001600160401b0390818411610467573660238501121561046757836004013591821161046757600560243684831b8701820111610ef3576101f48411610eae57610da484613714565b95835b858110610dc55760405187815280610dc1818a018b613000565b0390f35b600190610de033610ddb8684891b87010161345e565b614cd3565b610de981615467565b610df5575b5001610da7565b86526000805160206154e883398151915288526040862088838060a01b039182815416928582015416906006610e7b6002830154926003810154600482015490601c83015495601e8401549760ff601f86015416996040519b610e578d61313d565b8c528b015260408a0152606089015260808801526102de60405180948193016133c8565b60a085015260c084015260e08301521515610100820152610e9c828b6137d5565b52610ea7818a6137d5565b5038610dee565b60405162461bcd60e51b815260048101869052601e60248201527f42617463682073697a6520746f6f206c6172676520286d6178203530302900006044820152606490fd5b8280fd5b5080fd5b503461046757602036600319011261046757600a610f17612e51565b610f1f6148bd565b7f4909107c46469d21135443e891c6ecae55b5baa31b338d50f391935308b08f896020610f4b83614d04565b84610f5585614d04565b01805460ff60a01b1916600160a01b17905590930154604051600181526001600160a01b0391821694939091169290a380f35b50346104675780600319360112610467576020604051610e108152f35b503461046757604036600319011261046757610fbf612e51565b6024356001600160401b038111610ef357610fde9036906004016130c3565b9091610ff2610fed8233614cd3565b615467565b1561105f5761100360079133614d49565b01916110196110138484846134a4565b5461338e565b1561103a579161102b916003936134a4565b01805460ff1916600117905580f35b604051635e835ecb60e11b8152602060048201529182916108c19160248401916134bd565b60405163023280eb60e21b81523360048201526001600160a01b03919091166024820152604490fd5b5034610467576060366003190112610467576110a2612e51565b906110ab612e67565b90604435906001600160401b03821161046757506110ec6110d260079236906004016130c3565b9390946110dd613689565b506110e6613689565b50614d49565b01916110fc6110138484846134a4565b1561103a579161110f91610dc1936134a4565b60036040519161111e83613122565b60405161112f816102de81856133c8565b8352604051611145816102de81600186016133c8565b602084015260405161115e816102de81600286016133c8565b6040840152015460ff81161515606083015260081c608082015260405191829160208352602083019061326b565b5034610467576040366003190112610467576111a6612e51565b6111ae612e67565b7f342d961f860d5b1c27877a790eff2b213c020d1955a4903d6a9bf3ed590b7cd7602060018060a01b036111f48160008051602061554883398151915254163314613575565b806111ff8587614ae9565b9460405195865216941692a380f35b503461046757604036600319011261046757610dc161123c61122e612e51565b611236612e67565b906149cf565b6040519182916020835260208301906132ca565b5034610467578060031936011261046757546040516001600160a01b039091168152602090f35b503461046757604036600319011261046757611291612e51565b90602435801580158203610a9f576112a98433614d49565b601f81019160ff8354169081611311575b506112d7575b509061054a919060ff801983541691151516179055565b600301549384156112c05760405163faa2387760e01b81523360048201526001600160a01b03909116602482015260448101859052606490fd5b9050386112ba565b5060603660031901126104675761132e612e51565b611336612e67565b60008051602061554883398151915254604435916001600160a01b03916113609083163314613575565b61136a8185614d49565b92801515806114b1575b6113dd575b50816000805160206154a883398151915292604092600460038701966113a03489546137a5565b809855015460ff601f6113b3848b614d49565b015416156113ce575b8451968752602087015216941692a380f35b6113d8828961495c565b6113bc565b601c8401805491969095909485946005820194845b801515806114a8575b1561146f576000190194600161141187896139d8565b500180549098908c811161144e5750908961143b611442936114358c5480926137a5565b9e6137c8565b99556139f4565b985b98949996996113f2565b9b61146081611466939d9b949d6137a5565b9c6137c8565b90558796611444565b50919698509260409450946000805160206154a8833981519152958493985561149d600488019182546137c8565b905592509250611379565b508a15156113fb565b50601c8401541515611374565b50346104675780600319360112610467576114d76148bd565b600080546001600160a01b0319811682556001600160a01b03167f8be0079c531659141344cd1fd0a4f28419497f9722a3daafe3b4186f6b6457e08280a380f35b503461046757606036600319011261046757611532612e51565b6001600160401b03602480358281116108d7576115539036906004016130c3565b92604435818111611a865761156c903690600401613239565b9484158015611a7b575b611a6357611587610fed3383614cd3565b15611a3a57611597903390614d49565b9360078501936115ab6110138684876134a4565b611a1757601e8601968754968761195c575b604051966115ca88613122565b6115d5368689613202565b8852602094858901938452604051976115ed896131ab565b8c895260408a0198895260608a018d8152426001600160f81b031660808c01908152909c909b601411156118df5761163883836116326116499860088654910161479d565b906147fd565b6116428154614223565b90556134a4565b95518051908582116118cc57611669826116638a5461338e565b8a6134f5565b8490601f83116001146118695761169792918c91836107eb5750508160011b916000199060031b1c19161790565b86555b60019081870190518051868111611856576116bf816116b9855461338e565b856134f5565b858c601f83116001146117f957906116eb93836107eb5750508160011b916000199060031b1c19161790565b90555b6002860194519182519485116117e757506117138461170d875461338e565b876134f5565b82601f851160011461177a5750508261176495936003959361174a938b926107eb5750508160011b916000199060031b1c19161790565b90555b0192511515839060ff801983541691151516179055565b51815460ff1660089190911b60ff191617905580f35b91601f94939194198416868b52838b20938b905b8282106117d05750509161176497959391856003989694106117b8575b505050811b01905561174d565b015160001983881b60f8161c191690553880806117ab565b80888697829497870151815501960194019061178e565b634e487b7160e01b8a52604160045289fd5b908593601f198416868452898420935b8a8282106118405750508411611827575b505050811b0190556116ee565b015160001960f88460031b161c1916905538808061181a565b8385015186558997909501949384019301611809565b634e487b7160e01b8c526041600452848cfd5b888c52858c209190601f1984168d5b888282106118b657505090846001959493921061189d575b505050811b01865561169a565b015160001960f88460031b161c19169055388080611890565b6001859682939686015181550195019301611878565b634e487b7160e01b8b526041600452838bfd5b5090919261192b8383611632601d6008860195019461192361191e8a6102de61191961190c8b548761479d565b50604051928380926133c8565b6147ad565b6147d3565b85549061479d565b805460018101809111611949576014900690556116499291906134a4565b634e487b7160e01b8e526011600452868efd5b601488036119fc57601d81015460148101908181116119e9576013019081116119d65761199661190c60146102de93065b6008850161479d565b60ff60036119a48a846147ad565b015416156119b257506115bd565b60405163351b903960e11b8152602060048201529081906108c19082870190612ea0565b634e487b7160e01b8b526011600452838bfd5b634e487b7160e01b8c526011600452848cfd5b60001988018881116119d65761199661190c6102de9261198d565b6108c184604051938493630d947bad60e21b8552602060048601528401916134bd565b60405163023280eb60e21b81526001600160a01b03919091166004820152336024820152604490fd5b604051631ab63c8f60e21b8152600481018690528490fd5b506101008511611576565b8680fd5b50346104675760403660031901126104675761054a611aa7612e51565b611aaf612e67565b90611ad260018060a01b0360008051602061554883398151915254163314613575565b61468f565b5034610467578060031936011261046757602060405168056bc75e2d631000008152f35b50346104675760403660031901126104675760243590811590811580611b7b575b611b62575015611b565750611b4c611b3860325b6004356144e4565b604051928392604084526040840190613000565b9060208301520390f35b611b38611b4c91611b30565b604051635d6b903560e11b815260048101849052602490fd5b5060328311611b1c565b503461046757611b9436612fd6565b92831590811580611bdc575b611bc35750611b4c93611b3893929115611bbd57506032916143a0565b916143a0565b604051635d6b903560e11b815260048101869052602490fd5b5060328511611ba0565b5034610467576040366003190112610467576060611c35611c05612e51565b611c0d612e67565b90611c3060018060a01b0360008051602061554883398151915254163314613575565b6135fb565b9060405192835260208301526040820152f35b5060031960c036820112610ef7576004356001600160401b038111610ef357611c759036906004016130c3565b60248035936001600160401b038511611f0c5760a09085360301126108d757604051611ca081613122565b84600401358152602094828101358683015260448101356040830152606481013560608301526084810135906001600160401b038211611f08576004611ce99236920101613239565b608082015260443594606435151560643503610a9f576001600160401b0360843511611a8657366023608435011215611a86576084356004013591611d2d83613254565b92611d3b60405194856131c6565b80845282840136868360051b608435010111611f04578560843501905b868360051b60843501018210611ecd5750505060a4356001600160a01b03811694858203610a9f57611d893361353c565b5415611e28575034611e16577f9657518f02d23efc8a15c042c006a06464dd791f65394ff87310a287c694946296611dd9611deb92611df8965b6064358c87611dd3368e89613202565b33613a93565b6040519660a0885260a08801916134bd565b9185830390860152612ec5565b9360408301526060820152606435151560808201528033930390a280f35b6040516396ab6ec560e01b8152600490fd5b68056bc75e2d63100000979395969794919294803410611eb05750507f9657518f02d23efc8a15c042c006a06464dd791f65394ff87310a287c694946296959492611dd9611df89593611deb9334611e7f3361353c565b556040513481527fcd6dbb0e62eeb71e114bae8b2e2547921dd19209bebf32b595be3e7d247dbbb4883392a2611dc3565b6040516322df051360e11b81523460048201529182015260449150fd5b8135906001600160401b038211611f0057858091611ef38a948536916084350101613239565b8152019201919050611d58565b8b80fd5b8980fd5b8780fd5b8580fd5b5034610467578060031936011261046757602060405162093a808152f35b503461046757600319602036820112610ef7576001600160401b0360043511610ef75760e0906004353603011261046757611f67613982565b611f7f611f7860c46004350161345e565b3390614d49565b90611f8933614d04565b9160ff601f820154161580156128e5575b80156128d0575b61288a57600281015460646004350135111561283157600381015460a46004350135116127f45760078101611fe761101382611fe1600480350180613472565b906134a4565b156127c257611ffe90611fe1600480350180613472565b92604051612013816102de81600189016133c8565b60208151910120612038612031604460043501600435600401613472565b3691613202565b602081519101200361277c57604051908160e08101106001600160401b0360e0840111176127685760e08201604052600435600401356001600160401b0381116108d75761208d906004369181350101613239565b82526001600160401b036024600435013511612515576120b7366004803560248101350101613239565b6020830152604460043501356001600160401b0381116108d7576120e2906004369181350101613239565b604083015260043560648101356060840152608401356001600160401b0381116108d757612117906004369181350101613239565b608083015260043560a481013560a084015260c401356001600160a01b03811690036125155760c4600435013560c0830152600a01548151516001600160a01b039091169190610100811161275057507530472046696e652d54756e696e672053657276696e6760501b602060405161218f81613190565b601681520152603160f81b60206040516121a881613190565b6001815201526040517f8b73c3c69bb8fe3d512ecc4cf759cc79239f7b179b0ffacaa9a75d522b39400f60208201527fee2d3041cec28b9a0a957f2f0163e12e53119960d5a7d160e2a52db3594161e760408201527fc89efdaa54c0f20c7adf612882df0950f5a951637e0307cdcb4c672f298b8bc660608201524660808201523060a082015260a081528060c08101106001600160401b0360c08301111761264a579060808260c06123329401604052805160208201209060c084516020815191012091602086015160208151910120604087015160208151910120606088015160a08901519160018060a01b03868b0151169360e08601977f62159bda4585d49f24b8da323cfc70b1fbad40f51efbf45e18fe3bdfb409945e89526101008701526101208601526101408501526101608401526101808301526101a082015260e0828201526122fa8282016130f0565b0151902060405190602082019261190160f01b8452602283015260428201526042815261232681613175565b51902091015190614dba565b600581939293101561273c57159182612729575b5050156126e45760a460043501359260ff60038201541660001461267057612378602460043501600435600401613472565b90501561265e57612393602460043501600435600401613472565b906001600160401b03821161264a576123bc826123b3600286015461338e565b600286016134f5565b8490601f83116001146125dd5791806123ed9260029488926125d25750508160011b916000199060031b1c19161790565b9101555b606460043501356002820155600381015460048201549061241282826137c8565b8511612519575b50506124298360038301546137c8565b60038201557f5dcaaa00d1d3fae8cd5d66aceca789aec54970049ac35cb62a7adefca50a68025481546001600160a01b039182169116813b15612515578391604483926040519485938492631bb1482360e31b845260048401528960248401525af1801561250a576124db575b5081808094819360018060a01b038154166004600383015492015460405192835260208301526000805160206154a883398151915260403393a3335af1610ca16135cb565b6001600160401b0381939293116124f6576040529038612496565b634e487b7160e01b82526041600452602482fd5b6040513d85823e3d90fd5b8380fd5b61252f91612529919594956137c8565b836137c8565b908192601c82015490815b801515806125c9575b156125a457600019019186600161255d85600588016139d8565b5001805490969081811161258d57509061257d61258493928854906137c8565b96556139f4565b945b949161253a565b61259b9250979692976137c8565b90558593612586565b509493906125bd929350601c84015560048301546137c8565b60048201553880612419565b50841515612543565b01359050388061072d565b6002840186526020862091865b601f19851681106126325750918391600193600295601f19811610612618575b505050811b019101556123f1565b0135600019600384901b60f8161c1916905538808061260a565b909260206001819286860135815501940191016125ea565b634e487b7160e01b85526041600452602485fd5b604051633c5f0bd160e11b8152600490fd5b509150612687602460043501600435600401613472565b90506126d2576000805160206155688339815191525460043560a401358082029181159183041417156126be5760649004916123f1565b634e487b7160e01b82526011600452602482fd5b604051630db0b8ed60e21b8152600490fd5b606460405163de83c54360e01b815260206004820152602060248201527f54454520736574746c656d656e742076616c69646174696f6e206661696c65646044820152fd5b6001600160a01b03161490503880612346565b634e487b7160e01b85526021600452602485fd5b60249060405190638351b24f60e01b82526004820152fd5b634e487b7160e01b84526041600452602484fd5b60405163de83c54360e01b815260206004820152601860248201527f6d6f64656c20726f6f742068617368206d69736d6174636800000000000000006044820152606490fd5b6127d0600480350180613472565b6108c1604051928392635e835ecb60e11b84526020600485015260248401916134bd565b60405163de83c54360e01b8152602060048201526014602482015273696e73756666696369656e742062616c616e636560601b6044820152606490fd5b60405163de83c54360e01b815260206004820152602a60248201527f6e6f6e63652073686f756c64206c6172676572207468616e207468652063757260448201526972656e74206e6f6e636560b01b6064820152608490fd5b60405163de83c54360e01b815260206004820152601b60248201527f544545207369676e6572206e6f742061636b6e6f776c656467656400000000006044820152606490fd5b50600a8301546001600160a01b031615611fa1565b5060ff600a84015460a01c1615611f9a565b50346104675760403660031901126104675760206004612926612918612e51565b612920612e67565b90614d49565b0154604051908152f35b50346104675780600319360112610467576000805160206155a8833981519152549061295b82613254565b9161296960405193846131c6565b80835261297581613254565b601f1901825b818110612b8d57505081905b8082106129f55750506040519182916020830160208452825180915260408401602060408360051b870101940192905b8282106129c657505050500390f35b919360019193955060206129e58192603f198a82030186528851612f03565b96019201920185949391926129b7565b817f77917d6bf58cf8a823bfa7d4ec2e8e69c671d0dfb7928e32bdccd572fc9606e9949294015483526000805160206155888339815191526020526040832093604051612a41816130f0565b85546001600160a01b03168152604051612a62816102de8160018b016133c8565b6020820152604051612a7381613122565b60028701548152600387015460208201526004870154604082015260058701546060908183015260405191612ab683612aaf8160068d016133c8565b03846131c6565b60809283820152604084015260078801549083015260ff6008880154161515908201526009860195865490612aea82613254565b91612af860405193846131c6565b80835260208301988852602088209888905b828210612b665750505060a083810192909252600a01546001600160a01b03811660c0840152901c60ff16151560e082015293945091929091600191612b5082866137d5565b52612b5b81856137d5565b500190929192612987565b6001602081926102de612b7f8f604051928380926133c8565b8152019b0191019099612b0a565b602090612b9b959495613327565b8282870101520193929361297b565b503461046757612bb936612fd6565b92831590811580612be8575b611bc35750611b4c93611b3893929115612be257506032916137ff565b916137ff565b5060328511612bc5565b503461046757602080600319360112610ef757612c1e612c10612e51565b612c18613327565b50614d04565b9160405192612c2c846130f0565b60018060a01b03918282541685526001604051612c50816102de81600188016133c8565b85870152604051612c6081613122565b600284015481526003840154868201526004840154604082015260058401546060820152604051612c98816102de81600689016133c8565b608082015260408701526007830154606087015260ff6008840154161515608087015260098301805490612ccb82613254565b93612cd960405195866131c6565b828552908152868120878086015b848410612d225760a0808c01889052600a890154808b1660c08e0152901c60ff16151560e08c015260405182815280610dc18185018e612f03565b85918291604051612d37816102de81896133c8565b8152019201920191908890612ce7565b5034610467578060031936011261046757602060008051602061556883398151915254604051908152f35b503461046757806003193601126104675760ff6020915460a01c166040519015158152f35b5034610467576040366003190112610467576020612dc7610fed612db9612e51565b612dc1612e67565b90614cd3565b6040519015158152f35b503461046757806003193601126104675760206000805160206154c883398151915254604051908152f35b905034610ef7576020366003190112610ef75760043563ffffffff60e01b8116809103610ef3576020925063160841b160e01b8114908115612e40575b5015158152f35b6301ffc9a760e01b14905038612e39565b600435906001600160a01b0382168203610a9f57565b602435906001600160a01b0382168203610a9f57565b60005b838110612e905750506000910152565b8181015183820152602001612e80565b90602091612eb981518092818552858086019101612e7d565b601f01601f1916010190565b9060a06080612f0093805184526020810151602085015260408101516040850152606081015160608501520151918160808201520190612ea0565b90565b906101009160018060a01b03808251168352612f42612f3060209586850151908088880152860190612ea0565b60408401518582036040870152612ec5565b6060830151606085015260808301511515608085015260a08301519484820360a08601528551908183528083019281808460051b8301019801936000915b848310612fa8575050505050508160e0929160c0849301511660c08501520151151591015290565b9091929394988480612fc6600193601f198682030187528d51612ea0565b9b01930193019194939290612f80565b6060906003190112610a9f576004356001600160a01b0381168103610a9f57906024359060443590565b908082519081815260208091019281808460051b8301019501936000915b84831061302e5750505050505090565b9091929394958480600192601f19858203018652895190613092610120868060a01b0380855116845285850151168584015260408085015190840152606080850151908401526080808501519084015260a090808286015192850152830190612ea0565b9160c0808201519083015260e08082015190830152610100809101511515910152980193019301919493929061301e565b9181601f84011215610a9f578235916001600160401b038311610a9f5760208381860195010111610a9f57565b61010081019081106001600160401b0382111761310c57604052565b634e487b7160e01b600052604160045260246000fd5b60a081019081106001600160401b0382111761310c57604052565b61012081019081106001600160401b0382111761310c57604052565b61018081019081106001600160401b0382111761310c57604052565b608081019081106001600160401b0382111761310c57604052565b604081019081106001600160401b0382111761310c57604052565b602081019081106001600160401b0382111761310c57604052565b90601f801991011681019081106001600160401b0382111761310c57604052565b6001600160401b03811161310c57601f01601f191660200190565b92919261320e826131e7565b9161321c60405193846131c6565b829481845281830111610a9f578281602093846000960137010152565b9080601f83011215610a9f57816020612f0093359101613202565b6001600160401b03811161310c5760051b60200190565b9060806132ab613299613287855160a0865260a0860190612ea0565b60208601518582036020870152612ea0565b60408501518482036040860152612ea0565b606080850151151590840152928101516001600160f81b031691015290565b90808251908181526020809101926020808460051b8301019501936000915b8483106132f95750505050505090565b9091929394958480613317600193601f198682030187528a5161326b565b98019301930191949392906132e9565b60405190613334826130f0565b8160e06000918281526060602082015260405161335081613122565b838152836020820152836040820152836060820152606060808201526040820152826060820152826080820152606060a08201528260c08201520152565b90600182811c921680156133be575b60208310146133a857565b634e487b7160e01b600052602260045260246000fd5b91607f169161339d565b8054600093926133d78261338e565b9182825260209360019160018116908160001461343f57506001146133fe575b5050505050565b90939495506000929192528360002092846000945b83861061342b575050505001019038808080806133f7565b805485870183015294019385908201613413565b60ff19168685015250505090151560051b0101915038808080806133f7565b356001600160a01b0381168103610a9f5790565b903590601e1981360301821215610a9f57018035906001600160401b038211610a9f57602001918136038313610a9f57565b6020919283604051948593843782019081520301902090565b908060209392818452848401376000828201840152601f01601f1916010190565b8181106134e9575050565b600081556001016134de565b9190601f811161350457505050565b613530926000526020600020906020601f840160051c83019310613532575b601f0160051c01906134de565b565b9091508190613523565b6001600160a01b031660009081527f5dcaaa00d1d3fae8cd5d66aceca789aec54970049ac35cb62a7adefca50a680c6020526040902090565b1561357c57565b60405162461bcd60e51b815260206004820152602160248201527f43616c6c6572206973206e6f7420746865206c656467657220636f6e747261636044820152601d60fa1b6064820152608490fd5b3d156135f6573d906135dc826131e7565b916135ea60405193846131c6565b82523d6000602084013e565b606090565b91906136176000805160206154c8833981519152548285614232565b9194909391928484871561367c5750506000805160206154a8833981519152604060018060a01b038082519489865288602087015216941692a3600080808087335af16136626135cb565b501561366a57565b6040516315e98f9160e01b8152600490fd5b6000975090955093505050565b6040519061369682613122565b60006080836060815260606020820152606060408201528260608201520152565b604051906136c482613159565b81610160600091828152826020820152826040820152826060820152826080820152606060a0820152606060c0820152606060e08201528261010082015282610120820152826101408201520152565b9061371e82613254565b60409061372e60405191826131c6565b838152809361373f601f1991613254565b019160005b8381106137515750505050565b602090825161375f8161313d565b600081528260008183015260008583015260606000818401526000608084015260a0830152600060c0830152600060e08301526000610100830152828601015201613744565b919082018092116137b257565b634e487b7160e01b600052601160045260246000fd5b919082039182116137b257565b80518210156137e95760209160051b010190565b634e487b7160e01b600052603260045260246000fd5b6001600160a01b0390811660009081527f5dcaaa00d1d3fae8cd5d66aceca789aec54970049ac35cb62a7adefca50a6806602090815260408083208054979690939291908887101561396a578061395b5750875b86898211613953575b613865916137c8565b9361386f85613714565b96845b8681106138855750505050505050509190565b806138ff61389d6138978b94866137a5565b86615022565b9054600391821b1c89526000805160206154e8833981519152885287878a2091600661392087855416948b6001998a830154169460028301549083015490600484015492601c85015497601e8601549960ff601f880154169b83519d8e61313d565b8d528c01528a0152606089015260808801526102de8c5180948193016133c8565b60a085015260c084015260e08301521515610100820152613941828c6137d5565b5261394c818b6137d5565b5001613872565b89915061385c565b61396590876137a5565b613853565b50935050925050519061397c826131ab565b81529190565b600260015414613993576002600155565b60405162461bcd60e51b815260206004820152601f60248201527f5265656e7472616e637947756172643a207265656e7472616e742063616c6c006044820152606490fd5b80548210156137e95760005260206000209060021b0190600090565b80156137b2576000190190565b613a0b815461338e565b9081613a15575050565b81601f60009311600114613a27575055565b908083918252613a46601f60208420940160051c8401600185016134de565b5555565b90600160401b811161310c57815491818155828210613a6857505050565b600052602060002091820191015b818110613a81575050565b80613a8d600192613a01565b01613a76565b90929593949194613aa382614df2565b9182600052600080516020615508833981519152928360205260406000205415613e525750613ad181614df2565b60005260008051602061558883398151915260205260406000209260205260406000205415613e305750600a82019660018060a01b038089541696169685516001600160401b039687821161310c57613b3a82613b31600189015461338e565b600189016134f5565b602090601f8311600114613dbd579180613b6e92608095946000926107eb5750508160011b916000199060031b1c19161790565b60018601555b80516002860155602081015160038601556040810151600486015560608101516005860155015180519086821161310c57613bbf82613bb6600688015461338e565b600688016134f5565b602090601f8311600114613d4557826009969593613c189593613bf8936000926107eb5750508160011b916000199060031b1c19161790565b60068501555b6007840155600883019060ff801983541691151516179055565b016020825192613c288484613a4a565b019060005260206000206000915b838310613c7057505050505081835491816001600160601b0360a01b841617855503613c6157505050565b6001600160a81b031916179055565b805180519086821161310c57613c9082613c8a865461338e565b866134f5565b602090601f8311600114613cd75792613cc8836001959460209487966000926107eb5750508160011b916000199060031b1c19161790565b85555b01920192019190613c36565b90601f198316918560005260206000209260005b818110613d2d5750936020936001969387969383889510613d14575b505050811b018555613ccb565b015160001960f88460031b161c19169055388080613d07565b92936020600181928786015181550195019301613ceb565b906006860160005260206000209160005b601f1985168110613da5575092613c189492600192600998979583601f19811610613d8c575b505050811b016006850155613bfe565b015160001960f88460031b161c19169055388080613d7c565b91926020600181928685015181550194019201613d56565b906001870160005260206000209160005b601f1985168110613e18575091839160019360809695601f19811610613dff575b505050811b016001860155613b74565b015160001960f88460031b161c19169055388080613def565b91926020600181928685015181550194019201613dce565b6040516304c76d3f60e11b81526001600160a01b039091166004820152602490fd5b96909594989791925060405195613e68876130f0565b60018060a01b0316865260208601988952604086015260608501521515608084015260a083015260018060a01b031660c0820152600060e08201528160005260008051602061558883398151915260205260406000209360018060a01b038251166001600160601b0360a01b865416178555518051906001600160401b03821161310c57613efd82613b31600189015461338e565b602090601f83116001146141b157613f2d9291600091836107eb5750508160011b916000199060031b1c19161790565b60018501555b608060408201518051600287015560208101516003870155604081015160048701556060810151600587015501518051906001600160401b03821161310c57613f8c82613f83600689015461338e565b600689016134f5565b602090601f831160011461413f57613fbc9291600091836107eb5750508160011b916000199060031b1c19161790565b60068501555b60608101516007850155613feb60808201511515600886019060ff801983541691151516179055565b6009840160a082015160208151916140038385613a4a565b01916000526020600020916000905b8282106140635750505050600a6140609394019060018060a01b0360c08201511682549160e060ff60a01b910151151560a01b16916affffffffffffffffffffff60a81b16171790556153bf565b50565b80518051906001600160401b03821161310c5761408a82614084885461338e565b886134f5565b602090601f83116001146140d157926140c2836001959460209487966000926107eb5750508160011b916000199060031b1c19161790565b87555b01940191019092614012565b90601f198316918760005260206000209260005b818110614127575093602093600196938796938388951061410e575b505050811b0187556140c5565b015160001960f88460031b161c19169055388080614101565b929360206001819287860151815501950193016140e5565b9190600687016000526020600020906000935b601f1984168510614196576001945083601f1981161061417d575b505050811b016006850155613fc2565b015160001960f88460031b161c1916905538808061416d565b81810151835560209485019460019093019290910190614152565b9190600187016000526020600020906000935b601f1984168510614208576001945083601f198116106141ef575b505050811b016001850155613f33565b015160001960f88460031b161c191690553880806141df565b818101518355602094850194600190930192909101906141c4565b60001981146137b25760010190565b9061423c91614d49565b90601c82019283541561438d5760009392936000808093819760058101945b88548a10156143675761426e8a876139d8565b506002808201906142808b83546137a5565b42106142a157505060019182614298920154906137a5565b995b019861425b565b90969160019c99939c916142ba838301948554906137a5565b98858c036142d9575b50505050506142d3600191614223565b9661429a565b6142e3868c6139d8565b9490946143535791839185936142d39795600199970361431a575b5050505050508061430f818a6139d8565b5055913880806142c3565b61434895845486555490850155549083015560ff6003809201541691019060ff801983541691151516179055565b3880808080806142fe565b634e487b7160e01b8a5260048a905260248afd5b985094935095919450505581600460038301926143858785546137c8565b809455015591565b6003830154600490930154600094509150565b6001600160a01b0390811660009081527f5dcaaa00d1d3fae8cd5d66aceca789aec54970049ac35cb62a7adefca50a6807602090815260408083208054979690939291908887101561396a57806144d55750875b868982116144cd575b614406916137c8565b9361441085613714565b96845b8681106144265750505050505050509190565b806138ff6144386138978b94866137a5565b9054600391821b1c89526000805160206154e8833981519152885287878a2091600661449a87855416948b6001998a830154169460028301549083015490600484015492601c85015497601e8601549960ff601f880154169b83519d8e61313d565b60a085015260c084015260e083015215156101008201526144bb828c6137d5565b526144c6818b6137d5565b5001614413565b8991506143fd565b6144df90876137a5565b6143f4565b91600080516020615528833981519152549182841015614625578361450982826137a5565b9115801561461c575b614614575b614520916137c8565b9261452a84613714565b9360009160005b82811061453e5750505050565b61455061454b82846137a5565b614f9c565b919054600392831b1c855260206000805160206154e883398151915281526040908187209160018060a01b039460066145e187865416956102de6001998a8301541695600283015495830154600484015490601c85015497601e8601549960ff601f880154169b85519d8e6145c48161313d565b528d0152838c015260608b015260808a01525180948193016133c8565b60a085015260c084015260e08301521515610100820152614602828a6137d5565b5261460d81896137d5565b5001614531565b839150614517565b50838211614512565b50909150604051614635816131ab565b600081529190565b906146795760036060836135309451845560208101516001850155604081015160028501550151151591019060ff801983541691151516179055565b634e487b7160e01b600052600060045260246000fd5b6146998282614d49565b6003810154926146af60048301948554906137c8565b9182156133f757601c810191825494600586101561477457505060050192835480911060001461472b57506147146147279361470e8354604051926146f384613175565b818452866020850152426040850152600060608501526139d8565b9061463d565b61471e8154614223565b905582546137a5565b9055565b60405161473781613175565b81815283602082015242604082015260006060820152600160401b82101561310c5761470e8261472796600161476f950181556139d8565b614714565b604051639edd285f60e01b81526001600160a01b03918216600482015291166024820152604490fd5b60148210156137e9570190600090565b6020906147c7928260405194838680955193849201612e7d565b82019081520301902090565b60036000916147e181613a01565b6147ed60018201613a01565b6147f960028201613a01565b0155565b91939290614679576001600160401b03811161310c5761482781614821845461338e565b846134f5565b6000601f82116001146148585781906147279394956000926125d25750508160011b916000199060031b1c19161790565b601f19821694838252602091602081209281905b8882106148a55750508360019596971061488b575b505050811b019055565b0135600019600384901b60f8161c19169055388080614881565b8060018496829495870135815501950192019061486c565b6000546001600160a01b031633036148d157565b606460405162461bcd60e51b815260206004820152602060248201527f4f776e61626c653a2063616c6c6572206973206e6f7420746865206f776e65726044820152fd5b600080546001600160a01b039283166001600160a01b03198216811783559216907f8be0079c531659141344cd1fd0a4f28419497f9722a3daafe3b4186f6b6457e09080a3565b906149678183614d49565b90601f82019283549260ff8416806149c7575b61498d575b50505060ff19166001179055565b6003015490811561497f5760405163faa2387760e01b81526001600160a01b03918216600482015292166024830152604482015260649150fd5b50600061497a565b9190916149dc8382614e14565b8051936149e885613254565b926040956149f8875195866131c6565b808552614a07601f1991613254565b0160005b818110614acc57505090614a1e91614d49565b6007019060005b8151811015614ac457614a4283614a3c83856137d5565b516147ad565b908651614a4e81613122565b8751614a5e816102de81876133c8565b815260036001938951614a77816102de818986016133c8565b60208401528951614a8f816102de81600286016133c8565b8a840152015460ff81161515606083015260081c6080820152614ab282876137d5565b52614abd81866137d5565b5001614a25565b509193505050565b602090614ada979597613689565b82828901015201959395614a0b565b90614af48183614cd3565b600091818352600080516020615488833981519152602052604092604081205415614ccb576000805160206154e88339815191526020969596526040812094600393600387019280845494556004948160048a0155601f890160ff19815416905581601c8a01558199601e8a0199601d8101976008820199600783019d5b8d54811015614bba57808f61191e8f918f8f614bb494614ba86102de936014614ba160019b61191996546137a5565b069061479d565b509051928380926133c8565b01614b72565b50949950949950949990959a50878092975555600583019081549187815582614c6e575b505050508493614c68936140609693614bfb600660409501613a01565b6001600160a01b0391821683527f5dcaaa00d1d3fae8cd5d66aceca789aec54970049ac35cb62a7adefca50a6806602052838320614c3a90869061528d565b501681527f5dcaaa00d1d3fae8cd5d66aceca789aec54970049ac35cb62a7adefca50a68076020522061528d565b506151e6565b6002906001600160fe1b0384168403614cb7578852602088209260021b8301925b838110614c9c5750614bde565b80898692558960018201558983820155898482015501614c8f565b634e487b7160e01b89526011600452602489fd5b935050505090565b604080516001600160a01b039283166020820190815293909216828201528152614cfe6060826131c6565b51902090565b614d0d81614df2565b60005260008051602061558883398151915260205260406000209060008051602061550883398151915260205260406000205415613e30575090565b90614d548183614cd3565b6000526000805160206154e883398151915260205260406000209160008051602061548883398151915260205260406000205415614d9157505090565b60405163023280eb60e21b81526001600160a01b03918216600482015291166024820152604490fd5b906041815114600014614de857614de4916020820151906060604084015193015160001a9061503a565b9091565b5050600090600290565b6040516001600160a01b039091166020808301918252825290614cfe81613190565b614e1e8282614cd3565b9060008281526020936000805160206154e8833981519152602052604092614e4884842095615467565b15614f74575050601e830154908115614f5f57614e6482613254565b94614e71845196876131c6565b828652601f19614e8084613254565b01825b818110614f505750505060149060148310600014614eed5791936008019190505b838110614eb2575050505090565b806102de614ed1614ec56001948661479d565b508651928380926133c8565b614edb82886137d5565b52614ee681876137d5565b5001614ea4565b601d850154929460080192905b858110614f0a5750505050505090565b806102de614f34614f2886614f21600196886137a5565b068861479d565b508851928380926133c8565b614f3e828a6137d5565b52614f4981896137d5565b5001614efa565b60608882018401528201614e83565b93505090505190614f6f826131ab565b815290565b835163023280eb60e21b81526001600160a01b03918216600482015291166024820152604490fd5b60008051602061552883398151915280548210156137e9576000527f4cbb24c014227899980bdc7cfd4fffebe1e9fc3b6d3a9169eb5c47467634f41d0190600090565b6000805160206155a883398151915280548210156137e9576000527f77917d6bf58cf8a823bfa7d4ec2e8e69c671d0dfb7928e32bdccd572fc9606e90190600090565b80548210156137e95760005260206000200190600090565b9291907f7fffffffffffffffffffffffffffffff5d576e7357a4501ddfe92f46681b20a083116150bd5791608094939160ff602094604051948552168484015260408301526060820152600093849182805260015afa156150b05781516001600160a01b038116156150aa579190565b50600190565b50604051903d90823e3d90fd5b50505050600090600390565b600090808252600080516020615508833981519152908160205260408320548015156000146151e05760001990808201908082116151cc576000805160206155a8833981519152918254908482019182116151b85780820361516e575b5050508054801561515a5782019161513d83614fdf565b909182549160031b1b191690555582526020526040812055600190565b634e487b7160e01b86526031600452602486fd5b6151a361517d61518c93614fdf565b90549060031b1c928392614fdf565b819391549060031b91821b91600019901b19161790565b90558652846020526040862055388080615126565b634e487b7160e01b88526011600452602488fd5b634e487b7160e01b86526011600452602486fd5b50505090565b600090808252600080516020615488833981519152908160205260408320548015156000146151e05760001990808201908082116151cc57600080516020615528833981519152918254908482019182116151b85780820361525a575b5050508054801561515a5782019161513d83614f9c565b61527861526961518c93614f9c565b90549060031b1c928392614f9c565b90558652846020526040862055388080615243565b90600182019060009281845282602052604084205490811515600014615331576000199180830181811161531d578254908482019182116151b8578082036152e8575b5050508054801561515a5782019161513d8383615022565b6153086152f861518c9386615022565b90549060031b1c92839286615022565b905586528460205260408620553880806152d0565b634e487b7160e01b87526011600452602487fd5b5050505090565b9060009180835260008051602061548883398151915292836020526040812054156000146153ba5760008051602061552883398151915293845494600160401b8610156153a6578361539661518c886001604098999a018555614f9c565b9055549382526020522055600190565b634e487b7160e01b83526041600452602483fd5b925050565b9060009180835260008051602061550883398151915292836020526040812054156000146153ba576000805160206155a883398151915293845494600160401b8610156153a6578361539661518c886001604098999a018555614fdf565b9190600183016000908282528060205260408220541560001461546157845494600160401b8610156153a6578361539661518c886001604098999a01855584615022565b50925050565b60005260008051602061548883398151915260205260406000205415159056fe5dcaaa00d1d3fae8cd5d66aceca789aec54970049ac35cb62a7adefca50a6804526824944047da5b81071fb6349412005c5da81380b336103fbe5dd34556c7765dcaaa00d1d3fae8cd5d66aceca789aec54970049ac35cb62a7adefca50a68005dcaaa00d1d3fae8cd5d66aceca789aec54970049ac35cb62a7adefca50a68055dcaaa00d1d3fae8cd5d66aceca789aec54970049ac35cb62a7adefca50a68095dcaaa00d1d3fae8cd5d66aceca789aec54970049ac35cb62a7adefca50a68035dcaaa00d1d3fae8cd5d66aceca789aec54970049ac35cb62a7adefca50a68015dcaaa00d1d3fae8cd5d66aceca789aec54970049ac35cb62a7adefca50a680b5dcaaa00d1d3fae8cd5d66aceca789aec54970049ac35cb62a7adefca50a680a5dcaaa00d1d3fae8cd5d66aceca789aec54970049ac35cb62a7adefca50a6808a2646970667358221220879fbcff4a224cf4c91fcf2b1ce6742c9d596b37253c1889675a92784526e63b64736f6c63430008160033",
  "deployedBytecode": "0x608080604052600436101561002d575b50361561001b57600080fd5b604051630799a15f60e11b8152600490fd5b600090813560e01c90816301ffc9a714612dfc575080630d66808714612dd1578063147500e314612d97578063158ef93e14612d7257806315908d5114612d4757806315a5230214612bf25780631d73b9f514612baa57806321fe0f3014612930578063264173d6146128f75780633d60456a14611f2e5780633ea527cb14611f1057806343d96bb314611c485780634e3c4f2214611be65780634fe63f4d14611b855780635bd7ace214611afb578063650190e714611ad75780636c79158d14611a8a5780636dc7513d14611518578063715018a6146114be578063745e87f7146113195780637ff6fc1c146112775780638da5cb5b146112505780639622e9341461120e578063972167251461118c578063a134f9e114611088578063a296bf4f14610fa5578063ad6dca3f14610f88578063b2394d0914610efb578063ba16a75014610d43578063bbee42d914610b60578063d1d2005614610b2a578063ddf96abd14610aa4578063e37259e9146108db578063e50688f9146105ff578063eb961693146105a1578063f2fde38b14610510578063fbfa4e111461046a5763fd5908470361000f5734610467576040366003190112610467576101f1612e51565b61021e6101fc612e67565b6102046136b7565b5061020d6136b7565b506102188184614d49565b926149cf565b60018060a01b038254169160018060a01b0360018201541691600282015491600381015491600482015491601c81015492601d82015494601e8301549660ff601f85015416986040519a6102718c613159565b8b5260208b015260408a015260608901526080880152600581015461029581613254565b906102a360405192836131c6565b80825260208201600584018b5260208b208b915b83831061042157505050506006916102e59160a08a01526102de60405180948193016133c8565b03826131c6565b60c087015260e08601526101008501526101208401526101408301521515610160820152604051906020825260018060a01b03815116602083015260018060a01b0360208201511660408301526040810151606083015260608101516080830152608081015160a083015260a08101519261018060c08401528351806101a085015260206101c085019501915b8181106103e7575050506101606103b683946103a060c085015191601f1992838883030160e0890152612ea0565b9060e085015190868303016101008701526132ca565b9161010081015161012085015261012081015161014085015261014081015182850152015115156101808301520390f35b9091946020608060019260608951805183528481015185840152604081015160408401520151151560608201520196019101919091610372565b6004602060019260405161043481613175565b8554815284860154838201526002860154604082015260ff600387015416151560608201528152019201920191906102b7565b80fd5b5034610467576020366003190112610467576004356104876148bd565b610e1081108015610504575b6104ec576000805160206154c883398151915280548281036104b3578380f35b827f5707a70527b6cbb892bfe5d8739a8f0643d3212d9b1139bc31c742e731c65270936040935582519182526020820152a13880808380f35b60249060405190631285b07b60e01b82526004820152fd5b5062093a808111610493565b50346104675760203660031901126104675761052a612e51565b6105326148bd565b6001600160a01b0381161561054d5761054a90614915565b80f35b60405162461bcd60e51b815260206004820152602660248201527f4f776e61626c653a206e6577206f776e657220697320746865207a65726f206160448201526564647265737360d01b6064820152608490fd5b5034610467576020366003190112610467576004356105be6148bd565b606481116105e857600080516020615568833981519152818154036105e1578280f35b5538808280f35b60249060405190621193a760e61b82526004820152fd5b50606036600319011261046757610614612e51565b61061c612e67565b6001600160401b036044358181116108d75761063c903690600401613239565b600080516020615548833981519152546001600160a01b039291906106649084163314613575565b6110008151116108c5576106788486614cd3565b9161068283615467565b610898578287526000805160206154e883398151915260205260408720913460038401556001600160601b0360a01b90858816828554161784556001916001850190878916908254161790558051928311610884579082916106f685946106ed60068d98015461338e565b600687016134f5565b602091601f84116001146107f657506107cb9361074284604098958895601e956000805160206154a88339815191529c9a926107eb575b50508160011b916000199060031b1c19161790565b60068201555b82601c82015582601d820155015561075f81615338565b508286166000527f5dcaaa00d1d3fae8cd5d66aceca789aec54970049ac35cb62a7adefca50a6806602052610797818560002061541d565b508287166000527f5dcaaa00d1d3fae8cd5d66aceca789aec54970049ac35cb62a7adefca50a68076020528360002061541d565b506107d6848661495c565b8082519434865287602087015216941692a380f35b01519050388061072d565b9190600685018652602086209286905b601f1986168210610868575050936001846000805160206154a8833981519152999794601e946107cb9860409b98601f1981161061084f575b505050811b016006820155610748565b015160001960f88460031b161c1916905538808061083f565b8383015185558c97509384019360209384019390910190610806565b634e487b7160e01b89526041600452602489fd5b604051632cf0675960e21b81526001600160a01b03878116600483015286166024820152604490fd5b0390fd5b60405163ef54fd9d60e01b8152600490fd5b8480fd5b5034610467576080366003190112610467576004356108f8612e67565b6001600160a01b03916044358381168103610a9f5760643593855460ff8160a01c161580610a91575b15610a415760ff60a01b1916600160a01b1786558316928315908115610a37575b50610a255760648411610a0d5761095890614915565b610e1081108015610a01575b6104ec576000805160206154c8833981519152556001600160601b0360a01b9060008051602061554883398151915281838254161790557f5dcaaa00d1d3fae8cd5d66aceca789aec54970049ac35cb62a7adefca50a680291825416179055600080516020615568833981519152557f7f26b83ff96e1f2b6a682f133852f6798a09c465da95921460cefb3847402498602060405160018152a180f35b5062093a808111610964565b604051621193a760e61b815260048101859052602490fd5b60405163031cd59b60e21b8152600490fd5b90503b1538610942565b60405162461bcd60e51b815260206004820152602260248201527f496e697469616c697a61626c653a20616c726561647920696e697469616c697a604482015261195960f21b6064820152608490fd5b5060ff8160a81c1615610921565b600080fd5b503461046757602036600319011261046757600a610ac0612e51565b610ac86148bd565b7f4909107c46469d21135443e891c6ecae55b5baa31b338d50f391935308b08f896020610af483614d04565b84610afe85614d04565b01805460ff60a01b19169055909301546040518581526001600160a01b0391821694939091169290a380f35b5034610467578060031936011261046757600080516020615548833981519152546040516001600160a01b039091168152602090f35b5034610467578060031936011261046757610b79613982565b610b8233614df2565b8060005260008051602061550883398151915260205260406000205415610d2b5780825260008051602061558883398151915260205281604081208181556001610bce60018301613a01565b60006002830155600060038301556000600483015560006005830155610bf660068301613a01565b60006007830155826008830155600982018054906000815581610ced575b505050600a0155610c24906150c9565b5080610c2f3361353c565b548015610cc1578180809281610c443361353c565b556040518181527f17f7db034d4b59fadec3e44a684cb4396ca10fd036c4e4f718bf06e99371588260203392a2337f29d546abb6e94f4f04d5bdccb6682316f597d43776078f47e273f000e77b2a918380a2335af1610ca16135cb565b5015610caf575b6001805580f35b60405163b12d13eb60e01b8152600490fd5b5050337f29d546abb6e94f4f04d5bdccb6682316f597d43776078f47e273f000e77b2a918280a2610ca8565b60009594939291955260206000209485015b808610610d10578293949550610c14565b919394819350610d1f81613a01565b01939290918592610cff565b6040516304c76d3f60e11b8152336004820152602490fd5b503461046757602080600319360112610ef757600435916001600160401b0390818411610467573660238501121561046757836004013591821161046757600560243684831b8701820111610ef3576101f48411610eae57610da484613714565b95835b858110610dc55760405187815280610dc1818a018b613000565b0390f35b600190610de033610ddb8684891b87010161345e565b614cd3565b610de981615467565b610df5575b5001610da7565b86526000805160206154e883398151915288526040862088838060a01b039182815416928582015416906006610e7b6002830154926003810154600482015490601c83015495601e8401549760ff601f86015416996040519b610e578d61313d565b8c528b015260408a0152606089015260808801526102de60405180948193016133c8565b60a085015260c084015260e08301521515610100820152610e9c828b6137d5565b52610ea7818a6137d5565b5038610dee565b60405162461bcd60e51b815260048101869052601e60248201527f42617463682073697a6520746f6f206c6172676520286d6178203530302900006044820152606490fd5b8280fd5b5080fd5b503461046757602036600319011261046757600a610f17612e51565b610f1f6148bd565b7f4909107c46469d21135443e891c6ecae55b5baa31b338d50f391935308b08f896020610f4b83614d04565b84610f5585614d04565b01805460ff60a01b1916600160a01b17905590930154604051600181526001600160a01b0391821694939091169290a380f35b50346104675780600319360112610467576020604051610e108152f35b503461046757604036600319011261046757610fbf612e51565b6024356001600160401b038111610ef357610fde9036906004016130c3565b9091610ff2610fed8233614cd3565b615467565b1561105f5761100360079133614d49565b01916110196110138484846134a4565b5461338e565b1561103a579161102b916003936134a4565b01805460ff1916600117905580f35b604051635e835ecb60e11b8152602060048201529182916108c19160248401916134bd565b60405163023280eb60e21b81523360048201526001600160a01b03919091166024820152604490fd5b5034610467576060366003190112610467576110a2612e51565b906110ab612e67565b90604435906001600160401b03821161046757506110ec6110d260079236906004016130c3565b9390946110dd613689565b506110e6613689565b50614d49565b01916110fc6110138484846134a4565b1561103a579161110f91610dc1936134a4565b60036040519161111e83613122565b60405161112f816102de81856133c8565b8352604051611145816102de81600186016133c8565b602084015260405161115e816102de81600286016133c8565b6040840152015460ff81161515606083015260081c608082015260405191829160208352602083019061326b565b5034610467576040366003190112610467576111a6612e51565b6111ae612e67565b7f342d961f860d5b1c27877a790eff2b213c020d1955a4903d6a9bf3ed590b7cd7602060018060a01b036111f48160008051602061554883398151915254163314613575565b806111ff8587614ae9565b9460405195865216941692a380f35b503461046757604036600319011261046757610dc161123c61122e612e51565b611236612e67565b906149cf565b6040519182916020835260208301906132ca565b5034610467578060031936011261046757546040516001600160a01b039091168152602090f35b503461046757604036600319011261046757611291612e51565b90602435801580158203610a9f576112a98433614d49565b601f81019160ff8354169081611311575b506112d7575b509061054a919060ff801983541691151516179055565b600301549384156112c05760405163faa2387760e01b81523360048201526001600160a01b03909116602482015260448101859052606490fd5b9050386112ba565b5060603660031901126104675761132e612e51565b611336612e67565b60008051602061554883398151915254604435916001600160a01b03916113609083163314613575565b61136a8185614d49565b92801515806114b1575b6113dd575b50816000805160206154a883398151915292604092600460038701966113a03489546137a5565b809855015460ff601f6113b3848b614d49565b015416156113ce575b8451968752602087015216941692a380f35b6113d8828961495c565b6113bc565b601c8401805491969095909485946005820194845b801515806114a8575b1561146f576000190194600161141187896139d8565b500180549098908c811161144e5750908961143b611442936114358c5480926137a5565b9e6137c8565b99556139f4565b985b98949996996113f2565b9b61146081611466939d9b949d6137a5565b9c6137c8565b90558796611444565b50919698509260409450946000805160206154a8833981519152958493985561149d600488019182546137c8565b905592509250611379565b508a15156113fb565b50601c8401541515611374565b50346104675780600319360112610467576114d76148bd565b600080546001600160a01b0319811682556001600160a01b03167f8be0079c531659141344cd1fd0a4f28419497f9722a3daafe3b4186f6b6457e08280a380f35b503461046757606036600319011261046757611532612e51565b6001600160401b03602480358281116108d7576115539036906004016130c3565b92604435818111611a865761156c903690600401613239565b9484158015611a7b575b611a6357611587610fed3383614cd3565b15611a3a57611597903390614d49565b9360078501936115ab6110138684876134a4565b611a1757601e8601968754968761195c575b604051966115ca88613122565b6115d5368689613202565b8852602094858901938452604051976115ed896131ab565b8c895260408a0198895260608a018d8152426001600160f81b031660808c01908152909c909b601411156118df5761163883836116326116499860088654910161479d565b906147fd565b6116428154614223565b90556134a4565b95518051908582116118cc57611669826116638a5461338e565b8a6134f5565b8490601f83116001146118695761169792918c91836107eb5750508160011b916000199060031b1c19161790565b86555b60019081870190518051868111611856576116bf816116b9855461338e565b856134f5565b858c601f83116001146117f957906116eb93836107eb5750508160011b916000199060031b1c19161790565b90555b6002860194519182519485116117e757506117138461170d875461338e565b876134f5565b82601f851160011461177a5750508261176495936003959361174a938b926107eb5750508160011b916000199060031b1c19161790565b90555b0192511515839060ff801983541691151516179055565b51815460ff1660089190911b60ff191617905580f35b91601f94939194198416868b52838b20938b905b8282106117d05750509161176497959391856003989694106117b8575b505050811b01905561174d565b015160001983881b60f8161c191690553880806117ab565b80888697829497870151815501960194019061178e565b634e487b7160e01b8a52604160045289fd5b908593601f198416868452898420935b8a8282106118405750508411611827575b505050811b0190556116ee565b015160001960f88460031b161c1916905538808061181a565b8385015186558997909501949384019301611809565b634e487b7160e01b8c526041600452848cfd5b888c52858c209190601f1984168d5b888282106118b657505090846001959493921061189d575b505050811b01865561169a565b015160001960f88460031b161c19169055388080611890565b6001859682939686015181550195019301611878565b634e487b7160e01b8b526041600452838bfd5b5090919261192b8383611632601d6008860195019461192361191e8a6102de61191961190c8b548761479d565b50604051928380926133c8565b6147ad565b6147d3565b85549061479d565b805460018101809111611949576014900690556116499291906134a4565b634e487b7160e01b8e526011600452868efd5b601488036119fc57601d81015460148101908181116119e9576013019081116119d65761199661190c60146102de93065b6008850161479d565b60ff60036119a48a846147ad565b015416156119b257506115bd565b60405163351b903960e11b8152602060048201529081906108c19082870190612ea0565b634e487b7160e01b8b526011600452838bfd5b634e487b7160e01b8c526011600452848cfd5b60001988018881116119d65761199661190c6102de9261198d565b6108c184604051938493630d947bad60e21b8552602060048601528401916134bd565b60405163023280eb60e21b81526001600160a01b03919091166004820152336024820152604490fd5b604051631ab63c8f60e21b8152600481018690528490fd5b506101008511611576565b8680fd5b50346104675760403660031901126104675761054a611aa7612e51565b611aaf612e67565b90611ad260018060a01b0360008051602061554883398151915254163314613575565b61468f565b5034610467578060031936011261046757602060405168056bc75e2d631000008152f35b50346104675760403660031901126104675760243590811590811580611b7b575b611b62575015611b565750611b4c611b3860325b6004356144e4565b604051928392604084526040840190613000565b9060208301520390f35b611b38611b4c91611b30565b604051635d6b903560e11b815260048101849052602490fd5b5060328311611b1c565b503461046757611b9436612fd6565b92831590811580611bdc575b611bc35750611b4c93611b3893929115611bbd57506032916143a0565b916143a0565b604051635d6b903560e11b815260048101869052602490fd5b5060328511611ba0565b5034610467576040366003190112610467576060611c35611c05612e51565b611c0d612e67565b90611c3060018060a01b0360008051602061554883398151915254163314613575565b6135fb565b9060405192835260208301526040820152f35b5060031960c036820112610ef7576004356001600160401b038111610ef357611c759036906004016130c3565b60248035936001600160401b038511611f0c5760a09085360301126108d757604051611ca081613122565b84600401358152602094828101358683015260448101356040830152606481013560608301526084810135906001600160401b038211611f08576004611ce99236920101613239565b608082015260443594606435151560643503610a9f576001600160401b0360843511611a8657366023608435011215611a86576084356004013591611d2d83613254565b92611d3b60405194856131c6565b80845282840136868360051b608435010111611f04578560843501905b868360051b60843501018210611ecd5750505060a4356001600160a01b03811694858203610a9f57611d893361353c565b5415611e28575034611e16577f9657518f02d23efc8a15c042c006a06464dd791f65394ff87310a287c694946296611dd9611deb92611df8965b6064358c87611dd3368e89613202565b33613a93565b6040519660a0885260a08801916134bd565b9185830390860152612ec5565b9360408301526060820152606435151560808201528033930390a280f35b6040516396ab6ec560e01b8152600490fd5b68056bc75e2d63100000979395969794919294803410611eb05750507f9657518f02d23efc8a15c042c006a06464dd791f65394ff87310a287c694946296959492611dd9611df89593611deb9334611e7f3361353c565b556040513481527fcd6dbb0e62eeb71e114bae8b2e2547921dd19209bebf32b595be3e7d247dbbb4883392a2611dc3565b6040516322df051360e11b81523460048201529182015260449150fd5b8135906001600160401b038211611f0057858091611ef38a948536916084350101613239565b8152019201919050611d58565b8b80fd5b8980fd5b8780fd5b8580fd5b5034610467578060031936011261046757602060405162093a808152f35b503461046757600319602036820112610ef7576001600160401b0360043511610ef75760e0906004353603011261046757611f67613982565b611f7f611f7860c46004350161345e565b3390614d49565b90611f8933614d04565b9160ff601f820154161580156128e5575b80156128d0575b61288a57600281015460646004350135111561283157600381015460a46004350135116127f45760078101611fe761101382611fe1600480350180613472565b906134a4565b156127c257611ffe90611fe1600480350180613472565b92604051612013816102de81600189016133c8565b60208151910120612038612031604460043501600435600401613472565b3691613202565b602081519101200361277c57604051908160e08101106001600160401b0360e0840111176127685760e08201604052600435600401356001600160401b0381116108d75761208d906004369181350101613239565b82526001600160401b036024600435013511612515576120b7366004803560248101350101613239565b6020830152604460043501356001600160401b0381116108d7576120e2906004369181350101613239565b604083015260043560648101356060840152608401356001600160401b0381116108d757612117906004369181350101613239565b608083015260043560a481013560a084015260c401356001600160a01b03811690036125155760c4600435013560c0830152600a01548151516001600160a01b039091169190610100811161275057507530472046696e652d54756e696e672053657276696e6760501b602060405161218f81613190565b601681520152603160f81b60206040516121a881613190565b6001815201526040517f8b73c3c69bb8fe3d512ecc4cf759cc79239f7b179b0ffacaa9a75d522b39400f60208201527fee2d3041cec28b9a0a957f2f0163e12e53119960d5a7d160e2a52db3594161e760408201527fc89efdaa54c0f20c7adf612882df0950f5a951637e0307cdcb4c672f298b8bc660608201524660808201523060a082015260a081528060c08101106001600160401b0360c08301111761264a579060808260c06123329401604052805160208201209060c084516020815191012091602086015160208151910120604087015160208151910120606088015160a08901519160018060a01b03868b0151169360e08601977f62159bda4585d49f24b8da323cfc70b1fbad40f51efbf45e18fe3bdfb409945e89526101008701526101208601526101408501526101608401526101808301526101a082015260e0828201526122fa8282016130f0565b0151902060405190602082019261190160f01b8452602283015260428201526042815261232681613175565b51902091015190614dba565b600581939293101561273c57159182612729575b5050156126e45760a460043501359260ff60038201541660001461267057612378602460043501600435600401613472565b90501561265e57612393602460043501600435600401613472565b906001600160401b03821161264a576123bc826123b3600286015461338e565b600286016134f5565b8490601f83116001146125dd5791806123ed9260029488926125d25750508160011b916000199060031b1c19161790565b9101555b606460043501356002820155600381015460048201549061241282826137c8565b8511612519575b50506124298360038301546137c8565b60038201557f5dcaaa00d1d3fae8cd5d66aceca789aec54970049ac35cb62a7adefca50a68025481546001600160a01b039182169116813b15612515578391604483926040519485938492631bb1482360e31b845260048401528960248401525af1801561250a576124db575b5081808094819360018060a01b038154166004600383015492015460405192835260208301526000805160206154a883398151915260403393a3335af1610ca16135cb565b6001600160401b0381939293116124f6576040529038612496565b634e487b7160e01b82526041600452602482fd5b6040513d85823e3d90fd5b8380fd5b61252f91612529919594956137c8565b836137c8565b908192601c82015490815b801515806125c9575b156125a457600019019186600161255d85600588016139d8565b5001805490969081811161258d57509061257d61258493928854906137c8565b96556139f4565b945b949161253a565b61259b9250979692976137c8565b90558593612586565b509493906125bd929350601c84015560048301546137c8565b60048201553880612419565b50841515612543565b01359050388061072d565b6002840186526020862091865b601f19851681106126325750918391600193600295601f19811610612618575b505050811b019101556123f1565b0135600019600384901b60f8161c1916905538808061260a565b909260206001819286860135815501940191016125ea565b634e487b7160e01b85526041600452602485fd5b604051633c5f0bd160e11b8152600490fd5b509150612687602460043501600435600401613472565b90506126d2576000805160206155688339815191525460043560a401358082029181159183041417156126be5760649004916123f1565b634e487b7160e01b82526011600452602482fd5b604051630db0b8ed60e21b8152600490fd5b606460405163de83c54360e01b815260206004820152602060248201527f54454520736574746c656d656e742076616c69646174696f6e206661696c65646044820152fd5b6001600160a01b03161490503880612346565b634e487b7160e01b85526021600452602485fd5b60249060405190638351b24f60e01b82526004820152fd5b634e487b7160e01b84526041600452602484fd5b60405163de83c54360e01b815260206004820152601860248201527f6d6f64656c20726f6f742068617368206d69736d6174636800000000000000006044820152606490fd5b6127d0600480350180613472565b6108c1604051928392635e835ecb60e11b84526020600485015260248401916134bd565b60405163de83c54360e01b8152602060048201526014602482015273696e73756666696369656e742062616c616e636560601b6044820152606490fd5b60405163de83c54360e01b815260206004820152602a60248201527f6e6f6e63652073686f756c64206c6172676572207468616e207468652063757260448201526972656e74206e6f6e636560b01b6064820152608490fd5b60405163de83c54360e01b815260206004820152601b60248201527f544545207369676e6572206e6f742061636b6e6f776c656467656400000000006044820152606490fd5b50600a8301546001600160a01b031615611fa1565b5060ff600a84015460a01c1615611f9a565b50346104675760403660031901126104675760206004612926612918612e51565b612920612e67565b90614d49565b0154604051908152f35b50346104675780600319360112610467576000805160206155a8833981519152549061295b82613254565b9161296960405193846131c6565b80835261297581613254565b601f1901825b818110612b8d57505081905b8082106129f55750506040519182916020830160208452825180915260408401602060408360051b870101940192905b8282106129c657505050500390f35b919360019193955060206129e58192603f198a82030186528851612f03565b96019201920185949391926129b7565b817f77917d6bf58cf8a823bfa7d4ec2e8e69c671d0dfb7928e32bdccd572fc9606e9949294015483526000805160206155888339815191526020526040832093604051612a41816130f0565b85546001600160a01b03168152604051612a62816102de8160018b016133c8565b6020820152604051612a7381613122565b60028701548152600387015460208201526004870154604082015260058701546060908183015260405191612ab683612aaf8160068d016133c8565b03846131c6565b60809283820152604084015260078801549083015260ff6008880154161515908201526009860195865490612aea82613254565b91612af860405193846131c6565b80835260208301988852602088209888905b828210612b665750505060a083810192909252600a01546001600160a01b03811660c0840152901c60ff16151560e082015293945091929091600191612b5082866137d5565b52612b5b81856137d5565b500190929192612987565b6001602081926102de612b7f8f604051928380926133c8565b8152019b0191019099612b0a565b602090612b9b959495613327565b8282870101520193929361297b565b503461046757612bb936612fd6565b92831590811580612be8575b611bc35750611b4c93611b3893929115612be257506032916137ff565b916137ff565b5060328511612bc5565b503461046757602080600319360112610ef757612c1e612c10612e51565b612c18613327565b50614d04565b9160405192612c2c846130f0565b60018060a01b03918282541685526001604051612c50816102de81600188016133c8565b85870152604051612c6081613122565b600284015481526003840154868201526004840154604082015260058401546060820152604051612c98816102de81600689016133c8565b608082015260408701526007830154606087015260ff6008840154161515608087015260098301805490612ccb82613254565b93612cd960405195866131c6565b828552908152868120878086015b848410612d225760a0808c01889052600a890154808b1660c08e0152901c60ff16151560e08c015260405182815280610dc18185018e612f03565b85918291604051612d37816102de81896133c8565b8152019201920191908890612ce7565b5034610467578060031936011261046757602060008051602061556883398151915254604051908152f35b503461046757806003193601126104675760ff6020915460a01c166040519015158152f35b5034610467576040366003190112610467576020612dc7610fed612db9612e51565b612dc1612e67565b90614cd3565b6040519015158152f35b503461046757806003193601126104675760206000805160206154c883398151915254604051908152f35b905034610ef7576020366003190112610ef75760043563ffffffff60e01b8116809103610ef3576020925063160841b160e01b8114908115612e40575b5015158152f35b6301ffc9a760e01b14905038612e39565b600435906001600160a01b0382168203610a9f57565b602435906001600160a01b0382168203610a9f57565b60005b838110612e905750506000910152565b8181015183820152602001612e80565b90602091612eb981518092818552858086019101612e7d565b601f01601f1916010190565b9060a06080612f0093805184526020810151602085015260408101516040850152606081015160608501520151918160808201520190612ea0565b90565b906101009160018060a01b03808251168352612f42612f3060209586850151908088880152860190612ea0565b60408401518582036040870152612ec5565b6060830151606085015260808301511515608085015260a08301519484820360a08601528551908183528083019281808460051b8301019801936000915b848310612fa8575050505050508160e0929160c0849301511660c08501520151151591015290565b9091929394988480612fc6600193601f198682030187528d51612ea0565b9b01930193019194939290612f80565b6060906003190112610a9f576004356001600160a01b0381168103610a9f57906024359060443590565b908082519081815260208091019281808460051b8301019501936000915b84831061302e5750505050505090565b9091929394958480600192601f19858203018652895190613092610120868060a01b0380855116845285850151168584015260408085015190840152606080850151908401526080808501519084015260a090808286015192850152830190612ea0565b9160c0808201519083015260e08082015190830152610100809101511515910152980193019301919493929061301e565b9181601f84011215610a9f578235916001600160401b038311610a9f5760208381860195010111610a9f57565b61010081019081106001600160401b0382111761310c57604052565b634e487b7160e01b600052604160045260246000fd5b60a081019081106001600160401b0382111761310c57604052565b61012081019081106001600160401b0382111761310c57604052565b61018081019081106001600160401b0382111761310c57604052565b608081019081106001600160401b0382111761310c57604052565b604081019081106001600160401b0382111761310c57604052565b602081019081106001600160401b0382111761310c57604052565b90601f801991011681019081106001600160401b0382111761310c57604052565b6001600160401b03811161310c57601f01601f191660200190565b92919261320e826131e7565b9161321c60405193846131c6565b829481845281830111610a9f578281602093846000960137010152565b9080601f83011215610a9f57816020612f0093359101613202565b6001600160401b03811161310c5760051b60200190565b9060806132ab613299613287855160a0865260a0860190612ea0565b60208601518582036020870152612ea0565b60408501518482036040860152612ea0565b606080850151151590840152928101516001600160f81b031691015290565b90808251908181526020809101926020808460051b8301019501936000915b8483106132f95750505050505090565b9091929394958480613317600193601f198682030187528a5161326b565b98019301930191949392906132e9565b60405190613334826130f0565b8160e06000918281526060602082015260405161335081613122565b838152836020820152836040820152836060820152606060808201526040820152826060820152826080820152606060a08201528260c08201520152565b90600182811c921680156133be575b60208310146133a857565b634e487b7160e01b600052602260045260246000fd5b91607f169161339d565b8054600093926133d78261338e565b9182825260209360019160018116908160001461343f57506001146133fe575b5050505050565b90939495506000929192528360002092846000945b83861061342b575050505001019038808080806133f7565b805485870183015294019385908201613413565b60ff19168685015250505090151560051b0101915038808080806133f7565b356001600160a01b0381168103610a9f5790565b903590601e1981360301821215610a9f57018035906001600160401b038211610a9f57602001918136038313610a9f57565b6020919283604051948593843782019081520301902090565b908060209392818452848401376000828201840152601f01601f1916010190565b8181106134e9575050565b600081556001016134de565b9190601f811161350457505050565b613530926000526020600020906020601f840160051c83019310613532575b601f0160051c01906134de565b565b9091508190613523565b6001600160a01b031660009081527f5dcaaa00d1d3fae8cd5d66aceca789aec54970049ac35cb62a7adefca50a680c6020526040902090565b1561357c57565b60405162461bcd60e51b815260206004820152602160248201527f43616c6c6572206973206e6f7420746865206c656467657220636f6e747261636044820152601d60fa1b6064820152608490fd5b3d156135f6573d906135dc826131e7565b916135ea60405193846131c6565b82523d6000602084013e565b606090565b91906136176000805160206154c8833981519152548285614232565b9194909391928484871561367c5750506000805160206154a8833981519152604060018060a01b038082519489865288602087015216941692a3600080808087335af16136626135cb565b501561366a57565b6040516315e98f9160e01b8152600490fd5b6000975090955093505050565b6040519061369682613122565b60006080836060815260606020820152606060408201528260608201520152565b604051906136c482613159565b81610160600091828152826020820152826040820152826060820152826080820152606060a0820152606060c0820152606060e08201528261010082015282610120820152826101408201520152565b9061371e82613254565b60409061372e60405191826131c6565b838152809361373f601f1991613254565b019160005b8381106137515750505050565b602090825161375f8161313d565b600081528260008183015260008583015260606000818401526000608084015260a0830152600060c0830152600060e08301526000610100830152828601015201613744565b919082018092116137b257565b634e487b7160e01b600052601160045260246000fd5b919082039182116137b257565b80518210156137e95760209160051b010190565b634e487b7160e01b600052603260045260246000fd5b6001600160a01b0390811660009081527f5dcaaa00d1d3fae8cd5d66aceca789aec54970049ac35cb62a7adefca50a6806602090815260408083208054979690939291908887101561396a578061395b5750875b86898211613953575b613865916137c8565b9361386f85613714565b96845b8681106138855750505050505050509190565b806138ff61389d6138978b94866137a5565b86615022565b9054600391821b1c89526000805160206154e8833981519152885287878a2091600661392087855416948b6001998a830154169460028301549083015490600484015492601c85015497601e8601549960ff601f880154169b83519d8e61313d565b8d528c01528a0152606089015260808801526102de8c5180948193016133c8565b60a085015260c084015260e08301521515610100820152613941828c6137d5565b5261394c818b6137d5565b5001613872565b89915061385c565b61396590876137a5565b613853565b50935050925050519061397c826131ab565b81529190565b600260015414613993576002600155565b60405162461bcd60e51b815260206004820152601f60248201527f5265656e7472616e637947756172643a207265656e7472616e742063616c6c006044820152606490fd5b80548210156137e95760005260206000209060021b0190600090565b80156137b2576000190190565b613a0b815461338e565b9081613a15575050565b81601f60009311600114613a27575055565b908083918252613a46601f60208420940160051c8401600185016134de565b5555565b90600160401b811161310c57815491818155828210613a6857505050565b600052602060002091820191015b818110613a81575050565b80613a8d600192613a01565b01613a76565b90929593949194613aa382614df2565b9182600052600080516020615508833981519152928360205260406000205415613e525750613ad181614df2565b60005260008051602061558883398151915260205260406000209260205260406000205415613e305750600a82019660018060a01b038089541696169685516001600160401b039687821161310c57613b3a82613b31600189015461338e565b600189016134f5565b602090601f8311600114613dbd579180613b6e92608095946000926107eb5750508160011b916000199060031b1c19161790565b60018601555b80516002860155602081015160038601556040810151600486015560608101516005860155015180519086821161310c57613bbf82613bb6600688015461338e565b600688016134f5565b602090601f8311600114613d4557826009969593613c189593613bf8936000926107eb5750508160011b916000199060031b1c19161790565b60068501555b6007840155600883019060ff801983541691151516179055565b016020825192613c288484613a4a565b019060005260206000206000915b838310613c7057505050505081835491816001600160601b0360a01b841617855503613c6157505050565b6001600160a81b031916179055565b805180519086821161310c57613c9082613c8a865461338e565b866134f5565b602090601f8311600114613cd75792613cc8836001959460209487966000926107eb5750508160011b916000199060031b1c19161790565b85555b01920192019190613c36565b90601f198316918560005260206000209260005b818110613d2d5750936020936001969387969383889510613d14575b505050811b018555613ccb565b015160001960f88460031b161c19169055388080613d07565b92936020600181928786015181550195019301613ceb565b906006860160005260206000209160005b601f1985168110613da5575092613c189492600192600998979583601f19811610613d8c575b505050811b016006850155613bfe565b015160001960f88460031b161c19169055388080613d7c565b91926020600181928685015181550194019201613d56565b906001870160005260206000209160005b601f1985168110613e18575091839160019360809695601f19811610613dff575b505050811b016001860155613b74565b015160001960f88460031b161c19169055388080613def565b91926020600181928685015181550194019201613dce565b6040516304c76d3f60e11b81526001600160a01b039091166004820152602490fd5b96909594989791925060405195613e68876130f0565b60018060a01b0316865260208601988952604086015260608501521515608084015260a083015260018060a01b031660c0820152600060e08201528160005260008051602061558883398151915260205260406000209360018060a01b038251166001600160601b0360a01b865416178555518051906001600160401b03821161310c57613efd82613b31600189015461338e565b602090601f83116001146141b157613f2d9291600091836107eb5750508160011b916000199060031b1c19161790565b60018501555b608060408201518051600287015560208101516003870155604081015160048701556060810151600587015501518051906001600160401b03821161310c57613f8c82613f83600689015461338e565b600689016134f5565b602090601f831160011461413f57613fbc9291600091836107eb5750508160011b916000199060031b1c19161790565b60068501555b60608101516007850155613feb60808201511515600886019060ff801983541691151516179055565b6009840160a082015160208151916140038385613a4a565b01916000526020600020916000905b8282106140635750505050600a6140609394019060018060a01b0360c08201511682549160e060ff60a01b910151151560a01b16916affffffffffffffffffffff60a81b16171790556153bf565b50565b80518051906001600160401b03821161310c5761408a82614084885461338e565b886134f5565b602090601f83116001146140d157926140c2836001959460209487966000926107eb5750508160011b916000199060031b1c19161790565b87555b01940191019092614012565b90601f198316918760005260206000209260005b818110614127575093602093600196938796938388951061410e575b505050811b0187556140c5565b015160001960f88460031b161c19169055388080614101565b929360206001819287860151815501950193016140e5565b9190600687016000526020600020906000935b601f1984168510614196576001945083601f1981161061417d575b505050811b016006850155613fc2565b015160001960f88460031b161c1916905538808061416d565b81810151835560209485019460019093019290910190614152565b9190600187016000526020600020906000935b601f1984168510614208576001945083601f198116106141ef575b505050811b016001850155613f33565b015160001960f88460031b161c191690553880806141df565b818101518355602094850194600190930192909101906141c4565b60001981146137b25760010190565b9061423c91614d49565b90601c82019283541561438d5760009392936000808093819760058101945b88548a10156143675761426e8a876139d8565b506002808201906142808b83546137a5565b42106142a157505060019182614298920154906137a5565b995b019861425b565b90969160019c99939c916142ba838301948554906137a5565b98858c036142d9575b50505050506142d3600191614223565b9661429a565b6142e3868c6139d8565b9490946143535791839185936142d39795600199970361431a575b5050505050508061430f818a6139d8565b5055913880806142c3565b61434895845486555490850155549083015560ff6003809201541691019060ff801983541691151516179055565b3880808080806142fe565b634e487b7160e01b8a5260048a905260248afd5b985094935095919450505581600460038301926143858785546137c8565b809455015591565b6003830154600490930154600094509150565b6001600160a01b0390811660009081527f5dcaaa00d1d3fae8cd5d66aceca789aec54970049ac35cb62a7adefca50a6807602090815260408083208054979690939291908887101561396a57806144d55750875b868982116144cd575b614406916137c8565b9361441085613714565b96845b8681106144265750505050505050509190565b806138ff6144386138978b94866137a5565b9054600391821b1c89526000805160206154e8833981519152885287878a2091600661449a87855416948b6001998a830154169460028301549083015490600484015492601c85015497601e8601549960ff601f880154169b83519d8e61313d565b60a085015260c084015260e083015215156101008201526144bb828c6137d5565b526144c6818b6137d5565b5001614413565b8991506143fd565b6144df90876137a5565b6143f4565b91600080516020615528833981519152549182841015614625578361450982826137a5565b9115801561461c575b614614575b614520916137c8565b9261452a84613714565b9360009160005b82811061453e5750505050565b61455061454b82846137a5565b614f9c565b919054600392831b1c855260206000805160206154e883398151915281526040908187209160018060a01b039460066145e187865416956102de6001998a8301541695600283015495830154600484015490601c85015497601e8601549960ff601f880154169b85519d8e6145c48161313d565b528d0152838c015260608b015260808a01525180948193016133c8565b60a085015260c084015260e08301521515610100820152614602828a6137d5565b5261460d81896137d5565b5001614531565b839150614517565b50838211614512565b50909150604051614635816131ab565b600081529190565b906146795760036060836135309451845560208101516001850155604081015160028501550151151591019060ff801983541691151516179055565b634e487b7160e01b600052600060045260246000fd5b6146998282614d49565b6003810154926146af60048301948554906137c8565b9182156133f757601c810191825494600586101561477457505060050192835480911060001461472b57506147146147279361470e8354604051926146f384613175565b818452866020850152426040850152600060608501526139d8565b9061463d565b61471e8154614223565b905582546137a5565b9055565b60405161473781613175565b81815283602082015242604082015260006060820152600160401b82101561310c5761470e8261472796600161476f950181556139d8565b614714565b604051639edd285f60e01b81526001600160a01b03918216600482015291166024820152604490fd5b60148210156137e9570190600090565b6020906147c7928260405194838680955193849201612e7d565b82019081520301902090565b60036000916147e181613a01565b6147ed60018201613a01565b6147f960028201613a01565b0155565b91939290614679576001600160401b03811161310c5761482781614821845461338e565b846134f5565b6000601f82116001146148585781906147279394956000926125d25750508160011b916000199060031b1c19161790565b601f19821694838252602091602081209281905b8882106148a55750508360019596971061488b575b505050811b019055565b0135600019600384901b60f8161c19169055388080614881565b8060018496829495870135815501950192019061486c565b6000546001600160a01b031633036148d157565b606460405162461bcd60e51b815260206004820152602060248201527f4f776e61626c653a2063616c6c6572206973206e6f7420746865206f776e65726044820152fd5b600080546001600160a01b039283166001600160a01b03198216811783559216907f8be0079c531659141344cd1fd0a4f28419497f9722a3daafe3b4186f6b6457e09080a3565b906149678183614d49565b90601f82019283549260ff8416806149c7575b61498d575b50505060ff19166001179055565b6003015490811561497f5760405163faa2387760e01b81526001600160a01b03918216600482015292166024830152604482015260649150fd5b50600061497a565b9190916149dc8382614e14565b8051936149e885613254565b926040956149f8875195866131c6565b808552614a07601f1991613254565b0160005b818110614acc57505090614a1e91614d49565b6007019060005b8151811015614ac457614a4283614a3c83856137d5565b516147ad565b908651614a4e81613122565b8751614a5e816102de81876133c8565b815260036001938951614a77816102de818986016133c8565b60208401528951614a8f816102de81600286016133c8565b8a840152015460ff81161515606083015260081c6080820152614ab282876137d5565b52614abd81866137d5565b5001614a25565b509193505050565b602090614ada979597613689565b82828901015201959395614a0b565b90614af48183614cd3565b600091818352600080516020615488833981519152602052604092604081205415614ccb576000805160206154e88339815191526020969596526040812094600393600387019280845494556004948160048a0155601f890160ff19815416905581601c8a01558199601e8a0199601d8101976008820199600783019d5b8d54811015614bba57808f61191e8f918f8f614bb494614ba86102de936014614ba160019b61191996546137a5565b069061479d565b509051928380926133c8565b01614b72565b50949950949950949990959a50878092975555600583019081549187815582614c6e575b505050508493614c68936140609693614bfb600660409501613a01565b6001600160a01b0391821683527f5dcaaa00d1d3fae8cd5d66aceca789aec54970049ac35cb62a7adefca50a6806602052838320614c3a90869061528d565b501681527f5dcaaa00d1d3fae8cd5d66aceca789aec54970049ac35cb62a7adefca50a68076020522061528d565b506151e6565b6002906001600160fe1b0384168403614cb7578852602088209260021b8301925b838110614c9c5750614bde565b80898692558960018201558983820155898482015501614c8f565b634e487b7160e01b89526011600452602489fd5b935050505090565b604080516001600160a01b039283166020820190815293909216828201528152614cfe6060826131c6565b51902090565b614d0d81614df2565b60005260008051602061558883398151915260205260406000209060008051602061550883398151915260205260406000205415613e30575090565b90614d548183614cd3565b6000526000805160206154e883398151915260205260406000209160008051602061548883398151915260205260406000205415614d9157505090565b60405163023280eb60e21b81526001600160a01b03918216600482015291166024820152604490fd5b906041815114600014614de857614de4916020820151906060604084015193015160001a9061503a565b9091565b5050600090600290565b6040516001600160a01b039091166020808301918252825290614cfe81613190565b614e1e8282614cd3565b9060008281526020936000805160206154e8833981519152602052604092614e4884842095615467565b15614f74575050601e830154908115614f5f57614e6482613254565b94614e71845196876131c6565b828652601f19614e8084613254565b01825b818110614f505750505060149060148310600014614eed5791936008019190505b838110614eb2575050505090565b806102de614ed1614ec56001948661479d565b508651928380926133c8565b614edb82886137d5565b52614ee681876137d5565b5001614ea4565b601d850154929460080192905b858110614f0a5750505050505090565b806102de614f34614f2886614f21600196886137a5565b068861479d565b508851928380926133c8565b614f3e828a6137d5565b52614f4981896137d5565b5001614efa565b60608882018401528201614e83565b93505090505190614f6f826131ab565b815290565b835163023280eb60e21b81526001600160a01b03918216600482015291166024820152604490fd5b60008051602061552883398151915280548210156137e9576000527f4cbb24c014227899980bdc7cfd4fffebe1e9fc3b6d3a9169eb5c47467634f41d0190600090565b6000805160206155a883398151915280548210156137e9576000527f77917d6bf58cf8a823bfa7d4ec2e8e69c671d0dfb7928e32bdccd572fc9606e90190600090565b80548210156137e95760005260206000200190600090565b9291907f7fffffffffffffffffffffffffffffff5d576e7357a4501ddfe92f46681b20a083116150bd5791608094939160ff602094604051948552168484015260408301526060820152600093849182805260015afa156150b05781516001600160a01b038116156150aa579190565b50600190565b50604051903d90823e3d90fd5b50505050600090600390565b600090808252600080516020615508833981519152908160205260408320548015156000146151e05760001990808201908082116151cc576000805160206155a8833981519152918254908482019182116151b85780820361516e575b5050508054801561515a5782019161513d83614fdf565b909182549160031b1b191690555582526020526040812055600190565b634e487b7160e01b86526031600452602486fd5b6151a361517d61518c93614fdf565b90549060031b1c928392614fdf565b819391549060031b91821b91600019901b19161790565b90558652846020526040862055388080615126565b634e487b7160e01b88526011600452602488fd5b634e487b7160e01b86526011600452602486fd5b50505090565b600090808252600080516020615488833981519152908160205260408320548015156000146151e05760001990808201908082116151cc57600080516020615528833981519152918254908482019182116151b85780820361525a575b5050508054801561515a5782019161513d83614f9c565b61527861526961518c93614f9c565b90549060031b1c928392614f9c565b90558652846020526040862055388080615243565b90600182019060009281845282602052604084205490811515600014615331576000199180830181811161531d578254908482019182116151b8578082036152e8575b5050508054801561515a5782019161513d8383615022565b6153086152f861518c9386615022565b90549060031b1c92839286615022565b905586528460205260408620553880806152d0565b634e487b7160e01b87526011600452602487fd5b5050505090565b9060009180835260008051602061548883398151915292836020526040812054156000146153ba5760008051602061552883398151915293845494600160401b8610156153a6578361539661518c886001604098999a018555614f9c565b9055549382526020522055600190565b634e487b7160e01b83526041600452602483fd5b925050565b9060009180835260008051602061550883398151915292836020526040812054156000146153ba576000805160206155a883398151915293845494600160401b8610156153a6578361539661518c886001604098999a018555614fdf565b9190600183016000908282528060205260408220541560001461546157845494600160401b8610156153a6578361539661518c886001604098999a01855584615022565b50925050565b60005260008051602061548883398151915260205260406000205415159056fe5dcaaa00d1d3fae8cd5d66aceca789aec54970049ac35cb62a7adefca50a6804526824944047da5b81071fb6349412005c5da81380b336103fbe5dd34556c7765dcaaa00d1d3fae8cd5d66aceca789aec54970049ac35cb62a7adefca50a68005dcaaa00d1d3fae8cd5d66aceca789aec54970049ac35cb62a7adefca50a68055dcaaa00d1d3fae8cd5d66aceca789aec54970049ac35cb62a7adefca50a68095dcaaa00d1d3fae8cd5d66aceca789aec54970049ac35cb62a7adefca50a68035dcaaa00d1d3fae8cd5d66aceca789aec54970049ac35cb62a7adefca50a68015dcaaa00d1d3fae8cd5d66aceca789aec54970049ac35cb62a7adefca50a680b5dcaaa00d1d3fae8cd5d66aceca789aec54970049ac35cb62a7adefca50a680a5dcaaa00d1d3fae8cd5d66aceca789aec54970049ac35cb62a7adefca50a6808a2646970667358221220879fbcff4a224cf4c91fcf2b1ce6742c9d596b37253c1889675a92784526e63b64736f6c63430008160033",
  "devdoc": {
    "events": {
      "Initialized(uint8)": {
        "details": "Triggered when the contract has been initialized or reinitialized."
      }
    },
    "kind": "dev",
    "methods": {
      "initialize(uint256,address,address,uint256)": {
        "params": {
          "_ledgerAddress": "The address of the ledger contract",
          "_locktime": "The time period for refund locks",
          "_penaltyPercentage": "The penalty percentage for unacknowledged deliverables",
          "owner": "The owner address"
        }
      },
      "owner()": {
        "details": "Returns the address of the current owner."
      },
      "renounceOwnership()": {
        "details": "Leaves the contract without owner. It will not be possible to call `onlyOwner` functions anymore. Can only be called by the current owner. NOTE: Renouncing ownership will leave the contract without an owner, thereby removing any functionality that is only available to the owner."
      },
      "settleFees((string,bytes,bytes,uint256,bytes,uint256,address))": {
        "details": "CRIT-4 FIX: Added nonReentrant modifier to prevent reentrancy attacksGAS-2: Cache storage variables to save ~100 gas",
        "params": {
          "verifierInput": "The verifier input containing signature and deliverable data"
        }
      },
      "supportsInterface(bytes4)": {
        "details": "See {IERC165-supportsInterface}."
      },
      "transferOwnership(address)": {
        "details": "Transfers ownership of the contract to a new account (`newOwner`). Can only be called by the current owner."
      },
      "updateLockTime(uint256)": {
        "details": "MED-5: This change applies immediately to ALL pending refundsThe new lockTime will be used when processing any refund, regardless of when it was createdOwner should exercise caution as this affects users' expectations for refund timingGAS-8: Skip storage write if value unchanged (~2900 gas saved)",
        "params": {
          "_locktime": "The new lock time (must be between MIN_LOCKTIME and MAX_LOCKTIME)"
        }
      },
      "updatePenaltyPercentage(uint256)": {
        "details": "GAS-8: Skip storage write if value unchanged (~2900 gas saved)",
        "params": {
          "_penaltyPercentage": "The new penalty percentage (0-100)"
        }
      }
    },
    "version": 1
  },
  "userdoc": {
    "kind": "user",
    "methods": {
      "initialize(uint256,address,address,uint256)": {
        "notice": "Initializes the contract with locktime and ledger address"
      },
      "settleFees((string,bytes,bytes,uint256,bytes,uint256,address))": {
        "notice": "Settles fees for a completed deliverable with TEE signature verification"
      },
      "updateLockTime(uint256)": {
        "notice": "Updates the lock time for refunds"
      },
      "updatePenaltyPercentage(uint256)": {
        "notice": "Updates the penalty percentage for unacknowledged deliverables"
      }
    },
    "version": 1
  },
  "storageLayout": {
    "storage": [
      {
        "astId": 7,
        "contract": "contracts/fine-tuning/FineTuningServing.sol:FineTuningServing",
        "label": "_owner",
        "offset": 0,
        "slot": "0",
        "type": "t_address"
      },
      {
        "astId": 11147,
        "contract": "contracts/fine-tuning/FineTuningServing.sol:FineTuningServing",
        "label": "initialized",
        "offset": 20,
        "slot": "0",
        "type": "t_bool"
      },
      {
        "astId": 11150,
        "contract": "contracts/fine-tuning/FineTuningServing.sol:FineTuningServing",
        "label": "_initializationLocked",
        "offset": 21,
        "slot": "0",
        "type": "t_bool"
      },
      {
        "astId": 123,
        "contract": "contracts/fine-tuning/FineTuningServing.sol:FineTuningServing",
        "label": "_status",
        "offset": 0,
        "slot": "1",
        "type": "t_uint256"
      }
    ],
    "types": {
      "t_address": {
        "encoding": "inplace",
        "label": "address",
        "numberOfBytes": "20"
      },
      "t_bool": {
        "encoding": "inplace",
        "label": "bool",
        "numberOfBytes": "1"
      },
      "t_uint256": {
        "encoding": "inplace",
        "label": "uint256",
        "numberOfBytes": "32"
      }
    }
  }
}